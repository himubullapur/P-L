function yx(i,t){for(var e=0;e<t.length;e++){const s=t[e];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in i)){const l=Object.getOwnPropertyDescriptor(s,r);l&&Object.defineProperty(i,r,l.get?l:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function Nb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function ro(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var t=i.default;if(typeof t=="function"){var e=function s(){var r=!1;try{r=this instanceof s}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var r=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:function(){return i[s]}})}),e}var Yh={exports:{}},Rr={};var b0;function bx(){if(b0)return Rr;b0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:i,type:s,key:c,ref:r!==void 0?r:null,props:l}}return Rr.Fragment=t,Rr.jsx=e,Rr.jsxs=e,Rr}var v0;function vx(){return v0||(v0=1,Yh.exports=bx()),Yh.exports}var M=vx(),Gh={exports:{}},yt={};var _0;function _x(){if(_0)return yt;_0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function O(A,H,F){this.props=A,this.context=H,this.refs=E,this.updater=F||w}O.prototype.isReactComponent={},O.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},O.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function j(){}j.prototype=O.prototype;function D(A,H,F){this.props=A,this.context=H,this.refs=E,this.updater=F||w}var I=D.prototype=new j;I.constructor=D,x(I,O.prototype),I.isPureReactComponent=!0;var $=Array.isArray;function Q(){}var q={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function k(A,H,F){var tt=F.ref;return{$$typeof:i,type:A,key:H,ref:tt!==void 0?tt:null,props:F}}function z(A,H){return k(A.type,H,A.props)}function X(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function K(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(F){return H[F]})}var it=/\/+/g;function dt(A,H){return typeof A=="object"&&A!==null&&A.key!=null?K(""+A.key):H.toString(36)}function ut(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Q,Q):(A.status="pending",A.then(function(H){A.status==="pending"&&(A.status="fulfilled",A.value=H)},function(H){A.status==="pending"&&(A.status="rejected",A.reason=H)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function L(A,H,F,tt,nt){var rt=typeof A;(rt==="undefined"||rt==="boolean")&&(A=null);var bt=!1;if(A===null)bt=!0;else switch(rt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(A.$$typeof){case i:case t:bt=!0;break;case m:return bt=A._init,L(bt(A._payload),H,F,tt,nt)}}if(bt)return nt=nt(A),bt=tt===""?"."+dt(A,0):tt,$(nt)?(F="",bt!=null&&(F=bt.replace(it,"$&/")+"/"),L(nt,H,F,"",function($t){return $t})):nt!=null&&(X(nt)&&(nt=z(nt,F+(nt.key==null||A&&A.key===nt.key?"":(""+nt.key).replace(it,"$&/")+"/")+bt)),H.push(nt)),1;bt=0;var gt=tt===""?".":tt+":";if($(A))for(var ht=0;ht<A.length;ht++)tt=A[ht],rt=gt+dt(tt,ht),bt+=L(tt,H,F,rt,nt);else if(ht=_(A),typeof ht=="function")for(A=ht.call(A),ht=0;!(tt=A.next()).done;)tt=tt.value,rt=gt+dt(tt,ht++),bt+=L(tt,H,F,rt,nt);else if(rt==="object"){if(typeof A.then=="function")return L(ut(A),H,F,tt,nt);throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return bt}function Y(A,H,F){if(A==null)return A;var tt=[],nt=0;return L(A,tt,"","",function(rt){return H.call(F,rt,nt++)}),tt}function et(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(F){(A._status===0||A._status===-1)&&(A._status=1,A._result=F)},function(F){(A._status===0||A._status===-1)&&(A._status=2,A._result=F)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var Z=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ft={map:Y,forEach:function(A,H,F){Y(A,function(){H.apply(this,arguments)},F)},count:function(A){var H=0;return Y(A,function(){H++}),H},toArray:function(A){return Y(A,function(H){return H})||[]},only:function(A){if(!X(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return yt.Activity=y,yt.Children=ft,yt.Component=O,yt.Fragment=e,yt.Profiler=r,yt.PureComponent=D,yt.StrictMode=s,yt.Suspense=d,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,yt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return q.H.useMemoCache(A)}},yt.cache=function(A){return function(){return A.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(A,H,F){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var tt=x({},A.props),nt=A.key;if(H!=null)for(rt in H.key!==void 0&&(nt=""+H.key),H)!T.call(H,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&H.ref===void 0||(tt[rt]=H[rt]);var rt=arguments.length-2;if(rt===1)tt.children=F;else if(1<rt){for(var bt=Array(rt),gt=0;gt<rt;gt++)bt[gt]=arguments[gt+2];tt.children=bt}return k(A.type,nt,tt)},yt.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},yt.createElement=function(A,H,F){var tt,nt={},rt=null;if(H!=null)for(tt in H.key!==void 0&&(rt=""+H.key),H)T.call(H,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(nt[tt]=H[tt]);var bt=arguments.length-2;if(bt===1)nt.children=F;else if(1<bt){for(var gt=Array(bt),ht=0;ht<bt;ht++)gt[ht]=arguments[ht+2];nt.children=gt}if(A&&A.defaultProps)for(tt in bt=A.defaultProps,bt)nt[tt]===void 0&&(nt[tt]=bt[tt]);return k(A,rt,nt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(A){return{$$typeof:h,render:A}},yt.isValidElement=X,yt.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:et}},yt.memo=function(A,H){return{$$typeof:f,type:A,compare:H===void 0?null:H}},yt.startTransition=function(A){var H=q.T,F={};q.T=F;try{var tt=A(),nt=q.S;nt!==null&&nt(F,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Q,Z)}catch(rt){Z(rt)}finally{H!==null&&F.types!==null&&(H.types=F.types),q.T=H}},yt.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},yt.use=function(A){return q.H.use(A)},yt.useActionState=function(A,H,F){return q.H.useActionState(A,H,F)},yt.useCallback=function(A,H){return q.H.useCallback(A,H)},yt.useContext=function(A){return q.H.useContext(A)},yt.useDebugValue=function(){},yt.useDeferredValue=function(A,H){return q.H.useDeferredValue(A,H)},yt.useEffect=function(A,H){return q.H.useEffect(A,H)},yt.useEffectEvent=function(A){return q.H.useEffectEvent(A)},yt.useId=function(){return q.H.useId()},yt.useImperativeHandle=function(A,H,F){return q.H.useImperativeHandle(A,H,F)},yt.useInsertionEffect=function(A,H){return q.H.useInsertionEffect(A,H)},yt.useLayoutEffect=function(A,H){return q.H.useLayoutEffect(A,H)},yt.useMemo=function(A,H){return q.H.useMemo(A,H)},yt.useOptimistic=function(A,H){return q.H.useOptimistic(A,H)},yt.useReducer=function(A,H,F){return q.H.useReducer(A,H,F)},yt.useRef=function(A){return q.H.useRef(A)},yt.useState=function(A){return q.H.useState(A)},yt.useSyncExternalStore=function(A,H,F){return q.H.useSyncExternalStore(A,H,F)},yt.useTransition=function(){return q.H.useTransition()},yt.version="19.2.3",yt}var w0;function Kd(){return w0||(w0=1,Gh.exports=_x()),Gh.exports}var xt=Kd(),Kh={exports:{}},Cr={},Xh={exports:{}},Wh={};var S0;function wx(){return S0||(S0=1,(function(i){function t(L,Y){var et=L.length;L.push(Y);t:for(;0<et;){var Z=et-1>>>1,ft=L[Z];if(0<r(ft,Y))L[Z]=Y,L[et]=ft,et=Z;else break t}}function e(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var Y=L[0],et=L.pop();if(et!==Y){L[0]=et;t:for(var Z=0,ft=L.length,A=ft>>>1;Z<A;){var H=2*(Z+1)-1,F=L[H],tt=H+1,nt=L[tt];if(0>r(F,et))tt<ft&&0>r(nt,F)?(L[Z]=nt,L[tt]=et,Z=tt):(L[Z]=F,L[H]=et,Z=H);else if(tt<ft&&0>r(nt,et))L[Z]=nt,L[tt]=et,Z=tt;else break t}}return Y}function r(L,Y){var et=L.sortIndex-Y.sortIndex;return et!==0?et:L.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var d=[],f=[],m=1,y=null,b=3,_=!1,w=!1,x=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function I(L){for(var Y=e(f);Y!==null;){if(Y.callback===null)s(f);else if(Y.startTime<=L)s(f),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=e(f)}}function $(L){if(x=!1,I(L),!w)if(e(d)!==null)w=!0,Q||(Q=!0,K());else{var Y=e(f);Y!==null&&ut($,Y.startTime-L)}}var Q=!1,q=-1,T=5,k=-1;function z(){return E?!0:!(i.unstable_now()-k<T)}function X(){if(E=!1,Q){var L=i.unstable_now();k=L;var Y=!0;try{t:{w=!1,x&&(x=!1,j(q),q=-1),_=!0;var et=b;try{e:{for(I(L),y=e(d);y!==null&&!(y.expirationTime>L&&z());){var Z=y.callback;if(typeof Z=="function"){y.callback=null,b=y.priorityLevel;var ft=Z(y.expirationTime<=L);if(L=i.unstable_now(),typeof ft=="function"){y.callback=ft,I(L),Y=!0;break e}y===e(d)&&s(d),I(L)}else s(d);y=e(d)}if(y!==null)Y=!0;else{var A=e(f);A!==null&&ut($,A.startTime-L),Y=!1}}break t}finally{y=null,b=et,_=!1}Y=void 0}}finally{Y?K():Q=!1}}}var K;if(typeof D=="function")K=function(){D(X)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,dt=it.port2;it.port1.onmessage=X,K=function(){dt.postMessage(null)}}else K=function(){O(X,0)};function ut(L,Y){q=O(function(){L(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(L){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var et=b;b=Y;try{return L()}finally{b=et}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var et=b;b=L;try{return Y()}finally{b=et}},i.unstable_scheduleCallback=function(L,Y,et){var Z=i.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?Z+et:Z):et=Z,L){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=et+ft,L={id:m++,callback:Y,priorityLevel:L,startTime:et,expirationTime:ft,sortIndex:-1},et>Z?(L.sortIndex=et,t(f,L),e(d)===null&&L===e(f)&&(x?(j(q),q=-1):x=!0,ut($,et-Z))):(L.sortIndex=ft,t(d,L),w||_||(w=!0,Q||(Q=!0,K()))),L},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(L){var Y=b;return function(){var et=b;b=Y;try{return L.apply(this,arguments)}finally{b=et}}}})(Wh)),Wh}var x0;function Sx(){return x0||(x0=1,Xh.exports=wx()),Xh.exports}var Qh={exports:{}},je={};var E0;function xx(){if(E0)return je;E0=1;var i=Kd();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(d,f,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:f,implementation:m}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(d,f,null,m)},je.flushSync=function(d){var f=c.T,m=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=f,s.p=m,s.d.f()}},je.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(d,f))},je.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},je.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,y=h(m,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?s.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):m==="script"&&s.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},je.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=h(f.as,f.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(d)},je.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,y=h(m,f.crossOrigin);s.d.L(d,m,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},je.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=h(f.as,f.crossOrigin);s.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(d)},je.requestFormReset=function(d){s.d.r(d)},je.unstable_batchedUpdates=function(d,f){return d(f)},je.useFormState=function(d,f,m){return c.H.useFormState(d,f,m)},je.useFormStatus=function(){return c.H.useHostTransitionStatus()},je.version="19.2.3",je}var T0;function Ex(){if(T0)return Qh.exports;T0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Qh.exports=xx(),Qh.exports}var O0;function Tx(){if(O0)return Cr;O0=1;var i=Sx(),t=Kd(),e=Ex();function s(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var a=n,o=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(o=a.return),n=a.return;while(n)}return a.tag===3?o:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function f(n){var a=n.alternate;if(!a){if(a=l(n),a===null)throw Error(s(188));return a!==n?null:n}for(var o=n,u=a;;){var g=o.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===o)return d(g),n;if(p===u)return d(g),a;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=g,u=p;else{for(var v=!1,S=g.child;S;){if(S===o){v=!0,o=g,u=p;break}if(S===u){v=!0,u=g,o=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===o){v=!0,o=p,u=g;break}if(S===u){v=!0,u=p,o=g;break}S=S.sibling}if(!v)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:a}function m(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=m(n),a!==null)return a;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),D=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function K(n){return n===null||typeof n!="object"?null:(n=X&&n[X]||n["@@iterator"],typeof n=="function"?n:null)}var it=Symbol.for("react.client.reference");function dt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===it?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case O:return"Profiler";case E:return"StrictMode";case $:return"Suspense";case Q:return"SuspenseList";case k:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case D:return n.displayName||"Context";case j:return(n._context.displayName||"Context")+".Consumer";case I:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return a=n.displayName||null,a!==null?a:dt(n.type)||"Memo";case T:a=n._payload,n=n._init;try{return dt(n(a))}catch{}}return null}var ut=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},Z=[],ft=-1;function A(n){return{current:n}}function H(n){0>ft||(n.current=Z[ft],Z[ft]=null,ft--)}function F(n,a){ft++,Z[ft]=n.current,n.current=a}var tt=A(null),nt=A(null),rt=A(null),bt=A(null);function gt(n,a){switch(F(rt,a),F(nt,n),F(tt,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?qm(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=qm(a),n=Im(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}H(tt),F(tt,n)}function ht(){H(tt),H(nt),H(rt)}function $t(n){n.memoizedState!==null&&F(bt,n);var a=tt.current,o=Im(a,n.type);a!==o&&(F(nt,n),F(tt,o))}function vt(n){nt.current===n&&(H(tt),H(nt)),bt.current===n&&(H(bt),Tr._currentValue=et)}var Vt,oe;function Dt(n){if(Vt===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Vt=a&&a[1]||"",oe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vt+n+oe}var jt=!1;function wt(n,a){if(!n||jt)return"";jt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var P=V}Reflect.construct(n,[],J)}else{try{J.call()}catch(V){P=V}n.call(J.prototype)}}else{try{throw Error()}catch(V){P=V}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&P&&typeof V.stack=="string")return[V.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),v=p[0],S=p[1];if(v&&S){var R=v.split(`
`),B=S.split(`
`);for(g=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;g<B.length&&!B[g].includes("DetermineComponentFrameRoot");)g++;if(u===R.length||g===B.length)for(u=R.length-1,g=B.length-1;1<=u&&0<=g&&R[u]!==B[g];)g--;for(;1<=u&&0<=g;u--,g--)if(R[u]!==B[g]){if(u!==1||g!==1)do if(u--,g--,0>g||R[u]!==B[g]){var G=`
`+R[u].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=u&&0<=g);break}}}finally{jt=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Dt(o):""}function we(n,a){switch(n.tag){case 26:case 27:case 5:return Dt(n.type);case 16:return Dt("Lazy");case 13:return n.child!==a&&a!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return wt(n.type,!1);case 11:return wt(n.type.render,!1);case 1:return wt(n.type,!0);case 31:return Dt("Activity");default:return""}}function Mt(n){try{var a="",o=null;do a+=we(n,o),o=n,n=n.return;while(n);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ft=Object.prototype.hasOwnProperty,ie=i.unstable_scheduleCallback,jn=i.unstable_cancelCallback,cn=i.unstable_shouldYield,Wi=i.unstable_requestPaint,Ut=i.unstable_now,un=i.unstable_getCurrentPriorityLevel,le=i.unstable_ImmediatePriority,Ee=i.unstable_UserBlockingPriority,Pe=i.unstable_NormalPriority,La=i.unstable_LowPriority,Ua=i.unstable_IdlePriority,yi=i.log,hn=i.unstable_setDisableYieldValue,Tn=null,De=null;function bi(n){if(typeof yi=="function"&&hn(n),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Tn,n)}catch{}}var Je=Math.clz32?Math.clz32:iw,ew=Math.log,nw=Math.LN2;function iw(n){return n>>>=0,n===0?32:31-(ew(n)/nw|0)|0}var ho=256,fo=262144,go=4194304;function Qi(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function po(n,a,o){var u=n.pendingLanes;if(u===0)return 0;var g=0,p=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=Qi(u):(v&=S,v!==0?g=Qi(v):o||(o=S&~n,o!==0&&(g=Qi(o))))):(S=u&~p,S!==0?g=Qi(S):v!==0?g=Qi(v):o||(o=u&~n,o!==0&&(g=Qi(o)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:g}function Ba(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function sw(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sf(){var n=go;return go<<=1,(go&62914560)===0&&(go=4194304),n}function Nc(n){for(var a=[],o=0;31>o;o++)a.push(n);return a}function Ha(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function aw(n,a,o,u,g,p){var v=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var S=n.entanglements,R=n.expirationTimes,B=n.hiddenUpdates;for(o=v&~o;0<o;){var G=31-Je(o),J=1<<G;S[G]=0,R[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var V=P[G];V!==null&&(V.lane&=-536870913)}o&=~J}u!==0&&xf(n,u,0),p!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=p&~(v&~a))}function xf(n,a,o){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Je(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Ef(n,a){var o=n.entangledLanes|=a;for(n=n.entanglements;o;){var u=31-Je(o),g=1<<u;g&a|n[u]&a&&(n[u]|=a),o&=~g}}function Tf(n,a){var o=a&-a;return o=(o&42)!==0?1:zc(o),(o&(n.suspendedLanes|a))!==0?0:o}function zc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Lc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Of(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:h0(n.type))}function Af(n,a){var o=Y.p;try{return Y.p=n,a()}finally{Y.p=o}}var vi=Math.random().toString(36).slice(2),Te="__reactFiber$"+vi,qe="__reactProps$"+vi,js="__reactContainer$"+vi,Uc="__reactEvents$"+vi,rw="__reactListeners$"+vi,ow="__reactHandles$"+vi,kf="__reactResources$"+vi,Pa="__reactMarker$"+vi;function Bc(n){delete n[Te],delete n[qe],delete n[Uc],delete n[rw],delete n[ow]}function Ns(n){var a=n[Te];if(a)return a;for(var o=n.parentNode;o;){if(a=o[js]||o[Te]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(n=Xm(n);n!==null;){if(o=n[Te])return o;n=Xm(n)}return a}n=o,o=n.parentNode}return null}function zs(n){if(n=n[Te]||n[js]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function qa(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(s(33))}function Ls(n){var a=n[kf];return a||(a=n[kf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Se(n){n[Pa]=!0}var Rf=new Set,Cf={};function Ji(n,a){Us(n,a),Us(n+"Capture",a)}function Us(n,a){for(Cf[n]=a,n=0;n<a.length;n++)Rf.add(a[n])}var lw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mf={},Df={};function cw(n){return Ft.call(Df,n)?!0:Ft.call(Mf,n)?!1:lw.test(n)?Df[n]=!0:(Mf[n]=!0,!1)}function mo(n,a,o){if(cw(a))if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+o)}}function yo(n,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+o)}}function $n(n,a,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(a,o,""+u)}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function jf(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function uw(n,a,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return g.call(this)},set:function(v){o=""+v,p.call(this,v)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Hc(n){if(!n._valueTracker){var a=jf(n)?"checked":"value";n._valueTracker=uw(n,a,""+n[a])}}function Nf(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return n&&(u=jf(n)?n.checked?"true":"false":n.value),n=u,n!==o?(a.setValue(n),!0):!1}function bo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var hw=/[\n"\\]/g;function fn(n){return n.replace(hw,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Pc(n,a,o,u,g,p,v,S){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),a!=null?v==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+dn(a)):n.value!==""+dn(a)&&(n.value=""+dn(a)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),a!=null?qc(n,v,dn(a)):o!=null?qc(n,v,dn(o)):u!=null&&n.removeAttribute("value"),g==null&&p!=null&&(n.defaultChecked=!!p),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+dn(S):n.removeAttribute("name")}function zf(n,a,o,u,g,p,v,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Hc(n);return}o=o!=null?""+dn(o):"",a=a!=null?""+dn(a):o,S||a===n.value||(n.value=a),n.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Hc(n)}function qc(n,a,o){a==="number"&&bo(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Bs(n,a,o,u){if(n=n.options,a){a={};for(var g=0;g<o.length;g++)a["$"+o[g]]=!0;for(o=0;o<n.length;o++)g=a.hasOwnProperty("$"+n[o].value),n[o].selected!==g&&(n[o].selected=g),g&&u&&(n[o].defaultSelected=!0)}else{for(o=""+dn(o),a=null,g=0;g<n.length;g++){if(n[g].value===o){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}a!==null||n[g].disabled||(a=n[g])}a!==null&&(a.selected=!0)}}function Lf(n,a,o){if(a!=null&&(a=""+dn(a),a!==n.value&&(n.value=a),o==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=o!=null?""+dn(o):""}function Uf(n,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(s(92));if(ut(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=dn(a),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Hc(n)}function Hs(n,a){if(a){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=a;return}}n.textContent=a}var dw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bf(n,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,o):typeof o!="number"||o===0||dw.has(a)?a==="float"?n.cssFloat=o:n[a]=(""+o).trim():n[a]=o+"px"}function Hf(n,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&o[g]!==u&&Bf(n,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Bf(n,p,a[p])}function Ic(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(n){return gw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Vn(){}var $c=null;function Vc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ps=null,qs=null;function Pf(n){var a=zs(n);if(a&&(n=a.stateNode)){var o=n[qe]||null;t:switch(n=a.stateNode,a.type){case"input":if(Pc(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+fn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==n&&u.form===n.form){var g=u[qe]||null;if(!g)throw Error(s(90));Pc(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===n.form&&Nf(u)}break t;case"textarea":Lf(n,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&Bs(n,!!o.multiple,a,!1)}}}var Fc=!1;function qf(n,a,o){if(Fc)return n(a,o);Fc=!0;try{var u=n(a);return u}finally{if(Fc=!1,(Ps!==null||qs!==null)&&(rl(),Ps&&(a=Ps,n=qs,qs=Ps=null,Pf(a),n)))for(a=0;a<n.length;a++)Pf(n[a])}}function Ia(n,a){var o=n.stateNode;if(o===null)return null;var u=o[qe]||null;if(u===null)return null;o=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=!1;if(Fn)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Yc=!1}var _i=null,Gc=null,_o=null;function If(){if(_o)return _o;var n,a=Gc,o=a.length,u,g="value"in _i?_i.value:_i.textContent,p=g.length;for(n=0;n<o&&a[n]===g[n];n++);var v=o-n;for(u=1;u<=v&&a[o-u]===g[p-u];u++);return _o=g.slice(n,1<u?1-u:void 0)}function wo(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function So(){return!0}function $f(){return!1}function Ie(n){function a(o,u,g,p,v){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?So:$f,this.isPropagationStopped=$f,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),a}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=Ie(Zi),Va=y({},Zi,{view:0,detail:0}),pw=Ie(Va),Kc,Xc,Fa,Eo=y({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fa&&(Fa&&n.type==="mousemove"?(Kc=n.screenX-Fa.screenX,Xc=n.screenY-Fa.screenY):Xc=Kc=0,Fa=n),Kc)},movementY:function(n){return"movementY"in n?n.movementY:Xc}}),Vf=Ie(Eo),mw=y({},Eo,{dataTransfer:0}),yw=Ie(mw),bw=y({},Va,{relatedTarget:0}),Wc=Ie(bw),vw=y({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),_w=Ie(vw),ww=y({},Zi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sw=Ie(ww),xw=y({},Zi,{data:0}),Ff=Ie(xw),Ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ow={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aw(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Ow[n])?!!a[n]:!1}function Qc(){return Aw}var kw=y({},Va,{key:function(n){if(n.key){var a=Ew[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=wo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(n){return n.type==="keypress"?wo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Rw=Ie(kw),Cw=y({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=Ie(Cw),Mw=y({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),Dw=Ie(Mw),jw=y({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nw=Ie(jw),zw=y({},Eo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Lw=Ie(zw),Uw=y({},Zi,{newState:0,oldState:0}),Bw=Ie(Uw),Hw=[9,13,27,32],Jc=Fn&&"CompositionEvent"in window,Ya=null;Fn&&"documentMode"in document&&(Ya=document.documentMode);var Pw=Fn&&"TextEvent"in window&&!Ya,Gf=Fn&&(!Jc||Ya&&8<Ya&&11>=Ya),Kf=" ",Xf=!1;function Wf(n,a){switch(n){case"keyup":return Hw.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Is=!1;function qw(n,a){switch(n){case"compositionend":return Qf(a);case"keypress":return a.which!==32?null:(Xf=!0,Kf);case"textInput":return n=a.data,n===Kf&&Xf?null:n;default:return null}}function Iw(n,a){if(Is)return n==="compositionend"||!Jc&&Wf(n,a)?(n=If(),_o=Gc=_i=null,Is=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Gf&&a.locale!=="ko"?null:a.data;default:return null}}var $w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!$w[n.type]:a==="textarea"}function Zf(n,a,o,u){Ps?qs?qs.push(u):qs=[u]:Ps=u,a=fl(a,"onChange"),0<a.length&&(o=new xo("onChange","change",null,o,u),n.push({event:o,listeners:a}))}var Ga=null,Ka=null;function Vw(n){zm(n,0)}function To(n){var a=qa(n);if(Nf(a))return n}function tg(n,a){if(n==="change")return a}var eg=!1;if(Fn){var Zc;if(Fn){var tu="oninput"in document;if(!tu){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),tu=typeof ng.oninput=="function"}Zc=tu}else Zc=!1;eg=Zc&&(!document.documentMode||9<document.documentMode)}function ig(){Ga&&(Ga.detachEvent("onpropertychange",sg),Ka=Ga=null)}function sg(n){if(n.propertyName==="value"&&To(Ka)){var a=[];Zf(a,Ka,n,Vc(n)),qf(Vw,a)}}function Fw(n,a,o){n==="focusin"?(ig(),Ga=a,Ka=o,Ga.attachEvent("onpropertychange",sg)):n==="focusout"&&ig()}function Yw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return To(Ka)}function Gw(n,a){if(n==="click")return To(a)}function Kw(n,a){if(n==="input"||n==="change")return To(a)}function Xw(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Ze=typeof Object.is=="function"?Object.is:Xw;function Xa(n,a){if(Ze(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var o=Object.keys(n),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!Ft.call(a,g)||!Ze(n[g],a[g]))return!1}return!0}function ag(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rg(n,a){var o=ag(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=a&&u>=a)return{node:o,offset:a-n};n=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=ag(o)}}function og(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?og(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function lg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=bo(n.document);a instanceof n.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)n=a.contentWindow;else break;a=bo(n.document)}return a}function eu(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var Ww=Fn&&"documentMode"in document&&11>=document.documentMode,$s=null,nu=null,Wa=null,iu=!1;function cg(n,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;iu||$s==null||$s!==bo(u)||(u=$s,"selectionStart"in u&&eu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Wa&&Xa(Wa,u)||(Wa=u,u=fl(nu,"onSelect"),0<u.length&&(a=new xo("onSelect","select",null,a,o),n.push({event:a,listeners:u}),a.target=$s)))}function ts(n,a){var o={};return o[n.toLowerCase()]=a.toLowerCase(),o["Webkit"+n]="webkit"+a,o["Moz"+n]="moz"+a,o}var Vs={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},su={},ug={};Fn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function es(n){if(su[n])return su[n];if(!Vs[n])return n;var a=Vs[n],o;for(o in a)if(a.hasOwnProperty(o)&&o in ug)return su[n]=a[o];return n}var hg=es("animationend"),dg=es("animationiteration"),fg=es("animationstart"),Qw=es("transitionrun"),Jw=es("transitionstart"),Zw=es("transitioncancel"),gg=es("transitionend"),pg=new Map,au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");au.push("scrollEnd");function On(n,a){pg.set(n,a),Ji(a,[n])}var Oo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},gn=[],Fs=0,ru=0;function Ao(){for(var n=Fs,a=ru=Fs=0;a<n;){var o=gn[a];gn[a++]=null;var u=gn[a];gn[a++]=null;var g=gn[a];gn[a++]=null;var p=gn[a];if(gn[a++]=null,u!==null&&g!==null){var v=u.pending;v===null?g.next=g:(g.next=v.next,v.next=g),u.pending=g}p!==0&&mg(o,g,p)}}function ko(n,a,o,u){gn[Fs++]=n,gn[Fs++]=a,gn[Fs++]=o,gn[Fs++]=u,ru|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function ou(n,a,o,u){return ko(n,a,o,u),Ro(n)}function ns(n,a){return ko(n,null,null,a),Ro(n)}function mg(n,a,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var g=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(g=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,g&&a!==null&&(g=31-Je(o),n=p.hiddenUpdates,u=n[g],u===null?n[g]=[a]:u.push(a),a.lane=o|536870912),p):null}function Ro(n){if(50<br)throw br=0,mh=null,Error(s(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Ys={};function tS(n,a,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(n,a,o,u){return new tS(n,a,o,u)}function lu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yn(n,a){var o=n.alternate;return o===null?(o=tn(n.tag,a,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=a,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,a=n.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function yg(n,a){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,a=o.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Co(n,a,o,u,g,p){var v=0;if(u=n,typeof n=="function")lu(n)&&(v=1);else if(typeof n=="string")v=ax(n,o,tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case k:return n=tn(31,o,a,g),n.elementType=k,n.lanes=p,n;case x:return is(o.children,g,p,a);case E:v=8,g|=24;break;case O:return n=tn(12,o,a,g|2),n.elementType=O,n.lanes=p,n;case $:return n=tn(13,o,a,g),n.elementType=$,n.lanes=p,n;case Q:return n=tn(19,o,a,g),n.elementType=Q,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:v=10;break t;case j:v=9;break t;case I:v=11;break t;case q:v=14;break t;case T:v=16,u=null;break t}v=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return a=tn(v,o,a,g),a.elementType=n,a.type=u,a.lanes=p,a}function is(n,a,o,u){return n=tn(7,n,u,a),n.lanes=o,n}function cu(n,a,o){return n=tn(6,n,null,a),n.lanes=o,n}function bg(n){var a=tn(18,null,null,0);return a.stateNode=n,a}function uu(n,a,o){return a=tn(4,n.children!==null?n.children:[],n.key,a),a.lanes=o,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var vg=new WeakMap;function pn(n,a){if(typeof n=="object"&&n!==null){var o=vg.get(n);return o!==void 0?o:(a={value:n,source:a,stack:Mt(a)},vg.set(n,a),a)}return{value:n,source:a,stack:Mt(a)}}var Gs=[],Ks=0,Mo=null,Qa=0,mn=[],yn=0,wi=null,Nn=1,zn="";function Gn(n,a){Gs[Ks++]=Qa,Gs[Ks++]=Mo,Mo=n,Qa=a}function _g(n,a,o){mn[yn++]=Nn,mn[yn++]=zn,mn[yn++]=wi,wi=n;var u=Nn;n=zn;var g=32-Je(u)-1;u&=~(1<<g),o+=1;var p=32-Je(a)+g;if(30<p){var v=g-g%5;p=(u&(1<<v)-1).toString(32),u>>=v,g-=v,Nn=1<<32-Je(a)+g|o<<g|u,zn=p+n}else Nn=1<<p|o<<g|u,zn=n}function hu(n){n.return!==null&&(Gn(n,1),_g(n,1,0))}function du(n){for(;n===Mo;)Mo=Gs[--Ks],Gs[Ks]=null,Qa=Gs[--Ks],Gs[Ks]=null;for(;n===wi;)wi=mn[--yn],mn[yn]=null,zn=mn[--yn],mn[yn]=null,Nn=mn[--yn],mn[yn]=null}function wg(n,a){mn[yn++]=Nn,mn[yn++]=zn,mn[yn++]=wi,Nn=a.id,zn=a.overflow,wi=n}var Oe=null,Jt=null,Ct=!1,Si=null,bn=!1,fu=Error(s(519));function xi(n){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ja(pn(a,n)),fu}function Sg(n){var a=n.stateNode,o=n.type,u=n.memoizedProps;switch(a[Te]=n,a[qe]=u,o){case"dialog":Ot("cancel",a),Ot("close",a);break;case"iframe":case"object":case"embed":Ot("load",a);break;case"video":case"audio":for(o=0;o<_r.length;o++)Ot(_r[o],a);break;case"source":Ot("error",a);break;case"img":case"image":case"link":Ot("error",a),Ot("load",a);break;case"details":Ot("toggle",a);break;case"input":Ot("invalid",a),zf(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ot("invalid",a);break;case"textarea":Ot("invalid",a),Uf(a,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||Hm(a.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",a),Ot("toggle",a)),u.onScroll!=null&&Ot("scroll",a),u.onScrollEnd!=null&&Ot("scrollend",a),u.onClick!=null&&(a.onclick=Vn),a=!0):a=!1,a||xi(n,!0)}function xg(n){for(Oe=n.return;Oe;)switch(Oe.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:Oe=Oe.return}}function Xs(n){if(n!==Oe)return!1;if(!Ct)return xg(n),Ct=!0,!1;var a=n.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Mh(n.type,n.memoizedProps)),o=!o),o&&Jt&&xi(n),xg(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Jt=Km(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Jt=Km(n)}else a===27?(a=Jt,Ui(n.type)?(n=Lh,Lh=null,Jt=n):Jt=a):Jt=Oe?_n(n.stateNode.nextSibling):null;return!0}function ss(){Jt=Oe=null,Ct=!1}function gu(){var n=Si;return n!==null&&(Ye===null?Ye=n:Ye.push.apply(Ye,n),Si=null),n}function Ja(n){Si===null?Si=[n]:Si.push(n)}var pu=A(null),as=null,Kn=null;function Ei(n,a,o){F(pu,a._currentValue),a._currentValue=o}function Xn(n){n._currentValue=pu.current,H(pu)}function mu(n,a,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===o)break;n=n.return}}function yu(n,a,o,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var p=g.dependencies;if(p!==null){var v=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var R=0;R<a.length;R++)if(S.context===a[R]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),mu(p.return,o,n),u||(v=null);break t}p=S.next}}else if(g.tag===18){if(v=g.return,v===null)throw Error(s(341));v.lanes|=o,p=v.alternate,p!==null&&(p.lanes|=o),mu(v,o,n),v=null}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===n){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}}function Ws(n,a,o,u){n=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var v=g.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=g.type;Ze(g.pendingProps.value,v.value)||(n!==null?n.push(S):n=[S])}}else if(g===bt.current){if(v=g.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Tr):n=[Tr])}g=g.return}n!==null&&yu(a,n,o,u),a.flags|=262144}function Do(n){for(n=n.firstContext;n!==null;){if(!Ze(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function rs(n){as=n,Kn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ae(n){return Eg(as,n)}function jo(n,a){return as===null&&rs(n),Eg(n,a)}function Eg(n,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Kn===null){if(n===null)throw Error(s(308));Kn=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Kn=Kn.next=a;return o}var eS=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(o){return o()})}},nS=i.unstable_scheduleCallback,iS=i.unstable_NormalPriority,de={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bu(){return{controller:new eS,data:new Map,refCount:0}}function Za(n){n.refCount--,n.refCount===0&&nS(iS,function(){n.controller.abort()})}var tr=null,vu=0,Qs=0,Js=null;function sS(n,a){if(tr===null){var o=tr=[];vu=0,Qs=Sh(),Js={status:"pending",value:void 0,then:function(u){o.push(u)}}}return vu++,a.then(Tg,Tg),a}function Tg(){if(--vu===0&&tr!==null){Js!==null&&(Js.status="fulfilled");var n=tr;tr=null,Qs=0,Js=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function aS(n,a){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<o.length;g++)(0,o[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var Og=L.S;L.S=function(n,a){cm=Ut(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&sS(n,a),Og!==null&&Og(n,a)};var os=A(null);function _u(){var n=os.current;return n!==null?n:Xt.pooledCache}function No(n,a){a===null?F(os,os.current):F(os,a.pool)}function Ag(){var n=_u();return n===null?null:{parent:de._currentValue,pool:n}}var Zs=Error(s(460)),wu=Error(s(474)),zo=Error(s(542)),Lo={then:function(){}};function kg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Rg(n,a,o){switch(o=n[o],o===void 0?n.push(a):o!==a&&(a.then(Vn,Vn),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Mg(n),n;default:if(typeof a.status=="string")a.then(Vn,Vn);else{if(n=Xt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Mg(n),n}throw cs=a,Zs}}function ls(n){try{var a=n._init;return a(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(cs=o,Zs):o}}var cs=null;function Cg(){if(cs===null)throw Error(s(459));var n=cs;return cs=null,n}function Mg(n){if(n===Zs||n===zo)throw Error(s(483))}var ta=null,er=0;function Uo(n){var a=er;return er+=1,ta===null&&(ta=[]),Rg(ta,n,a)}function nr(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Bo(n,a){throw a.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Dg(n){function a(N,C){if(n){var U=N.deletions;U===null?(N.deletions=[C],N.flags|=16):U.push(C)}}function o(N,C){if(!n)return null;for(;C!==null;)a(N,C),C=C.sibling;return null}function u(N){for(var C=new Map;N!==null;)N.key!==null?C.set(N.key,N):C.set(N.index,N),N=N.sibling;return C}function g(N,C){return N=Yn(N,C),N.index=0,N.sibling=null,N}function p(N,C,U){return N.index=U,n?(U=N.alternate,U!==null?(U=U.index,U<C?(N.flags|=67108866,C):U):(N.flags|=67108866,C)):(N.flags|=1048576,C)}function v(N){return n&&N.alternate===null&&(N.flags|=67108866),N}function S(N,C,U,W){return C===null||C.tag!==6?(C=cu(U,N.mode,W),C.return=N,C):(C=g(C,U),C.return=N,C)}function R(N,C,U,W){var ct=U.type;return ct===x?G(N,C,U.props.children,W,U.key):C!==null&&(C.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===T&&ls(ct)===C.type)?(C=g(C,U.props),nr(C,U),C.return=N,C):(C=Co(U.type,U.key,U.props,null,N.mode,W),nr(C,U),C.return=N,C)}function B(N,C,U,W){return C===null||C.tag!==4||C.stateNode.containerInfo!==U.containerInfo||C.stateNode.implementation!==U.implementation?(C=uu(U,N.mode,W),C.return=N,C):(C=g(C,U.children||[]),C.return=N,C)}function G(N,C,U,W,ct){return C===null||C.tag!==7?(C=is(U,N.mode,W,ct),C.return=N,C):(C=g(C,U),C.return=N,C)}function J(N,C,U){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=cu(""+C,N.mode,U),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _:return U=Co(C.type,C.key,C.props,null,N.mode,U),nr(U,C),U.return=N,U;case w:return C=uu(C,N.mode,U),C.return=N,C;case T:return C=ls(C),J(N,C,U)}if(ut(C)||K(C))return C=is(C,N.mode,U,null),C.return=N,C;if(typeof C.then=="function")return J(N,Uo(C),U);if(C.$$typeof===D)return J(N,jo(N,C),U);Bo(N,C)}return null}function P(N,C,U,W){var ct=C!==null?C.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ct!==null?null:S(N,C,""+U,W);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return U.key===ct?R(N,C,U,W):null;case w:return U.key===ct?B(N,C,U,W):null;case T:return U=ls(U),P(N,C,U,W)}if(ut(U)||K(U))return ct!==null?null:G(N,C,U,W,null);if(typeof U.then=="function")return P(N,C,Uo(U),W);if(U.$$typeof===D)return P(N,C,jo(N,U),W);Bo(N,U)}return null}function V(N,C,U,W,ct){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return N=N.get(U)||null,S(C,N,""+W,ct);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return N=N.get(W.key===null?U:W.key)||null,R(C,N,W,ct);case w:return N=N.get(W.key===null?U:W.key)||null,B(C,N,W,ct);case T:return W=ls(W),V(N,C,U,W,ct)}if(ut(W)||K(W))return N=N.get(U)||null,G(C,N,W,ct,null);if(typeof W.then=="function")return V(N,C,U,Uo(W),ct);if(W.$$typeof===D)return V(N,C,U,jo(C,W),ct);Bo(C,W)}return null}function at(N,C,U,W){for(var ct=null,Nt=null,ot=C,St=C=0,kt=null;ot!==null&&St<U.length;St++){ot.index>St?(kt=ot,ot=null):kt=ot.sibling;var zt=P(N,ot,U[St],W);if(zt===null){ot===null&&(ot=kt);break}n&&ot&&zt.alternate===null&&a(N,ot),C=p(zt,C,St),Nt===null?ct=zt:Nt.sibling=zt,Nt=zt,ot=kt}if(St===U.length)return o(N,ot),Ct&&Gn(N,St),ct;if(ot===null){for(;St<U.length;St++)ot=J(N,U[St],W),ot!==null&&(C=p(ot,C,St),Nt===null?ct=ot:Nt.sibling=ot,Nt=ot);return Ct&&Gn(N,St),ct}for(ot=u(ot);St<U.length;St++)kt=V(ot,N,St,U[St],W),kt!==null&&(n&&kt.alternate!==null&&ot.delete(kt.key===null?St:kt.key),C=p(kt,C,St),Nt===null?ct=kt:Nt.sibling=kt,Nt=kt);return n&&ot.forEach(function(Ii){return a(N,Ii)}),Ct&&Gn(N,St),ct}function pt(N,C,U,W){if(U==null)throw Error(s(151));for(var ct=null,Nt=null,ot=C,St=C=0,kt=null,zt=U.next();ot!==null&&!zt.done;St++,zt=U.next()){ot.index>St?(kt=ot,ot=null):kt=ot.sibling;var Ii=P(N,ot,zt.value,W);if(Ii===null){ot===null&&(ot=kt);break}n&&ot&&Ii.alternate===null&&a(N,ot),C=p(Ii,C,St),Nt===null?ct=Ii:Nt.sibling=Ii,Nt=Ii,ot=kt}if(zt.done)return o(N,ot),Ct&&Gn(N,St),ct;if(ot===null){for(;!zt.done;St++,zt=U.next())zt=J(N,zt.value,W),zt!==null&&(C=p(zt,C,St),Nt===null?ct=zt:Nt.sibling=zt,Nt=zt);return Ct&&Gn(N,St),ct}for(ot=u(ot);!zt.done;St++,zt=U.next())zt=V(ot,N,St,zt.value,W),zt!==null&&(n&&zt.alternate!==null&&ot.delete(zt.key===null?St:zt.key),C=p(zt,C,St),Nt===null?ct=zt:Nt.sibling=zt,Nt=zt);return n&&ot.forEach(function(mx){return a(N,mx)}),Ct&&Gn(N,St),ct}function Kt(N,C,U,W){if(typeof U=="object"&&U!==null&&U.type===x&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _:t:{for(var ct=U.key;C!==null;){if(C.key===ct){if(ct=U.type,ct===x){if(C.tag===7){o(N,C.sibling),W=g(C,U.props.children),W.return=N,N=W;break t}}else if(C.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===T&&ls(ct)===C.type){o(N,C.sibling),W=g(C,U.props),nr(W,U),W.return=N,N=W;break t}o(N,C);break}else a(N,C);C=C.sibling}U.type===x?(W=is(U.props.children,N.mode,W,U.key),W.return=N,N=W):(W=Co(U.type,U.key,U.props,null,N.mode,W),nr(W,U),W.return=N,N=W)}return v(N);case w:t:{for(ct=U.key;C!==null;){if(C.key===ct)if(C.tag===4&&C.stateNode.containerInfo===U.containerInfo&&C.stateNode.implementation===U.implementation){o(N,C.sibling),W=g(C,U.children||[]),W.return=N,N=W;break t}else{o(N,C);break}else a(N,C);C=C.sibling}W=uu(U,N.mode,W),W.return=N,N=W}return v(N);case T:return U=ls(U),Kt(N,C,U,W)}if(ut(U))return at(N,C,U,W);if(K(U)){if(ct=K(U),typeof ct!="function")throw Error(s(150));return U=ct.call(U),pt(N,C,U,W)}if(typeof U.then=="function")return Kt(N,C,Uo(U),W);if(U.$$typeof===D)return Kt(N,C,jo(N,U),W);Bo(N,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,C!==null&&C.tag===6?(o(N,C.sibling),W=g(C,U),W.return=N,N=W):(o(N,C),W=cu(U,N.mode,W),W.return=N,N=W),v(N)):o(N,C)}return function(N,C,U,W){try{er=0;var ct=Kt(N,C,U,W);return ta=null,ct}catch(ot){if(ot===Zs||ot===zo)throw ot;var Nt=tn(29,ot,null,N.mode);return Nt.lanes=W,Nt.return=N,Nt}finally{}}}var us=Dg(!0),jg=Dg(!1),Ti=!1;function Su(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xu(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Oi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ai(n,a,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Lt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Ro(n),mg(n,null,o),a}return ko(n,u,a,o),Ro(n)}function ir(n,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,o|=u,a.lanes=o,Ef(n,o)}}function Eu(n,a){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?g=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?g=p=a:p=p.next=a}else g=p=a;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=a:n.next=a,o.lastBaseUpdate=a}var Tu=!1;function sr(){if(Tu){var n=Js;if(n!==null)throw n}}function ar(n,a,o,u){Tu=!1;var g=n.updateQueue;Ti=!1;var p=g.firstBaseUpdate,v=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var R=S,B=R.next;R.next=null,v===null?p=B:v.next=B,v=R;var G=n.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==v&&(S===null?G.firstBaseUpdate=B:S.next=B,G.lastBaseUpdate=R))}if(p!==null){var J=g.baseState;v=0,G=B=R=null,S=p;do{var P=S.lane&-536870913,V=P!==S.lane;if(V?(At&P)===P:(u&P)===P){P!==0&&P===Qs&&(Tu=!0),G!==null&&(G=G.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var at=n,pt=S;P=a;var Kt=o;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){J=at.call(Kt,J,P);break t}J=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,P=typeof at=="function"?at.call(Kt,J,P):at,P==null)break t;J=y({},J,P);break t;case 2:Ti=!0}}P=S.callback,P!==null&&(n.flags|=64,V&&(n.flags|=8192),V=g.callbacks,V===null?g.callbacks=[P]:V.push(P))}else V={lane:P,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(B=G=V,R=J):G=G.next=V,v|=P;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;V=S,S=V.next,V.next=null,g.lastBaseUpdate=V,g.shared.pending=null}}while(!0);G===null&&(R=J),g.baseState=R,g.firstBaseUpdate=B,g.lastBaseUpdate=G,p===null&&(g.shared.lanes=0),Di|=v,n.lanes=v,n.memoizedState=J}}function Ng(n,a){if(typeof n!="function")throw Error(s(191,n));n.call(a)}function zg(n,a){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Ng(o[n],a)}var ea=A(null),Ho=A(0);function Lg(n,a){n=si,F(Ho,n),F(ea,a),si=n|a.baseLanes}function Ou(){F(Ho,si),F(ea,ea.current)}function Au(){si=Ho.current,H(ea),H(Ho)}var en=A(null),vn=null;function ki(n){var a=n.alternate;F(ce,ce.current&1),F(en,n),vn===null&&(a===null||ea.current!==null||a.memoizedState!==null)&&(vn=n)}function ku(n){F(ce,ce.current),F(en,n),vn===null&&(vn=n)}function Ug(n){n.tag===22?(F(ce,ce.current),F(en,n),vn===null&&(vn=n)):Ri()}function Ri(){F(ce,ce.current),F(en,en.current)}function nn(n){H(en),vn===n&&(vn=null),H(ce)}var ce=A(0);function Po(n){for(var a=n;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Nh(o)||zh(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wn=0,_t=null,Yt=null,fe=null,qo=!1,na=!1,hs=!1,Io=0,rr=0,ia=null,rS=0;function ae(){throw Error(s(321))}function Ru(n,a){if(a===null)return!1;for(var o=0;o<a.length&&o<n.length;o++)if(!Ze(n[o],a[o]))return!1;return!0}function Cu(n,a,o,u,g,p){return Wn=p,_t=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,L.H=n===null||n.memoizedState===null?_p:Fu,hs=!1,p=o(u,g),hs=!1,na&&(p=Hg(a,o,u,g)),Bg(n),p}function Bg(n){L.H=cr;var a=Yt!==null&&Yt.next!==null;if(Wn=0,fe=Yt=_t=null,qo=!1,rr=0,ia=null,a)throw Error(s(300));n===null||ge||(n=n.dependencies,n!==null&&Do(n)&&(ge=!0))}function Hg(n,a,o,u){_t=n;var g=0;do{if(na&&(ia=null),rr=0,na=!1,25<=g)throw Error(s(301));if(g+=1,fe=Yt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=wp,p=a(o,u)}while(na);return p}function oS(){var n=L.H,a=n.useState()[0];return a=typeof a.then=="function"?or(a):a,n=n.useState()[0],(Yt!==null?Yt.memoizedState:null)!==n&&(_t.flags|=1024),a}function Mu(){var n=Io!==0;return Io=0,n}function Du(n,a,o){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~o}function ju(n){if(qo){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}qo=!1}Wn=0,fe=Yt=_t=null,na=!1,rr=Io=0,ia=null}function He(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?_t.memoizedState=fe=n:fe=fe.next=n,fe}function ue(){if(Yt===null){var n=_t.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var a=fe===null?_t.memoizedState:fe.next;if(a!==null)fe=a,Yt=n;else{if(n===null)throw _t.alternate===null?Error(s(467)):Error(s(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},fe===null?_t.memoizedState=fe=n:fe=fe.next=n}return fe}function $o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function or(n){var a=rr;return rr+=1,ia===null&&(ia=[]),n=Rg(ia,n,a),a=_t,(fe===null?a.memoizedState:fe.next)===null&&(a=a.alternate,L.H=a===null||a.memoizedState===null?_p:Fu),n}function Vo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return or(n);if(n.$$typeof===D)return Ae(n)}throw Error(s(438,String(n)))}function Nu(n){var a=null,o=_t.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=_t.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=$o(),_t.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(n),u=0;u<n;u++)o[u]=z;return a.index++,o}function Qn(n,a){return typeof a=="function"?a(n):a}function Fo(n){var a=ue();return zu(a,Yt,n)}function zu(n,a,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var g=n.baseQueue,p=u.pending;if(p!==null){if(g!==null){var v=g.next;g.next=p.next,p.next=v}a.baseQueue=g=p,u.pending=null}if(p=n.baseState,g===null)n.memoizedState=p;else{a=g.next;var S=v=null,R=null,B=a,G=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(At&J)===J:(Wn&J)===J){var P=B.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Qs&&(G=!0);else if((Wn&P)===P){B=B.next,P===Qs&&(G=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(S=R=J,v=p):R=R.next=J,_t.lanes|=P,Di|=P;J=B.action,hs&&o(p,J),p=B.hasEagerState?B.eagerState:o(p,J)}else P={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(S=R=P,v=p):R=R.next=P,_t.lanes|=J,Di|=J;B=B.next}while(B!==null&&B!==a);if(R===null?v=p:R.next=S,!Ze(p,n.memoizedState)&&(ge=!0,G&&(o=Js,o!==null)))throw o;n.memoizedState=p,n.baseState=v,n.baseQueue=R,u.lastRenderedState=p}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Lu(n){var a=ue(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,g=o.pending,p=a.memoizedState;if(g!==null){o.pending=null;var v=g=g.next;do p=n(p,v.action),v=v.next;while(v!==g);Ze(p,a.memoizedState)||(ge=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,u]}function Pg(n,a,o){var u=_t,g=ue(),p=Ct;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=a();var v=!Ze((Yt||g).memoizedState,o);if(v&&(g.memoizedState=o,ge=!0),g=g.queue,Hu($g.bind(null,u,g,n),[n]),g.getSnapshot!==a||v||fe!==null&&fe.memoizedState.tag&1){if(u.flags|=2048,sa(9,{destroy:void 0},Ig.bind(null,u,g,o,a),null),Xt===null)throw Error(s(349));p||(Wn&127)!==0||qg(u,a,o)}return o}function qg(n,a,o){n.flags|=16384,n={getSnapshot:a,value:o},a=_t.updateQueue,a===null?(a=$o(),_t.updateQueue=a,a.stores=[n]):(o=a.stores,o===null?a.stores=[n]:o.push(n))}function Ig(n,a,o,u){a.value=o,a.getSnapshot=u,Vg(a)&&Fg(n)}function $g(n,a,o){return o(function(){Vg(a)&&Fg(n)})}function Vg(n){var a=n.getSnapshot;n=n.value;try{var o=a();return!Ze(n,o)}catch{return!0}}function Fg(n){var a=ns(n,2);a!==null&&Ge(a,n,2)}function Uu(n){var a=He();if(typeof n=="function"){var o=n;if(n=o(),hs){bi(!0);try{o()}finally{bi(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:n},a}function Yg(n,a,o,u){return n.baseState=o,zu(n,Yt,typeof u=="function"?u:Qn)}function lS(n,a,o,u,g){if(Ko(n))throw Error(s(485));if(n=a.action,n!==null){var p={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};L.T!==null?o(!0):p.isTransition=!1,u(p),o=a.pending,o===null?(p.next=a.pending=p,Gg(a,p)):(p.next=o.next,a.pending=o.next=p)}}function Gg(n,a){var o=a.action,u=a.payload,g=n.state;if(a.isTransition){var p=L.T,v={};L.T=v;try{var S=o(g,u),R=L.S;R!==null&&R(v,S),Kg(n,a,S)}catch(B){Bu(n,a,B)}finally{p!==null&&v.types!==null&&(p.types=v.types),L.T=p}}else try{p=o(g,u),Kg(n,a,p)}catch(B){Bu(n,a,B)}}function Kg(n,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Xg(n,a,u)},function(u){return Bu(n,a,u)}):Xg(n,a,o)}function Xg(n,a,o){a.status="fulfilled",a.value=o,Wg(a),n.state=o,a=n.pending,a!==null&&(o=a.next,o===a?n.pending=null:(o=o.next,a.next=o,Gg(n,o)))}function Bu(n,a,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,Wg(a),a=a.next;while(a!==u)}n.action=null}function Wg(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Qg(n,a){return a}function Jg(n,a){if(Ct){var o=Xt.formState;if(o!==null){t:{var u=_t;if(Ct){if(Jt){e:{for(var g=Jt,p=bn;g.nodeType!==8;){if(!p){g=null;break e}if(g=_n(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){Jt=_n(g.nextSibling),u=g.data==="F!";break t}}xi(u)}u=!1}u&&(a=o[0])}}return o=He(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:a},o.queue=u,o=yp.bind(null,_t,u),u.dispatch=o,u=Uu(!1),p=Vu.bind(null,_t,!1,u.queue),u=He(),g={state:a,dispatch:null,action:n,pending:null},u.queue=g,o=lS.bind(null,_t,g,p,o),g.dispatch=o,u.memoizedState=n,[a,o,!1]}function Zg(n){var a=ue();return tp(a,Yt,n)}function tp(n,a,o){if(a=zu(n,a,Qg)[0],n=Fo(Qn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=or(a)}catch(v){throw v===Zs?zo:v}else u=a;a=ue();var g=a.queue,p=g.dispatch;return o!==a.memoizedState&&(_t.flags|=2048,sa(9,{destroy:void 0},cS.bind(null,g,o),null)),[u,p,n]}function cS(n,a){n.action=a}function ep(n){var a=ue(),o=Yt;if(o!==null)return tp(a,o,n);ue(),a=a.memoizedState,o=ue();var u=o.queue.dispatch;return o.memoizedState=n,[a,u,!1]}function sa(n,a,o,u){return n={tag:n,create:o,deps:u,inst:a,next:null},a=_t.updateQueue,a===null&&(a=$o(),_t.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,a.lastEffect=n),n}function np(){return ue().memoizedState}function Yo(n,a,o,u){var g=He();_t.flags|=n,g.memoizedState=sa(1|a,{destroy:void 0},o,u===void 0?null:u)}function Go(n,a,o,u){var g=ue();u=u===void 0?null:u;var p=g.memoizedState.inst;Yt!==null&&u!==null&&Ru(u,Yt.memoizedState.deps)?g.memoizedState=sa(a,p,o,u):(_t.flags|=n,g.memoizedState=sa(1|a,p,o,u))}function ip(n,a){Yo(8390656,8,n,a)}function Hu(n,a){Go(2048,8,n,a)}function uS(n){_t.flags|=4;var a=_t.updateQueue;if(a===null)a=$o(),_t.updateQueue=a,a.events=[n];else{var o=a.events;o===null?a.events=[n]:o.push(n)}}function sp(n){var a=ue().memoizedState;return uS({ref:a,nextImpl:n}),function(){if((Lt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function ap(n,a){return Go(4,2,n,a)}function rp(n,a){return Go(4,4,n,a)}function op(n,a){if(typeof a=="function"){n=n();var o=a(n);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function lp(n,a,o){o=o!=null?o.concat([n]):null,Go(4,4,op.bind(null,a,n),o)}function Pu(){}function cp(n,a){var o=ue();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Ru(a,u[1])?u[0]:(o.memoizedState=[n,a],n)}function up(n,a){var o=ue();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Ru(a,u[1]))return u[0];if(u=n(),hs){bi(!0);try{n()}finally{bi(!1)}}return o.memoizedState=[u,a],u}function qu(n,a,o){return o===void 0||(Wn&1073741824)!==0&&(At&261930)===0?n.memoizedState=a:(n.memoizedState=o,n=hm(),_t.lanes|=n,Di|=n,o)}function hp(n,a,o,u){return Ze(o,a)?o:ea.current!==null?(n=qu(n,o,u),Ze(n,a)||(ge=!0),n):(Wn&42)===0||(Wn&1073741824)!==0&&(At&261930)===0?(ge=!0,n.memoizedState=o):(n=hm(),_t.lanes|=n,Di|=n,a)}function dp(n,a,o,u,g){var p=Y.p;Y.p=p!==0&&8>p?p:8;var v=L.T,S={};L.T=S,Vu(n,!1,a,o);try{var R=g(),B=L.S;if(B!==null&&B(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=aS(R,u);lr(n,a,G,rn(n))}else lr(n,a,u,rn(n))}catch(J){lr(n,a,{then:function(){},status:"rejected",reason:J},rn())}finally{Y.p=p,v!==null&&S.types!==null&&(v.types=S.types),L.T=v}}function hS(){}function Iu(n,a,o,u){if(n.tag!==5)throw Error(s(476));var g=fp(n).queue;dp(n,g,a,et,o===null?hS:function(){return gp(n),o(u)})}function fp(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:et},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:o},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function gp(n){var a=fp(n);a.next===null&&(a=n.alternate.memoizedState),lr(n,a.next.queue,{},rn())}function $u(){return Ae(Tr)}function pp(){return ue().memoizedState}function mp(){return ue().memoizedState}function dS(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var o=rn();n=Oi(o);var u=Ai(a,n,o);u!==null&&(Ge(u,a,o),ir(u,a,o)),a={cache:bu()},n.payload=a;return}a=a.return}}function fS(n,a,o){var u=rn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ko(n)?bp(a,o):(o=ou(n,a,o,u),o!==null&&(Ge(o,n,u),vp(o,a,u)))}function yp(n,a,o){var u=rn();lr(n,a,o,u)}function lr(n,a,o,u){var g={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ko(n))bp(a,g);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var v=a.lastRenderedState,S=p(v,o);if(g.hasEagerState=!0,g.eagerState=S,Ze(S,v))return ko(n,a,g,0),Xt===null&&Ao(),!1}catch{}finally{}if(o=ou(n,a,g,u),o!==null)return Ge(o,n,u),vp(o,a,u),!0}return!1}function Vu(n,a,o,u){if(u={lane:2,revertLane:Sh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ko(n)){if(a)throw Error(s(479))}else a=ou(n,o,u,2),a!==null&&Ge(a,n,2)}function Ko(n){var a=n.alternate;return n===_t||a!==null&&a===_t}function bp(n,a){na=qo=!0;var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}function vp(n,a,o){if((o&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,o|=u,a.lanes=o,Ef(n,o)}}var cr={readContext:Ae,use:Vo,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useLayoutEffect:ae,useInsertionEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useSyncExternalStore:ae,useId:ae,useHostTransitionStatus:ae,useFormState:ae,useActionState:ae,useOptimistic:ae,useMemoCache:ae,useCacheRefresh:ae};cr.useEffectEvent=ae;var _p={readContext:Ae,use:Vo,useCallback:function(n,a){return He().memoizedState=[n,a===void 0?null:a],n},useContext:Ae,useEffect:ip,useImperativeHandle:function(n,a,o){o=o!=null?o.concat([n]):null,Yo(4194308,4,op.bind(null,a,n),o)},useLayoutEffect:function(n,a){return Yo(4194308,4,n,a)},useInsertionEffect:function(n,a){Yo(4,2,n,a)},useMemo:function(n,a){var o=He();a=a===void 0?null:a;var u=n();if(hs){bi(!0);try{n()}finally{bi(!1)}}return o.memoizedState=[u,a],u},useReducer:function(n,a,o){var u=He();if(o!==void 0){var g=o(a);if(hs){bi(!0);try{o(a)}finally{bi(!1)}}}else g=a;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=fS.bind(null,_t,n),[u.memoizedState,n]},useRef:function(n){var a=He();return n={current:n},a.memoizedState=n},useState:function(n){n=Uu(n);var a=n.queue,o=yp.bind(null,_t,a);return a.dispatch=o,[n.memoizedState,o]},useDebugValue:Pu,useDeferredValue:function(n,a){var o=He();return qu(o,n,a)},useTransition:function(){var n=Uu(!1);return n=dp.bind(null,_t,n.queue,!0,!1),He().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,o){var u=_t,g=He();if(Ct){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),Xt===null)throw Error(s(349));(At&127)!==0||qg(u,a,o)}g.memoizedState=o;var p={value:o,getSnapshot:a};return g.queue=p,ip($g.bind(null,u,p,n),[n]),u.flags|=2048,sa(9,{destroy:void 0},Ig.bind(null,u,p,o,a),null),o},useId:function(){var n=He(),a=Xt.identifierPrefix;if(Ct){var o=zn,u=Nn;o=(u&~(1<<32-Je(u)-1)).toString(32)+o,a="_"+a+"R_"+o,o=Io++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=rS++,a="_"+a+"r_"+o.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:$u,useFormState:Jg,useActionState:Jg,useOptimistic:function(n){var a=He();a.memoizedState=a.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Vu.bind(null,_t,!0,o),o.dispatch=a,[n,a]},useMemoCache:Nu,useCacheRefresh:function(){return He().memoizedState=dS.bind(null,_t)},useEffectEvent:function(n){var a=He(),o={impl:n};return a.memoizedState=o,function(){if((Lt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Fu={readContext:Ae,use:Vo,useCallback:cp,useContext:Ae,useEffect:Hu,useImperativeHandle:lp,useInsertionEffect:ap,useLayoutEffect:rp,useMemo:up,useReducer:Fo,useRef:np,useState:function(){return Fo(Qn)},useDebugValue:Pu,useDeferredValue:function(n,a){var o=ue();return hp(o,Yt.memoizedState,n,a)},useTransition:function(){var n=Fo(Qn)[0],a=ue().memoizedState;return[typeof n=="boolean"?n:or(n),a]},useSyncExternalStore:Pg,useId:pp,useHostTransitionStatus:$u,useFormState:Zg,useActionState:Zg,useOptimistic:function(n,a){var o=ue();return Yg(o,Yt,n,a)},useMemoCache:Nu,useCacheRefresh:mp};Fu.useEffectEvent=sp;var wp={readContext:Ae,use:Vo,useCallback:cp,useContext:Ae,useEffect:Hu,useImperativeHandle:lp,useInsertionEffect:ap,useLayoutEffect:rp,useMemo:up,useReducer:Lu,useRef:np,useState:function(){return Lu(Qn)},useDebugValue:Pu,useDeferredValue:function(n,a){var o=ue();return Yt===null?qu(o,n,a):hp(o,Yt.memoizedState,n,a)},useTransition:function(){var n=Lu(Qn)[0],a=ue().memoizedState;return[typeof n=="boolean"?n:or(n),a]},useSyncExternalStore:Pg,useId:pp,useHostTransitionStatus:$u,useFormState:ep,useActionState:ep,useOptimistic:function(n,a){var o=ue();return Yt!==null?Yg(o,Yt,n,a):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Nu,useCacheRefresh:mp};wp.useEffectEvent=sp;function Yu(n,a,o,u){a=n.memoizedState,o=o(u,a),o=o==null?a:y({},a,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Gu={enqueueSetState:function(n,a,o){n=n._reactInternals;var u=rn(),g=Oi(u);g.payload=a,o!=null&&(g.callback=o),a=Ai(n,g,u),a!==null&&(Ge(a,n,u),ir(a,n,u))},enqueueReplaceState:function(n,a,o){n=n._reactInternals;var u=rn(),g=Oi(u);g.tag=1,g.payload=a,o!=null&&(g.callback=o),a=Ai(n,g,u),a!==null&&(Ge(a,n,u),ir(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var o=rn(),u=Oi(o);u.tag=2,a!=null&&(u.callback=a),a=Ai(n,u,o),a!==null&&(Ge(a,n,o),ir(a,n,o))}};function Sp(n,a,o,u,g,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,v):a.prototype&&a.prototype.isPureReactComponent?!Xa(o,u)||!Xa(g,p):!0}function xp(n,a,o,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==n&&Gu.enqueueReplaceState(a,a.state,null)}function ds(n,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(n=n.defaultProps){o===a&&(o=y({},o));for(var g in n)o[g]===void 0&&(o[g]=n[g])}return o}function Ep(n){Oo(n)}function Tp(n){console.error(n)}function Op(n){Oo(n)}function Xo(n,a){try{var o=n.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Ap(n,a,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ku(n,a,o){return o=Oi(o),o.tag=3,o.payload={element:null},o.callback=function(){Xo(n,a)},o}function kp(n){return n=Oi(n),n.tag=3,n}function Rp(n,a,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;n.payload=function(){return g(p)},n.callback=function(){Ap(a,o,u)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Ap(a,o,u),typeof g!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function gS(n,a,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Ws(a,o,g,!0),o=en.current,o!==null){switch(o.tag){case 31:case 13:return vn===null?ol():o.alternate===null&&re===0&&(re=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===Lo?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),vh(n,u,g)),!1;case 22:return o.flags|=65536,u===Lo?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),vh(n,u,g)),!1}throw Error(s(435,o.tag))}return vh(n,u,g),ol(),!1}if(Ct)return a=en.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==fu&&(n=Error(s(422),{cause:u}),Ja(pn(n,o)))):(u!==fu&&(a=Error(s(423),{cause:u}),Ja(pn(a,o))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=pn(u,o),g=Ku(n.stateNode,u,g),Eu(n,g),re!==4&&(re=2)),!1;var p=Error(s(520),{cause:u});if(p=pn(p,o),yr===null?yr=[p]:yr.push(p),re!==4&&(re=2),a===null)return!0;u=pn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,n=g&-g,o.lanes|=n,n=Ku(o.stateNode,u,n),Eu(o,n),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ji===null||!ji.has(p))))return o.flags|=65536,g&=-g,o.lanes|=g,g=kp(g),Rp(g,n,o,u),Eu(o,g),!1}o=o.return}while(o!==null);return!1}var Xu=Error(s(461)),ge=!1;function ke(n,a,o,u){a.child=n===null?jg(a,null,o,u):us(a,n.child,o,u)}function Cp(n,a,o,u,g){o=o.render;var p=a.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return rs(a),u=Cu(n,a,o,v,p,g),S=Mu(),n!==null&&!ge?(Du(n,a,g),Jn(n,a,g)):(Ct&&S&&hu(a),a.flags|=1,ke(n,a,u,g),a.child)}function Mp(n,a,o,u,g){if(n===null){var p=o.type;return typeof p=="function"&&!lu(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,Dp(n,a,p,u,g)):(n=Co(o.type,null,u,a,a.mode,g),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!ih(n,g)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Xa,o(v,u)&&n.ref===a.ref)return Jn(n,a,g)}return a.flags|=1,n=Yn(p,u),n.ref=a.ref,n.return=a,a.child=n}function Dp(n,a,o,u,g){if(n!==null){var p=n.memoizedProps;if(Xa(p,u)&&n.ref===a.ref)if(ge=!1,a.pendingProps=u=p,ih(n,g))(n.flags&131072)!==0&&(ge=!0);else return a.lanes=n.lanes,Jn(n,a,g)}return Wu(n,a,o,u,g)}function jp(n,a,o,u){var g=u.children,p=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=a.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Np(n,a,p,o,u)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&No(a,p!==null?p.cachePool:null),p!==null?Lg(a,p):Ou(),Ug(a);else return u=a.lanes=536870912,Np(n,a,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(No(a,p.cachePool),Lg(a,p),Ri(),a.memoizedState=null):(n!==null&&No(a,null),Ou(),Ri());return ke(n,a,g,o),a.child}function ur(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Np(n,a,o,u,g){var p=_u();return p=p===null?null:{parent:de._currentValue,pool:p},a.memoizedState={baseLanes:o,cachePool:p},n!==null&&No(a,null),Ou(),Ug(a),n!==null&&Ws(n,a,u,!0),a.childLanes=g,null}function Wo(n,a){return a=Jo({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function zp(n,a,o){return us(a,n.child,null,o),n=Wo(a,a.pendingProps),n.flags|=2,nn(a),a.memoizedState=null,n}function pS(n,a,o){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(Ct){if(u.mode==="hidden")return n=Wo(a,u),a.lanes=536870912,ur(null,n);if(ku(a),(n=Jt)?(n=Gm(n,bn),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:wi!==null?{id:Nn,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},o=bg(n),o.return=a,a.child=o,Oe=a,Jt=null)):n=null,n===null)throw xi(a);return a.lanes=536870912,null}return Wo(a,u)}var p=n.memoizedState;if(p!==null){var v=p.dehydrated;if(ku(a),g)if(a.flags&256)a.flags&=-257,a=zp(n,a,o);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(s(558));else if(ge||Ws(n,a,o,!1),g=(o&n.childLanes)!==0,ge||g){if(u=Xt,u!==null&&(v=Tf(u,o),v!==0&&v!==p.retryLane))throw p.retryLane=v,ns(n,v),Ge(u,n,v),Xu;ol(),a=zp(n,a,o)}else n=p.treeContext,Jt=_n(v.nextSibling),Oe=a,Ct=!0,Si=null,bn=!1,n!==null&&wg(a,n),a=Wo(a,u),a.flags|=4096;return a}return n=Yn(n.child,{mode:u.mode,children:u.children}),n.ref=a.ref,a.child=n,n.return=a,n}function Qo(n,a){var o=a.ref;if(o===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(a.flags|=4194816)}}function Wu(n,a,o,u,g){return rs(a),o=Cu(n,a,o,u,void 0,g),u=Mu(),n!==null&&!ge?(Du(n,a,g),Jn(n,a,g)):(Ct&&u&&hu(a),a.flags|=1,ke(n,a,o,g),a.child)}function Lp(n,a,o,u,g,p){return rs(a),a.updateQueue=null,o=Hg(a,u,o,g),Bg(n),u=Mu(),n!==null&&!ge?(Du(n,a,p),Jn(n,a,p)):(Ct&&u&&hu(a),a.flags|=1,ke(n,a,o,p),a.child)}function Up(n,a,o,u,g){if(rs(a),a.stateNode===null){var p=Ys,v=o.contextType;typeof v=="object"&&v!==null&&(p=Ae(v)),p=new o(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Gu,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Su(a),v=o.contextType,p.context=typeof v=="object"&&v!==null?Ae(v):Ys,p.state=a.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Yu(a,o,v,u),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Gu.enqueueReplaceState(p,p.state,null),ar(a,u,p,g),sr(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){p=a.stateNode;var S=a.memoizedProps,R=ds(o,S);p.props=R;var B=p.context,G=o.contextType;v=Ys,typeof G=="object"&&G!==null&&(v=Ae(G));var J=o.getDerivedStateFromProps;G=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,G||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||B!==v)&&xp(a,p,u,v),Ti=!1;var P=a.memoizedState;p.state=P,ar(a,u,p,g),sr(),B=a.memoizedState,S||P!==B||Ti?(typeof J=="function"&&(Yu(a,o,J,u),B=a.memoizedState),(R=Ti||Sp(a,o,R,u,P,B,v))?(G||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=B),p.props=u,p.state=B,p.context=v,u=R):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,xu(n,a),v=a.memoizedProps,G=ds(o,v),p.props=G,J=a.pendingProps,P=p.context,B=o.contextType,R=Ys,typeof B=="object"&&B!==null&&(R=Ae(B)),S=o.getDerivedStateFromProps,(B=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==J||P!==R)&&xp(a,p,u,R),Ti=!1,P=a.memoizedState,p.state=P,ar(a,u,p,g),sr();var V=a.memoizedState;v!==J||P!==V||Ti||n!==null&&n.dependencies!==null&&Do(n.dependencies)?(typeof S=="function"&&(Yu(a,o,S,u),V=a.memoizedState),(G=Ti||Sp(a,o,G,u,P,V,R)||n!==null&&n.dependencies!==null&&Do(n.dependencies))?(B||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,V,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,V,R)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=V),p.props=u,p.state=V,p.context=R,u=G):(typeof p.componentDidUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(a.flags|=1024),u=!1)}return p=u,Qo(n,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&u?(a.child=us(a,n.child,null,g),a.child=us(a,null,o,g)):ke(n,a,o,g),a.memoizedState=p.state,n=a.child):n=Jn(n,a,g),n}function Bp(n,a,o,u){return ss(),a.flags|=256,ke(n,a,o,u),a.child}var Qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ju(n){return{baseLanes:n,cachePool:Ag()}}function Zu(n,a,o){return n=n!==null?n.childLanes&~o:0,a&&(n|=an),n}function Hp(n,a,o){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,v;if((v=p)||(v=n!==null&&n.memoizedState===null?!1:(ce.current&2)!==0),v&&(g=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ct){if(g?ki(a):Ri(),(n=Jt)?(n=Gm(n,bn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:wi!==null?{id:Nn,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},o=bg(n),o.return=a,a.child=o,Oe=a,Jt=null)):n=null,n===null)throw xi(a);return zh(n)?a.lanes=32:a.lanes=536870912,null}var S=u.children;return u=u.fallback,g?(Ri(),g=a.mode,S=Jo({mode:"hidden",children:S},g),u=is(u,g,o,null),S.return=a,u.return=a,S.sibling=u,a.child=S,u=a.child,u.memoizedState=Ju(o),u.childLanes=Zu(n,v,o),a.memoizedState=Qu,ur(null,u)):(ki(a),th(a,S))}var R=n.memoizedState;if(R!==null&&(S=R.dehydrated,S!==null)){if(p)a.flags&256?(ki(a),a.flags&=-257,a=eh(n,a,o)):a.memoizedState!==null?(Ri(),a.child=n.child,a.flags|=128,a=null):(Ri(),S=u.fallback,g=a.mode,u=Jo({mode:"visible",children:u.children},g),S=is(S,g,o,null),S.flags|=2,u.return=a,S.return=a,u.sibling=S,a.child=u,us(a,n.child,null,o),u=a.child,u.memoizedState=Ju(o),u.childLanes=Zu(n,v,o),a.memoizedState=Qu,a=ur(null,u));else if(ki(a),zh(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var B=v.dgst;v=B,u=Error(s(419)),u.stack="",u.digest=v,Ja({value:u,source:null,stack:null}),a=eh(n,a,o)}else if(ge||Ws(n,a,o,!1),v=(o&n.childLanes)!==0,ge||v){if(v=Xt,v!==null&&(u=Tf(v,o),u!==0&&u!==R.retryLane))throw R.retryLane=u,ns(n,u),Ge(v,n,u),Xu;Nh(S)||ol(),a=eh(n,a,o)}else Nh(S)?(a.flags|=192,a.child=n.child,a=null):(n=R.treeContext,Jt=_n(S.nextSibling),Oe=a,Ct=!0,Si=null,bn=!1,n!==null&&wg(a,n),a=th(a,u.children),a.flags|=4096);return a}return g?(Ri(),S=u.fallback,g=a.mode,R=n.child,B=R.sibling,u=Yn(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,B!==null?S=Yn(B,S):(S=is(S,g,o,null),S.flags|=2),S.return=a,u.return=a,u.sibling=S,a.child=u,ur(null,u),u=a.child,S=n.child.memoizedState,S===null?S=Ju(o):(g=S.cachePool,g!==null?(R=de._currentValue,g=g.parent!==R?{parent:R,pool:R}:g):g=Ag(),S={baseLanes:S.baseLanes|o,cachePool:g}),u.memoizedState=S,u.childLanes=Zu(n,v,o),a.memoizedState=Qu,ur(n.child,u)):(ki(a),o=n.child,n=o.sibling,o=Yn(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,n!==null&&(v=a.deletions,v===null?(a.deletions=[n],a.flags|=16):v.push(n)),a.child=o,a.memoizedState=null,o)}function th(n,a){return a=Jo({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Jo(n,a){return n=tn(22,n,null,a),n.lanes=0,n}function eh(n,a,o){return us(a,n.child,null,o),n=th(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Pp(n,a,o){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),mu(n.return,a,o)}function nh(n,a,o,u,g,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g,treeForkCount:p}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=o,v.tailMode=g,v.treeForkCount=p)}function qp(n,a,o){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var v=ce.current,S=(v&2)!==0;if(S?(v=v&1|2,a.flags|=128):v&=1,F(ce,v),ke(n,a,u,o),u=Ct?Qa:0,!S&&n!==null&&(n.flags&128)!==0)t:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Pp(n,o,a);else if(n.tag===19)Pp(n,o,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break t;for(;n.sibling===null;){if(n.return===null||n.return===a)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(o=a.child,g=null;o!==null;)n=o.alternate,n!==null&&Po(n)===null&&(g=o),o=o.sibling;o=g,o===null?(g=a.child,a.child=null):(g=o.sibling,o.sibling=null),nh(a,!1,g,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=a.child,a.child=null;g!==null;){if(n=g.alternate,n!==null&&Po(n)===null){a.child=g;break}n=g.sibling,g.sibling=o,o=g,g=n}nh(a,!0,o,null,p,u);break;case"together":nh(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Jn(n,a,o){if(n!==null&&(a.dependencies=n.dependencies),Di|=a.lanes,(o&a.childLanes)===0)if(n!==null){if(Ws(n,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,o=Yn(n,n.pendingProps),a.child=o,o.return=a;n.sibling!==null;)n=n.sibling,o=o.sibling=Yn(n,n.pendingProps),o.return=a;o.sibling=null}return a.child}function ih(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Do(n)))}function mS(n,a,o){switch(a.tag){case 3:gt(a,a.stateNode.containerInfo),Ei(a,de,n.memoizedState.cache),ss();break;case 27:case 5:$t(a);break;case 4:gt(a,a.stateNode.containerInfo);break;case 10:Ei(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ku(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ki(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Hp(n,a,o):(ki(a),n=Jn(n,a,o),n!==null?n.sibling:null);ki(a);break;case 19:var g=(n.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Ws(n,a,o,!1),u=(o&a.childLanes)!==0),g){if(u)return qp(n,a,o);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),F(ce,ce.current),u)break;return null;case 22:return a.lanes=0,jp(n,a,o,a.pendingProps);case 24:Ei(a,de,n.memoizedState.cache)}return Jn(n,a,o)}function Ip(n,a,o){if(n!==null)if(n.memoizedProps!==a.pendingProps)ge=!0;else{if(!ih(n,o)&&(a.flags&128)===0)return ge=!1,mS(n,a,o);ge=(n.flags&131072)!==0}else ge=!1,Ct&&(a.flags&1048576)!==0&&_g(a,Qa,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(n=ls(a.elementType),a.type=n,typeof n=="function")lu(n)?(u=ds(n,u),a.tag=1,a=Up(null,a,n,u,o)):(a.tag=0,a=Wu(null,a,n,u,o));else{if(n!=null){var g=n.$$typeof;if(g===I){a.tag=11,a=Cp(null,a,n,u,o);break t}else if(g===q){a.tag=14,a=Mp(null,a,n,u,o);break t}}throw a=dt(n)||n,Error(s(306,a,""))}}return a;case 0:return Wu(n,a,a.type,a.pendingProps,o);case 1:return u=a.type,g=ds(u,a.pendingProps),Up(n,a,u,g,o);case 3:t:{if(gt(a,a.stateNode.containerInfo),n===null)throw Error(s(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,xu(n,a),ar(a,u,null,o);var v=a.memoizedState;if(u=v.cache,Ei(a,de,u),u!==p.cache&&yu(a,[de],o,!0),sr(),u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Bp(n,a,u,o);break t}else if(u!==g){g=pn(Error(s(424)),a),Ja(g),a=Bp(n,a,u,o);break t}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Jt=_n(n.firstChild),Oe=a,Ct=!0,Si=null,bn=!0,o=jg(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ss(),u===g){a=Jn(n,a,o);break t}ke(n,a,u,o)}a=a.child}return a;case 26:return Qo(n,a),n===null?(o=Zm(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ct||(o=a.type,n=a.pendingProps,u=gl(rt.current).createElement(o),u[Te]=a,u[qe]=n,Re(u,o,n),Se(u),a.stateNode=u):a.memoizedState=Zm(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return $t(a),n===null&&Ct&&(u=a.stateNode=Wm(a.type,a.pendingProps,rt.current),Oe=a,bn=!0,g=Jt,Ui(a.type)?(Lh=g,Jt=_n(u.firstChild)):Jt=g),ke(n,a,a.pendingProps.children,o),Qo(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Ct&&((g=u=Jt)&&(u=YS(u,a.type,a.pendingProps,bn),u!==null?(a.stateNode=u,Oe=a,Jt=_n(u.firstChild),bn=!1,g=!0):g=!1),g||xi(a)),$t(a),g=a.type,p=a.pendingProps,v=n!==null?n.memoizedProps:null,u=p.children,Mh(g,p)?u=null:v!==null&&Mh(g,v)&&(a.flags|=32),a.memoizedState!==null&&(g=Cu(n,a,oS,null,null,o),Tr._currentValue=g),Qo(n,a),ke(n,a,u,o),a.child;case 6:return n===null&&Ct&&((n=o=Jt)&&(o=GS(o,a.pendingProps,bn),o!==null?(a.stateNode=o,Oe=a,Jt=null,n=!0):n=!1),n||xi(a)),null;case 13:return Hp(n,a,o);case 4:return gt(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=us(a,null,u,o):ke(n,a,u,o),a.child;case 11:return Cp(n,a,a.type,a.pendingProps,o);case 7:return ke(n,a,a.pendingProps,o),a.child;case 8:return ke(n,a,a.pendingProps.children,o),a.child;case 12:return ke(n,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,Ei(a,a.type,u.value),ke(n,a,u.children,o),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,rs(a),g=Ae(g),u=u(g),a.flags|=1,ke(n,a,u,o),a.child;case 14:return Mp(n,a,a.type,a.pendingProps,o);case 15:return Dp(n,a,a.type,a.pendingProps,o);case 19:return qp(n,a,o);case 31:return pS(n,a,o);case 22:return jp(n,a,o,a.pendingProps);case 24:return rs(a),u=Ae(de),n===null?(g=_u(),g===null&&(g=Xt,p=bu(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=o),g=p),a.memoizedState={parent:u,cache:g},Su(a),Ei(a,de,g)):((n.lanes&o)!==0&&(xu(n,a),ar(a,null,null,o),sr()),g=n.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ei(a,de,u)):(u=p.cache,Ei(a,de,u),u!==g.cache&&yu(a,[de],o,!0))),ke(n,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Zn(n){n.flags|=4}function sh(n,a,o,u,g){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(pm())n.flags|=8192;else throw cs=Lo,wu}else n.flags&=-16777217}function $p(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!s0(a))if(pm())n.flags|=8192;else throw cs=Lo,wu}function Zo(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Sf():536870912,n.lanes|=a,la|=a)}function hr(n,a){if(!Ct)switch(n.tailMode){case"hidden":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Zt(n){var a=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(a)for(var g=n.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=o,a}function yS(n,a,o){var u=a.pendingProps;switch(du(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(a),null;case 1:return Zt(a),null;case 3:return o=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Xn(de),ht(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Xs(a)?Zn(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gu())),Zt(a),null;case 26:var g=a.type,p=a.memoizedState;return n===null?(Zn(a),p!==null?(Zt(a),$p(a,p)):(Zt(a),sh(a,g,null,u,o))):p?p!==n.memoizedState?(Zn(a),Zt(a),$p(a,p)):(Zt(a),a.flags&=-16777217):(n=n.memoizedProps,n!==u&&Zn(a),Zt(a),sh(a,g,n,u,o)),null;case 27:if(vt(a),o=rt.current,g=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Zn(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return Zt(a),null}n=tt.current,Xs(a)?Sg(a):(n=Wm(g,u,o),a.stateNode=n,Zn(a))}return Zt(a),null;case 5:if(vt(a),g=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Zn(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return Zt(a),null}if(p=tt.current,Xs(a))Sg(a);else{var v=gl(rt.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?v.createElement(g,{is:u.is}):v.createElement(g)}}p[Te]=a,p[qe]=u;t:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break t;for(;v.sibling===null;){if(v.return===null||v.return===a)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=p;t:switch(Re(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Zn(a)}}return Zt(a),sh(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,o),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Zn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(n=rt.current,Xs(a)){if(n=a.stateNode,o=a.memoizedProps,u=null,g=Oe,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Te]=a,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Hm(n.nodeValue,o)),n||xi(a,!0)}else n=gl(n).createTextNode(u),n[Te]=a,a.stateNode=n}return Zt(a),null;case 31:if(o=a.memoizedState,n===null||n.memoizedState!==null){if(u=Xs(a),o!==null){if(n===null){if(!u)throw Error(s(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Te]=a}else ss(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zt(a),n=!1}else o=gu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return a.flags&256?(nn(a),a):(nn(a),null);if((a.flags&128)!==0)throw Error(s(558))}return Zt(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Xs(a),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Te]=a}else ss(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zt(a),g=!1}else g=gu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(nn(a),a):(nn(a),null)}return nn(a),(a.flags&128)!==0?(a.lanes=o,a):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),o!==n&&o&&(a.child.flags|=8192),Zo(a,a.updateQueue),Zt(a),null);case 4:return ht(),n===null&&Oh(a.stateNode.containerInfo),Zt(a),null;case 10:return Xn(a.type),Zt(a),null;case 19:if(H(ce),u=a.memoizedState,u===null)return Zt(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)hr(u,!1);else{if(re!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=Po(n),p!==null){for(a.flags|=128,hr(u,!1),n=p.updateQueue,a.updateQueue=n,Zo(a,n),a.subtreeFlags=0,n=o,o=a.child;o!==null;)yg(o,n),o=o.sibling;return F(ce,ce.current&1|2),Ct&&Gn(a,u.treeForkCount),a.child}n=n.sibling}u.tail!==null&&Ut()>sl&&(a.flags|=128,g=!0,hr(u,!1),a.lanes=4194304)}else{if(!g)if(n=Po(p),n!==null){if(a.flags|=128,g=!0,n=n.updateQueue,a.updateQueue=n,Zo(a,n),hr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ct)return Zt(a),null}else 2*Ut()-u.renderingStartTime>sl&&o!==536870912&&(a.flags|=128,g=!0,hr(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(n=u.last,n!==null?n.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ut(),n.sibling=null,o=ce.current,F(ce,g?o&1|2:o&1),Ct&&Gn(a,u.treeForkCount),n):(Zt(a),null);case 22:case 23:return nn(a),Au(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(Zt(a),a.subtreeFlags&6&&(a.flags|=8192)):Zt(a),o=a.updateQueue,o!==null&&Zo(a,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),n!==null&&H(os),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Xn(de),Zt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function bS(n,a){switch(du(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Xn(de),ht(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return vt(a),null;case 31:if(a.memoizedState!==null){if(nn(a),a.alternate===null)throw Error(s(340));ss()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(nn(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));ss()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return H(ce),null;case 4:return ht(),null;case 10:return Xn(a.type),null;case 22:case 23:return nn(a),Au(),n!==null&&H(os),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Xn(de),null;case 25:return null;default:return null}}function Vp(n,a){switch(du(a),a.tag){case 3:Xn(de),ht();break;case 26:case 27:case 5:vt(a);break;case 4:ht();break;case 31:a.memoizedState!==null&&nn(a);break;case 13:nn(a);break;case 19:H(ce);break;case 10:Xn(a.type);break;case 22:case 23:nn(a),Au(),n!==null&&H(os);break;case 24:Xn(de)}}function dr(n,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&n)===n){u=void 0;var p=o.create,v=o.inst;u=p(),v.destroy=u}o=o.next}while(o!==g)}}catch(S){Pt(a,a.return,S)}}function Ci(n,a,o){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&n)===n){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,g=a;var R=o,B=S;try{B()}catch(G){Pt(g,R,G)}}}u=u.next}while(u!==p)}}catch(G){Pt(a,a.return,G)}}function Fp(n){var a=n.updateQueue;if(a!==null){var o=n.stateNode;try{zg(a,o)}catch(u){Pt(n,n.return,u)}}}function Yp(n,a,o){o.props=ds(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Pt(n,a,u)}}function fr(n,a){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(g){Pt(n,a,g)}}function Ln(n,a){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){Pt(n,a,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Pt(n,a,g)}else o.current=null}function Gp(n){var a=n.type,o=n.memoizedProps,u=n.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){Pt(n,n.return,g)}}function ah(n,a,o){try{var u=n.stateNode;PS(u,n.type,o,a),u[qe]=a}catch(g){Pt(n,n.return,g)}}function Kp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ui(n.type)||n.tag===4}function rh(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Kp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function oh(n,a,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(n),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Vn));else if(u!==4&&(u===27&&Ui(n.type)&&(o=n.stateNode,a=null),n=n.child,n!==null))for(oh(n,a,o),n=n.sibling;n!==null;)oh(n,a,o),n=n.sibling}function tl(n,a,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?o.insertBefore(n,a):o.appendChild(n);else if(u!==4&&(u===27&&Ui(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(tl(n,a,o),n=n.sibling;n!==null;)tl(n,a,o),n=n.sibling}function Xp(n){var a=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Re(a,u,o),a[Te]=n,a[qe]=o}catch(p){Pt(n,n.return,p)}}var ti=!1,pe=!1,lh=!1,Wp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function vS(n,a){if(n=n.containerInfo,Rh=wl,n=lg(n),eu(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var v=0,S=-1,R=-1,B=0,G=0,J=n,P=null;e:for(;;){for(var V;J!==o||g!==0&&J.nodeType!==3||(S=v+g),J!==p||u!==0&&J.nodeType!==3||(R=v+u),J.nodeType===3&&(v+=J.nodeValue.length),(V=J.firstChild)!==null;)P=J,J=V;for(;;){if(J===n)break e;if(P===o&&++B===g&&(S=v),P===p&&++G===u&&(R=v),(V=J.nextSibling)!==null)break;J=P,P=J.parentNode}J=V}o=S===-1||R===-1?null:{start:S,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ch={focusedElem:n,selectionRange:o},wl=!1,xe=a;xe!==null;)if(a=xe,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,xe=n;else for(;xe!==null;){switch(a=xe,p=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)g=n[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=a,g=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var at=ds(o.type,g);n=u.getSnapshotBeforeUpdate(at,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(pt){Pt(o,o.return,pt)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,o=n.nodeType,o===9)jh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":jh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=a.sibling,n!==null){n.return=a.return,xe=n;break}xe=a.return}}function Qp(n,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ni(n,o),u&4&&dr(5,o);break;case 1:if(ni(n,o),u&4)if(n=o.stateNode,a===null)try{n.componentDidMount()}catch(v){Pt(o,o.return,v)}else{var g=ds(o.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(g,a,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Pt(o,o.return,v)}}u&64&&Fp(o),u&512&&fr(o,o.return);break;case 3:if(ni(n,o),u&64&&(n=o.updateQueue,n!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{zg(n,a)}catch(v){Pt(o,o.return,v)}}break;case 27:a===null&&u&4&&Xp(o);case 26:case 5:ni(n,o),a===null&&u&4&&Gp(o),u&512&&fr(o,o.return);break;case 12:ni(n,o);break;case 31:ni(n,o),u&4&&tm(n,o);break;case 13:ni(n,o),u&4&&em(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=kS.bind(null,o),KS(n,o))));break;case 22:if(u=o.memoizedState!==null||ti,!u){a=a!==null&&a.memoizedState!==null||pe,g=ti;var p=pe;ti=u,(pe=a)&&!p?ii(n,o,(o.subtreeFlags&8772)!==0):ni(n,o),ti=g,pe=p}break;case 30:break;default:ni(n,o)}}function Jp(n){var a=n.alternate;a!==null&&(n.alternate=null,Jp(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Bc(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ee=null,$e=!1;function ei(n,a,o){for(o=o.child;o!==null;)Zp(n,a,o),o=o.sibling}function Zp(n,a,o){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Tn,o)}catch{}switch(o.tag){case 26:pe||Ln(o,a),ei(n,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pe||Ln(o,a);var u=ee,g=$e;Ui(o.type)&&(ee=o.stateNode,$e=!1),ei(n,a,o),Sr(o.stateNode),ee=u,$e=g;break;case 5:pe||Ln(o,a);case 6:if(u=ee,g=$e,ee=null,ei(n,a,o),ee=u,$e=g,ee!==null)if($e)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(o.stateNode)}catch(p){Pt(o,a,p)}else try{ee.removeChild(o.stateNode)}catch(p){Pt(o,a,p)}break;case 18:ee!==null&&($e?(n=ee,Fm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ma(n)):Fm(ee,o.stateNode));break;case 4:u=ee,g=$e,ee=o.stateNode.containerInfo,$e=!0,ei(n,a,o),ee=u,$e=g;break;case 0:case 11:case 14:case 15:Ci(2,o,a),pe||Ci(4,o,a),ei(n,a,o);break;case 1:pe||(Ln(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Yp(o,a,u)),ei(n,a,o);break;case 21:ei(n,a,o);break;case 22:pe=(u=pe)||o.memoizedState!==null,ei(n,a,o),pe=u;break;default:ei(n,a,o)}}function tm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ma(n)}catch(o){Pt(a,a.return,o)}}}function em(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ma(n)}catch(o){Pt(a,a.return,o)}}function _S(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Wp),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Wp),a;default:throw Error(s(435,n.tag))}}function el(n,a){var o=_S(n);a.forEach(function(u){if(!o.has(u)){o.add(u);var g=RS.bind(null,n,u);u.then(g,g)}})}function Ve(n,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],p=n,v=a,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(Ui(S.type)){ee=S.stateNode,$e=!1;break t}break;case 5:ee=S.stateNode,$e=!1;break t;case 3:case 4:ee=S.stateNode.containerInfo,$e=!0;break t}S=S.return}if(ee===null)throw Error(s(160));Zp(p,v,g),ee=null,$e=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)nm(a,n),a=a.sibling}var An=null;function nm(n,a){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ve(a,n),Fe(n),u&4&&(Ci(3,n,n.return),dr(3,n),Ci(5,n,n.return));break;case 1:Ve(a,n),Fe(n),u&512&&(pe||o===null||Ln(o,o.return)),u&64&&ti&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=An;if(Ve(a,n),Fe(n),u&512&&(pe||o===null||Ln(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){t:{u=n.type,o=n.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Pa]||p[Te]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Re(p,u,o),p[Te]=n,Se(p),u=p;break t;case"link":var v=n0("link","href",g).get(u+(o.href||""));if(v){for(var S=0;S<v.length;S++)if(p=v[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(S,1);break e}}p=g.createElement(u),Re(p,u,o),g.head.appendChild(p);break;case"meta":if(v=n0("meta","content",g).get(u+(o.content||""))){for(S=0;S<v.length;S++)if(p=v[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(S,1);break e}}p=g.createElement(u),Re(p,u,o),g.head.appendChild(p);break;default:throw Error(s(468,u))}p[Te]=n,Se(p),u=p}n.stateNode=u}else i0(g,n.type,n.stateNode);else n.stateNode=e0(g,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?i0(g,n.type,n.stateNode):e0(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&ah(n,n.memoizedProps,o.memoizedProps)}break;case 27:Ve(a,n),Fe(n),u&512&&(pe||o===null||Ln(o,o.return)),o!==null&&u&4&&ah(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Ve(a,n),Fe(n),u&512&&(pe||o===null||Ln(o,o.return)),n.flags&32){g=n.stateNode;try{Hs(g,"")}catch(at){Pt(n,n.return,at)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,ah(n,g,o!==null?o.memoizedProps:g)),u&1024&&(lh=!0);break;case 6:if(Ve(a,n),Fe(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(at){Pt(n,n.return,at)}}break;case 3:if(yl=null,g=An,An=pl(a.containerInfo),Ve(a,n),An=g,Fe(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ma(a.containerInfo)}catch(at){Pt(n,n.return,at)}lh&&(lh=!1,im(n));break;case 4:u=An,An=pl(n.stateNode.containerInfo),Ve(a,n),Fe(n),An=u;break;case 12:Ve(a,n),Fe(n);break;case 31:Ve(a,n),Fe(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,el(n,u)));break;case 13:Ve(a,n),Fe(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(il=Ut()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,el(n,u)));break;case 22:g=n.memoizedState!==null;var R=o!==null&&o.memoizedState!==null,B=ti,G=pe;if(ti=B||g,pe=G||R,Ve(a,n),pe=G,ti=B,Fe(n),u&8192)t:for(a=n.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(o===null||R||ti||pe||fs(n)),o=null,a=n;;){if(a.tag===5||a.tag===26){if(o===null){R=o=a;try{if(p=R.stateNode,g)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=R.stateNode;var J=R.memoizedProps.style,P=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(at){Pt(R,R.return,at)}}}else if(a.tag===6){if(o===null){R=a;try{R.stateNode.nodeValue=g?"":R.memoizedProps}catch(at){Pt(R,R.return,at)}}}else if(a.tag===18){if(o===null){R=a;try{var V=R.stateNode;g?Ym(V,!0):Ym(R.stateNode,!1)}catch(at){Pt(R,R.return,at)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break t;for(;a.sibling===null;){if(a.return===null||a.return===n)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,el(n,o))));break;case 19:Ve(a,n),Fe(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,el(n,u)));break;case 30:break;case 21:break;default:Ve(a,n),Fe(n)}}function Fe(n){var a=n.flags;if(a&2){try{for(var o,u=n.return;u!==null;){if(Kp(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var g=o.stateNode,p=rh(n);tl(n,p,g);break;case 5:var v=o.stateNode;o.flags&32&&(Hs(v,""),o.flags&=-33);var S=rh(n);tl(n,S,v);break;case 3:case 4:var R=o.stateNode.containerInfo,B=rh(n);oh(n,B,R);break;default:throw Error(s(161))}}catch(G){Pt(n,n.return,G)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function im(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;im(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function ni(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Qp(n,a.alternate,a),a=a.sibling}function fs(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Ci(4,a,a.return),fs(a);break;case 1:Ln(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Yp(a,a.return,o),fs(a);break;case 27:Sr(a.stateNode);case 26:case 5:Ln(a,a.return),fs(a);break;case 22:a.memoizedState===null&&fs(a);break;case 30:fs(a);break;default:fs(a)}n=n.sibling}}function ii(n,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=n,p=a,v=p.flags;switch(p.tag){case 0:case 11:case 15:ii(g,p,o),dr(4,p);break;case 1:if(ii(g,p,o),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(B){Pt(u,u.return,B)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var R=g.shared.hiddenCallbacks;if(R!==null)for(g.shared.hiddenCallbacks=null,g=0;g<R.length;g++)Ng(R[g],S)}catch(B){Pt(u,u.return,B)}}o&&v&64&&Fp(p),fr(p,p.return);break;case 27:Xp(p);case 26:case 5:ii(g,p,o),o&&u===null&&v&4&&Gp(p),fr(p,p.return);break;case 12:ii(g,p,o);break;case 31:ii(g,p,o),o&&v&4&&tm(g,p);break;case 13:ii(g,p,o),o&&v&4&&em(g,p);break;case 22:p.memoizedState===null&&ii(g,p,o),fr(p,p.return);break;case 30:break;default:ii(g,p,o)}a=a.sibling}}function ch(n,a){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Za(o))}function uh(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Za(n))}function kn(n,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)sm(n,a,o,u),a=a.sibling}function sm(n,a,o,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:kn(n,a,o,u),g&2048&&dr(9,a);break;case 1:kn(n,a,o,u);break;case 3:kn(n,a,o,u),g&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Za(n)));break;case 12:if(g&2048){kn(n,a,o,u),n=a.stateNode;try{var p=a.memoizedProps,v=p.id,S=p.onPostCommit;typeof S=="function"&&S(v,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Pt(a,a.return,R)}}else kn(n,a,o,u);break;case 31:kn(n,a,o,u);break;case 13:kn(n,a,o,u);break;case 23:break;case 22:p=a.stateNode,v=a.alternate,a.memoizedState!==null?p._visibility&2?kn(n,a,o,u):gr(n,a):p._visibility&2?kn(n,a,o,u):(p._visibility|=2,aa(n,a,o,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&ch(v,a);break;case 24:kn(n,a,o,u),g&2048&&uh(a.alternate,a);break;default:kn(n,a,o,u)}}function aa(n,a,o,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=n,v=a,S=o,R=u,B=v.flags;switch(v.tag){case 0:case 11:case 15:aa(p,v,S,R,g),dr(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?aa(p,v,S,R,g):gr(p,v):(G._visibility|=2,aa(p,v,S,R,g)),g&&B&2048&&ch(v.alternate,v);break;case 24:aa(p,v,S,R,g),g&&B&2048&&uh(v.alternate,v);break;default:aa(p,v,S,R,g)}a=a.sibling}}function gr(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=n,u=a,g=u.flags;switch(u.tag){case 22:gr(o,u),g&2048&&ch(u.alternate,u);break;case 24:gr(o,u),g&2048&&uh(u.alternate,u);break;default:gr(o,u)}a=a.sibling}}var pr=8192;function ra(n,a,o){if(n.subtreeFlags&pr)for(n=n.child;n!==null;)am(n,a,o),n=n.sibling}function am(n,a,o){switch(n.tag){case 26:ra(n,a,o),n.flags&pr&&n.memoizedState!==null&&rx(o,An,n.memoizedState,n.memoizedProps);break;case 5:ra(n,a,o);break;case 3:case 4:var u=An;An=pl(n.stateNode.containerInfo),ra(n,a,o),An=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=pr,pr=16777216,ra(n,a,o),pr=u):ra(n,a,o));break;default:ra(n,a,o)}}function rm(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function mr(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];xe=u,lm(u,n)}rm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)om(n),n=n.sibling}function om(n){switch(n.tag){case 0:case 11:case 15:mr(n),n.flags&2048&&Ci(9,n,n.return);break;case 3:mr(n);break;case 12:mr(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,nl(n)):mr(n);break;default:mr(n)}}function nl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];xe=u,lm(u,n)}rm(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Ci(8,a,a.return),nl(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,nl(a));break;default:nl(a)}n=n.sibling}}function lm(n,a){for(;xe!==null;){var o=xe;switch(o.tag){case 0:case 11:case 15:Ci(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Za(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,xe=u;else t:for(o=n;xe!==null;){u=xe;var g=u.sibling,p=u.return;if(Jp(u),u===o){xe=null;break t}if(g!==null){g.return=p,xe=g;break t}xe=p}}}var wS={getCacheForType:function(n){var a=Ae(de),o=a.data.get(n);return o===void 0&&(o=n(),a.data.set(n,o)),o},cacheSignal:function(){return Ae(de).controller.signal}},SS=typeof WeakMap=="function"?WeakMap:Map,Lt=0,Xt=null,Tt=null,At=0,Ht=0,sn=null,Mi=!1,oa=!1,hh=!1,si=0,re=0,Di=0,gs=0,dh=0,an=0,la=0,yr=null,Ye=null,fh=!1,il=0,cm=0,sl=1/0,al=null,ji=null,ve=0,Ni=null,ca=null,ai=0,gh=0,ph=null,um=null,br=0,mh=null;function rn(){return(Lt&2)!==0&&At!==0?At&-At:L.T!==null?Sh():Of()}function hm(){if(an===0)if((At&536870912)===0||Ct){var n=fo;fo<<=1,(fo&3932160)===0&&(fo=262144),an=n}else an=536870912;return n=en.current,n!==null&&(n.flags|=32),an}function Ge(n,a,o){(n===Xt&&(Ht===2||Ht===9)||n.cancelPendingCommit!==null)&&(ua(n,0),zi(n,At,an,!1)),Ha(n,o),((Lt&2)===0||n!==Xt)&&(n===Xt&&((Lt&2)===0&&(gs|=o),re===4&&zi(n,At,an,!1)),Un(n))}function dm(n,a,o){if((Lt&6)!==0)throw Error(s(327));var u=!o&&(a&127)===0&&(a&n.expiredLanes)===0||Ba(n,a),g=u?TS(n,a):bh(n,a,!0),p=u;do{if(g===0){oa&&!u&&zi(n,a,0,!1);break}else{if(o=n.current.alternate,p&&!xS(o)){g=bh(n,a,!1),p=!1;continue}if(g===2){if(p=a,n.errorRecoveryDisabledLanes&p)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;t:{var S=n;g=yr;var R=S.current.memoizedState.isDehydrated;if(R&&(ua(S,v).flags|=256),v=bh(S,v,!1),v!==2){if(hh&&!R){S.errorRecoveryDisabledLanes|=p,gs|=p,g=4;break t}p=Ye,Ye=g,p!==null&&(Ye===null?Ye=p:Ye.push.apply(Ye,p))}g=v}if(p=!1,g!==2)continue}}if(g===1){ua(n,0),zi(n,a,0,!0);break}t:{switch(u=n,p=g,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:zi(u,a,an,!Mi);break t;case 2:Ye=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(g=il+300-Ut(),10<g)){if(zi(u,a,an,!Mi),po(u,0,!0)!==0)break t;ai=a,u.timeoutHandle=$m(fm.bind(null,u,o,Ye,al,fh,a,an,gs,la,Mi,p,"Throttled",-0,0),g);break t}fm(u,o,Ye,al,fh,a,an,gs,la,Mi,p,null,-0,0)}}break}while(!0);Un(n)}function fm(n,a,o,u,g,p,v,S,R,B,G,J,P,V){if(n.timeoutHandle=-1,J=a.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},am(a,p,J);var at=(p&62914560)===p?il-Ut():(p&4194048)===p?cm-Ut():0;if(at=ox(J,at),at!==null){ai=p,n.cancelPendingCommit=at(wm.bind(null,n,a,p,o,u,g,v,S,R,G,J,null,P,V)),zi(n,p,v,!B);return}}wm(n,a,p,o,u,g,v,S,R)}function xS(n){for(var a=n;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],p=g.getSnapshot;g=g.value;try{if(!Ze(p(),g))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zi(n,a,o,u){a&=~dh,a&=~gs,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var g=a;0<g;){var p=31-Je(g),v=1<<p;u[p]=-1,g&=~v}o!==0&&xf(n,o,a)}function rl(){return(Lt&6)===0?(vr(0),!1):!0}function yh(){if(Tt!==null){if(Ht===0)var n=Tt.return;else n=Tt,Kn=as=null,ju(n),ta=null,er=0,n=Tt;for(;n!==null;)Vp(n.alternate,n),n=n.return;Tt=null}}function ua(n,a){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,$S(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),ai=0,yh(),Xt=n,Tt=o=Yn(n.current,null),At=a,Ht=0,sn=null,Mi=!1,oa=Ba(n,a),hh=!1,la=an=dh=gs=Di=re=0,Ye=yr=null,fh=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var g=31-Je(u),p=1<<g;a|=n[g],u&=~p}return si=a,Ao(),o}function gm(n,a){_t=null,L.H=cr,a===Zs||a===zo?(a=Cg(),Ht=3):a===wu?(a=Cg(),Ht=4):Ht=a===Xu?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,sn=a,Tt===null&&(re=1,Xo(n,pn(a,n.current)))}function pm(){var n=en.current;return n===null?!0:(At&4194048)===At?vn===null:(At&62914560)===At||(At&536870912)!==0?n===vn:!1}function mm(){var n=L.H;return L.H=cr,n===null?cr:n}function ym(){var n=L.A;return L.A=wS,n}function ol(){re=4,Mi||(At&4194048)!==At&&en.current!==null||(oa=!0),(Di&134217727)===0&&(gs&134217727)===0||Xt===null||zi(Xt,At,an,!1)}function bh(n,a,o){var u=Lt;Lt|=2;var g=mm(),p=ym();(Xt!==n||At!==a)&&(al=null,ua(n,a)),a=!1;var v=re;t:do try{if(Ht!==0&&Tt!==null){var S=Tt,R=sn;switch(Ht){case 8:yh(),v=6;break t;case 3:case 2:case 9:case 6:en.current===null&&(a=!0);var B=Ht;if(Ht=0,sn=null,ha(n,S,R,B),o&&oa){v=0;break t}break;default:B=Ht,Ht=0,sn=null,ha(n,S,R,B)}}ES(),v=re;break}catch(G){gm(n,G)}while(!0);return a&&n.shellSuspendCounter++,Kn=as=null,Lt=u,L.H=g,L.A=p,Tt===null&&(Xt=null,At=0,Ao()),v}function ES(){for(;Tt!==null;)bm(Tt)}function TS(n,a){var o=Lt;Lt|=2;var u=mm(),g=ym();Xt!==n||At!==a?(al=null,sl=Ut()+500,ua(n,a)):oa=Ba(n,a);t:do try{if(Ht!==0&&Tt!==null){a=Tt;var p=sn;e:switch(Ht){case 1:Ht=0,sn=null,ha(n,a,p,1);break;case 2:case 9:if(kg(p)){Ht=0,sn=null,vm(a);break}a=function(){Ht!==2&&Ht!==9||Xt!==n||(Ht=7),Un(n)},p.then(a,a);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:kg(p)?(Ht=0,sn=null,vm(a)):(Ht=0,sn=null,ha(n,a,p,7));break;case 5:var v=null;switch(Tt.tag){case 26:v=Tt.memoizedState;case 5:case 27:var S=Tt;if(v?s0(v):S.stateNode.complete){Ht=0,sn=null;var R=S.sibling;if(R!==null)Tt=R;else{var B=S.return;B!==null?(Tt=B,ll(B)):Tt=null}break e}}Ht=0,sn=null,ha(n,a,p,5);break;case 6:Ht=0,sn=null,ha(n,a,p,6);break;case 8:yh(),re=6;break t;default:throw Error(s(462))}}OS();break}catch(G){gm(n,G)}while(!0);return Kn=as=null,L.H=u,L.A=g,Lt=o,Tt!==null?0:(Xt=null,At=0,Ao(),re)}function OS(){for(;Tt!==null&&!cn();)bm(Tt)}function bm(n){var a=Ip(n.alternate,n,si);n.memoizedProps=n.pendingProps,a===null?ll(n):Tt=a}function vm(n){var a=n,o=a.alternate;switch(a.tag){case 15:case 0:a=Lp(o,a,a.pendingProps,a.type,void 0,At);break;case 11:a=Lp(o,a,a.pendingProps,a.type.render,a.ref,At);break;case 5:ju(a);default:Vp(o,a),a=Tt=yg(a,si),a=Ip(o,a,si)}n.memoizedProps=n.pendingProps,a===null?ll(n):Tt=a}function ha(n,a,o,u){Kn=as=null,ju(a),ta=null,er=0;var g=a.return;try{if(gS(n,g,a,o,At)){re=1,Xo(n,pn(o,n.current)),Tt=null;return}}catch(p){if(g!==null)throw Tt=g,p;re=1,Xo(n,pn(o,n.current)),Tt=null;return}a.flags&32768?(Ct||u===1?n=!0:oa||(At&536870912)!==0?n=!1:(Mi=n=!0,(u===2||u===9||u===3||u===6)&&(u=en.current,u!==null&&u.tag===13&&(u.flags|=16384))),_m(a,n)):ll(a)}function ll(n){var a=n;do{if((a.flags&32768)!==0){_m(a,Mi);return}n=a.return;var o=yS(a.alternate,a,si);if(o!==null){Tt=o;return}if(a=a.sibling,a!==null){Tt=a;return}Tt=a=n}while(a!==null);re===0&&(re=5)}function _m(n,a){do{var o=bS(n.alternate,n);if(o!==null){o.flags&=32767,Tt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(n=n.sibling,n!==null)){Tt=n;return}Tt=n=o}while(n!==null);re=6,Tt=null}function wm(n,a,o,u,g,p,v,S,R){n.cancelPendingCommit=null;do cl();while(ve!==0);if((Lt&6)!==0)throw Error(s(327));if(a!==null){if(a===n.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=ru,aw(n,o,p,v,S,R),n===Xt&&(Tt=Xt=null,At=0),ca=a,Ni=n,ai=o,gh=p,ph=g,um=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,CS(Pe,function(){return Om(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,g=Y.p,Y.p=2,v=Lt,Lt|=4;try{vS(n,a,o)}finally{Lt=v,Y.p=g,L.T=u}}ve=1,Sm(),xm(),Em()}}function Sm(){if(ve===1){ve=0;var n=Ni,a=ca,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var u=Y.p;Y.p=2;var g=Lt;Lt|=4;try{nm(a,n);var p=Ch,v=lg(n.containerInfo),S=p.focusedElem,R=p.selectionRange;if(v!==S&&S&&S.ownerDocument&&og(S.ownerDocument.documentElement,S)){if(R!==null&&eu(S)){var B=R.start,G=R.end;if(G===void 0&&(G=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(G,S.value.length);else{var J=S.ownerDocument||document,P=J&&J.defaultView||window;if(P.getSelection){var V=P.getSelection(),at=S.textContent.length,pt=Math.min(R.start,at),Kt=R.end===void 0?pt:Math.min(R.end,at);!V.extend&&pt>Kt&&(v=Kt,Kt=pt,pt=v);var N=rg(S,pt),C=rg(S,Kt);if(N&&C&&(V.rangeCount!==1||V.anchorNode!==N.node||V.anchorOffset!==N.offset||V.focusNode!==C.node||V.focusOffset!==C.offset)){var U=J.createRange();U.setStart(N.node,N.offset),V.removeAllRanges(),pt>Kt?(V.addRange(U),V.extend(C.node,C.offset)):(U.setEnd(C.node,C.offset),V.addRange(U))}}}}for(J=[],V=S;V=V.parentNode;)V.nodeType===1&&J.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var W=J[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}wl=!!Rh,Ch=Rh=null}finally{Lt=g,Y.p=u,L.T=o}}n.current=a,ve=2}}function xm(){if(ve===2){ve=0;var n=Ni,a=ca,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var u=Y.p;Y.p=2;var g=Lt;Lt|=4;try{Qp(n,a.alternate,a)}finally{Lt=g,Y.p=u,L.T=o}}ve=3}}function Em(){if(ve===4||ve===3){ve=0,Wi();var n=Ni,a=ca,o=ai,u=um;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ve=5:(ve=0,ca=Ni=null,Tm(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(ji=null),Lc(o),a=a.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Tn,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=L.T,g=Y.p,Y.p=2,L.T=null;try{for(var p=n.onRecoverableError,v=0;v<u.length;v++){var S=u[v];p(S.value,{componentStack:S.stack})}}finally{L.T=a,Y.p=g}}(ai&3)!==0&&cl(),Un(n),g=n.pendingLanes,(o&261930)!==0&&(g&42)!==0?n===mh?br++:(br=0,mh=n):br=0,vr(0)}}function Tm(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Za(a)))}function cl(){return Sm(),xm(),Em(),Om()}function Om(){if(ve!==5)return!1;var n=Ni,a=gh;gh=0;var o=Lc(ai),u=L.T,g=Y.p;try{Y.p=32>o?32:o,L.T=null,o=ph,ph=null;var p=Ni,v=ai;if(ve=0,ca=Ni=null,ai=0,(Lt&6)!==0)throw Error(s(331));var S=Lt;if(Lt|=4,om(p.current),sm(p,p.current,v,o),Lt=S,vr(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Tn,p)}catch{}return!0}finally{Y.p=g,L.T=u,Tm(n,a)}}function Am(n,a,o){a=pn(o,a),a=Ku(n.stateNode,a,2),n=Ai(n,a,2),n!==null&&(Ha(n,2),Un(n))}function Pt(n,a,o){if(n.tag===3)Am(n,n,o);else for(;a!==null;){if(a.tag===3){Am(a,n,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ji===null||!ji.has(u))){n=pn(o,n),o=kp(2),u=Ai(a,o,2),u!==null&&(Rp(o,u,a,n),Ha(u,2),Un(u));break}}a=a.return}}function vh(n,a,o){var u=n.pingCache;if(u===null){u=n.pingCache=new SS;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(o)||(hh=!0,g.add(o),n=AS.bind(null,n,a,o),a.then(n,n))}function AS(n,a,o){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Xt===n&&(At&o)===o&&(re===4||re===3&&(At&62914560)===At&&300>Ut()-il?(Lt&2)===0&&ua(n,0):dh|=o,la===At&&(la=0)),Un(n)}function km(n,a){a===0&&(a=Sf()),n=ns(n,a),n!==null&&(Ha(n,a),Un(n))}function kS(n){var a=n.memoizedState,o=0;a!==null&&(o=a.retryLane),km(n,o)}function RS(n,a){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(a),km(n,o)}function CS(n,a){return ie(n,a)}var ul=null,da=null,_h=!1,hl=!1,wh=!1,Li=0;function Un(n){n!==da&&n.next===null&&(da===null?ul=da=n:da=da.next=n),hl=!0,_h||(_h=!0,DS())}function vr(n,a){if(!wh&&hl){wh=!0;do for(var o=!1,u=ul;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var v=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Je(42|n)+1)-1,p&=g&~(v&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Dm(u,p))}else p=At,p=po(u,u===Xt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Ba(u,p)||(o=!0,Dm(u,p));u=u.next}while(o);wh=!1}}function MS(){Rm()}function Rm(){hl=_h=!1;var n=0;Li!==0&&IS()&&(n=Li);for(var a=Ut(),o=null,u=ul;u!==null;){var g=u.next,p=Cm(u,a);p===0?(u.next=null,o===null?ul=g:o.next=g,g===null&&(da=o)):(o=u,(n!==0||(p&3)!==0)&&(hl=!0)),u=g}ve!==0&&ve!==5||vr(n),Li!==0&&(Li=0)}function Cm(n,a){for(var o=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var v=31-Je(p),S=1<<v,R=g[v];R===-1?((S&o)===0||(S&u)!==0)&&(g[v]=sw(S,a)):R<=a&&(n.expiredLanes|=S),p&=~S}if(a=Xt,o=At,o=po(n,n===a?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===a&&(Ht===2||Ht===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&jn(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ba(n,o)){if(a=o&-o,a===n.callbackPriority)return a;switch(u!==null&&jn(u),Lc(o)){case 2:case 8:o=Ee;break;case 32:o=Pe;break;case 268435456:o=Ua;break;default:o=Pe}return u=Mm.bind(null,n),o=ie(o,u),n.callbackPriority=a,n.callbackNode=o,a}return u!==null&&u!==null&&jn(u),n.callbackPriority=2,n.callbackNode=null,2}function Mm(n,a){if(ve!==0&&ve!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(cl()&&n.callbackNode!==o)return null;var u=At;return u=po(n,n===Xt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(dm(n,u,a),Cm(n,Ut()),n.callbackNode!=null&&n.callbackNode===o?Mm.bind(null,n):null)}function Dm(n,a){if(cl())return null;dm(n,a,!0)}function DS(){VS(function(){(Lt&6)!==0?ie(le,MS):Rm()})}function Sh(){if(Li===0){var n=Qs;n===0&&(n=ho,ho<<=1,(ho&261888)===0&&(ho=256)),Li=n}return Li}function jm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:vo(""+n)}function Nm(n,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,n.id&&o.setAttribute("form",n.id),a.parentNode.insertBefore(o,a),n=new FormData(n),o.parentNode.removeChild(o),n}function jS(n,a,o,u,g){if(a==="submit"&&o&&o.stateNode===g){var p=jm((g[qe]||null).action),v=u.submitter;v&&(a=(a=v[qe]||null)?jm(a.formAction):v.getAttribute("formAction"),a!==null&&(p=a,v=null));var S=new xo("action","action",null,u,g);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Li!==0){var R=v?Nm(g,v):new FormData(g);Iu(o,{pending:!0,data:R,method:g.method,action:p},null,R)}}else typeof p=="function"&&(S.preventDefault(),R=v?Nm(g,v):new FormData(g),Iu(o,{pending:!0,data:R,method:g.method,action:p},p,R))},currentTarget:g}]})}}for(var xh=0;xh<au.length;xh++){var Eh=au[xh],NS=Eh.toLowerCase(),zS=Eh[0].toUpperCase()+Eh.slice(1);On(NS,"on"+zS)}On(hg,"onAnimationEnd"),On(dg,"onAnimationIteration"),On(fg,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Qw,"onTransitionRun"),On(Jw,"onTransitionStart"),On(Zw,"onTransitionCancel"),On(gg,"onTransitionEnd"),Us("onMouseEnter",["mouseout","mouseover"]),Us("onMouseLeave",["mouseout","mouseover"]),Us("onPointerEnter",["pointerout","pointerover"]),Us("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_r));function zm(n,a){a=(a&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var v=u.length-1;0<=v;v--){var S=u[v],R=S.instance,B=S.currentTarget;if(S=S.listener,R!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=B;try{p(g)}catch(G){Oo(G)}g.currentTarget=null,p=R}else for(v=0;v<u.length;v++){if(S=u[v],R=S.instance,B=S.currentTarget,S=S.listener,R!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=B;try{p(g)}catch(G){Oo(G)}g.currentTarget=null,p=R}}}}function Ot(n,a){var o=a[Uc];o===void 0&&(o=a[Uc]=new Set);var u=n+"__bubble";o.has(u)||(Lm(a,n,2,!1),o.add(u))}function Th(n,a,o){var u=0;a&&(u|=4),Lm(o,n,u,a)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Oh(n){if(!n[dl]){n[dl]=!0,Rf.forEach(function(o){o!=="selectionchange"&&(LS.has(o)||Th(o,!1,n),Th(o,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[dl]||(a[dl]=!0,Th("selectionchange",!1,a))}}function Lm(n,a,o,u){switch(h0(a)){case 2:var g=ux;break;case 8:g=hx;break;default:g=qh}o=g.bind(null,a,o,n),g=void 0,!Yc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(a,o,{capture:!0,passive:g}):n.addEventListener(a,o,!0):g!==void 0?n.addEventListener(a,o,{passive:g}):n.addEventListener(a,o,!1)}function Ah(n,a,o,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===g)break;if(v===4)for(v=u.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===g)return;v=v.return}for(;S!==null;){if(v=Ns(S),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){u=p=v;continue t}S=S.parentNode}}u=u.return}qf(function(){var B=p,G=Vc(o),J=[];t:{var P=pg.get(n);if(P!==void 0){var V=xo,at=n;switch(n){case"keypress":if(wo(o)===0)break t;case"keydown":case"keyup":V=Rw;break;case"focusin":at="focus",V=Wc;break;case"focusout":at="blur",V=Wc;break;case"beforeblur":case"afterblur":V=Wc;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Dw;break;case hg:case dg:case fg:V=_w;break;case gg:V=Nw;break;case"scroll":case"scrollend":V=pw;break;case"wheel":V=Lw;break;case"copy":case"cut":case"paste":V=Sw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Yf;break;case"toggle":case"beforetoggle":V=Bw}var pt=(a&4)!==0,Kt=!pt&&(n==="scroll"||n==="scrollend"),N=pt?P!==null?P+"Capture":null:P;pt=[];for(var C=B,U;C!==null;){var W=C;if(U=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||U===null||N===null||(W=Ia(C,N),W!=null&&pt.push(wr(C,W,U))),Kt)break;C=C.return}0<pt.length&&(P=new V(P,at,null,o,G),J.push({event:P,listeners:pt}))}}if((a&7)===0){t:{if(P=n==="mouseover"||n==="pointerover",V=n==="mouseout"||n==="pointerout",P&&o!==$c&&(at=o.relatedTarget||o.fromElement)&&(Ns(at)||at[js]))break t;if((V||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,V?(at=o.relatedTarget||o.toElement,V=B,at=at?Ns(at):null,at!==null&&(Kt=l(at),pt=at.tag,at!==Kt||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(V=null,at=B),V!==at)){if(pt=Vf,W="onMouseLeave",N="onMouseEnter",C="mouse",(n==="pointerout"||n==="pointerover")&&(pt=Yf,W="onPointerLeave",N="onPointerEnter",C="pointer"),Kt=V==null?P:qa(V),U=at==null?P:qa(at),P=new pt(W,C+"leave",V,o,G),P.target=Kt,P.relatedTarget=U,W=null,Ns(G)===B&&(pt=new pt(N,C+"enter",at,o,G),pt.target=U,pt.relatedTarget=Kt,W=pt),Kt=W,V&&at)e:{for(pt=US,N=V,C=at,U=0,W=N;W;W=pt(W))U++;W=0;for(var ct=C;ct;ct=pt(ct))W++;for(;0<U-W;)N=pt(N),U--;for(;0<W-U;)C=pt(C),W--;for(;U--;){if(N===C||C!==null&&N===C.alternate){pt=N;break e}N=pt(N),C=pt(C)}pt=null}else pt=null;V!==null&&Um(J,P,V,pt,!1),at!==null&&Kt!==null&&Um(J,Kt,at,pt,!0)}}t:{if(P=B?qa(B):window,V=P.nodeName&&P.nodeName.toLowerCase(),V==="select"||V==="input"&&P.type==="file")var Nt=tg;else if(Jf(P))if(eg)Nt=Kw;else{Nt=Yw;var ot=Fw}else V=P.nodeName,!V||V.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Ic(B.elementType)&&(Nt=tg):Nt=Gw;if(Nt&&(Nt=Nt(n,B))){Zf(J,Nt,o,G);break t}ot&&ot(n,P,B),n==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&qc(P,"number",P.value)}switch(ot=B?qa(B):window,n){case"focusin":(Jf(ot)||ot.contentEditable==="true")&&($s=ot,nu=B,Wa=null);break;case"focusout":Wa=nu=$s=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,cg(J,o,G);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":cg(J,o,G)}var St;if(Jc)t:{switch(n){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Is?Wf(n,o)&&(kt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(Gf&&o.locale!=="ko"&&(Is||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Is&&(St=If()):(_i=G,Gc="value"in _i?_i.value:_i.textContent,Is=!0)),ot=fl(B,kt),0<ot.length&&(kt=new Ff(kt,n,null,o,G),J.push({event:kt,listeners:ot}),St?kt.data=St:(St=Qf(o),St!==null&&(kt.data=St)))),(St=Pw?qw(n,o):Iw(n,o))&&(kt=fl(B,"onBeforeInput"),0<kt.length&&(ot=new Ff("onBeforeInput","beforeinput",null,o,G),J.push({event:ot,listeners:kt}),ot.data=St)),jS(J,n,B,o,G)}zm(J,a)})}function wr(n,a,o){return{instance:n,listener:a,currentTarget:o}}function fl(n,a){for(var o=a+"Capture",u=[];n!==null;){var g=n,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=Ia(n,o),g!=null&&u.unshift(wr(n,g,p)),g=Ia(n,a),g!=null&&u.push(wr(n,g,p))),n.tag===3)return u;n=n.return}return[]}function US(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Um(n,a,o,u,g){for(var p=a._reactName,v=[];o!==null&&o!==u;){var S=o,R=S.alternate,B=S.stateNode;if(S=S.tag,R!==null&&R===u)break;S!==5&&S!==26&&S!==27||B===null||(R=B,g?(B=Ia(o,p),B!=null&&v.unshift(wr(o,B,R))):g||(B=Ia(o,p),B!=null&&v.push(wr(o,B,R)))),o=o.return}v.length!==0&&n.push({event:a,listeners:v})}var BS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function Bm(n){return(typeof n=="string"?n:""+n).replace(BS,`
`).replace(HS,"")}function Hm(n,a){return a=Bm(a),Bm(n)===a}function Gt(n,a,o,u,g,p){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Hs(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Hs(n,""+u);break;case"className":yo(n,"class",u);break;case"tabIndex":yo(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":yo(n,o,u);break;case"style":Hf(n,u,p);break;case"data":if(a!=="object"){yo(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=vo(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&Gt(n,a,"name",g.name,g,null),Gt(n,a,"formEncType",g.formEncType,g,null),Gt(n,a,"formMethod",g.formMethod,g,null),Gt(n,a,"formTarget",g.formTarget,g,null)):(Gt(n,a,"encType",g.encType,g,null),Gt(n,a,"method",g.method,g,null),Gt(n,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=vo(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Vn);break;case"onScroll":u!=null&&Ot("scroll",n);break;case"onScrollEnd":u!=null&&Ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=vo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ot("beforetoggle",n),Ot("toggle",n),mo(n,"popover",u);break;case"xlinkActuate":$n(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":$n(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":$n(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":$n(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":$n(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":$n(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":$n(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":$n(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":$n(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":mo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=fw.get(o)||o,mo(n,o,u))}}function kh(n,a,o,u,g,p){switch(o){case"style":Hf(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Hs(n,u):(typeof u=="number"||typeof u=="bigint")&&Hs(n,""+u);break;case"onScroll":u!=null&&Ot("scroll",n);break;case"onScrollEnd":u!=null&&Ot("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cf.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),a=o.slice(2,g?o.length-7:void 0),p=n[qe]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(a,u,g);break t}o in n?n[o]=u:u===!0?n.setAttribute(o,""):mo(n,o,u)}}}function Re(n,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",n),Ot("load",n);var u=!1,g=!1,p;for(p in o)if(o.hasOwnProperty(p)){var v=o[p];if(v!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Gt(n,a,p,v,o,null)}}g&&Gt(n,a,"srcSet",o.srcSet,o,null),u&&Gt(n,a,"src",o.src,o,null);return;case"input":Ot("invalid",n);var S=p=v=g=null,R=null,B=null;for(u in o)if(o.hasOwnProperty(u)){var G=o[u];if(G!=null)switch(u){case"name":g=G;break;case"type":v=G;break;case"checked":R=G;break;case"defaultChecked":B=G;break;case"value":p=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,a));break;default:Gt(n,a,u,G,o,null)}}zf(n,p,S,R,B,v,g,!1);return;case"select":Ot("invalid",n),u=v=p=null;for(g in o)if(o.hasOwnProperty(g)&&(S=o[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:Gt(n,a,g,S,o,null)}a=p,o=v,n.multiple=!!u,a!=null?Bs(n,!!u,a,!1):o!=null&&Bs(n,!!u,o,!0);return;case"textarea":Ot("invalid",n),p=g=u=null;for(v in o)if(o.hasOwnProperty(v)&&(S=o[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Gt(n,a,v,S,o,null)}Uf(n,u,g,p);return;case"option":for(R in o)if(o.hasOwnProperty(R)&&(u=o[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Gt(n,a,R,u,o,null)}return;case"dialog":Ot("beforetoggle",n),Ot("toggle",n),Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":Ot("load",n);break;case"video":case"audio":for(u=0;u<_r.length;u++)Ot(_r[u],n);break;case"image":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"embed":case"source":case"link":Ot("error",n),Ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Gt(n,a,B,u,o,null)}return;default:if(Ic(a)){for(G in o)o.hasOwnProperty(G)&&(u=o[G],u!==void 0&&kh(n,a,G,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Gt(n,a,S,u,o,null))}function PS(n,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,v=null,S=null,R=null,B=null,G=null;for(V in o){var J=o[V];if(o.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":R=J;default:u.hasOwnProperty(V)||Gt(n,a,V,null,u,J)}}for(var P in u){var V=u[P];if(J=o[P],u.hasOwnProperty(P)&&(V!=null||J!=null))switch(P){case"type":p=V;break;case"name":g=V;break;case"checked":B=V;break;case"defaultChecked":G=V;break;case"value":v=V;break;case"defaultValue":S=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,a));break;default:V!==J&&Gt(n,a,P,V,u,J)}}Pc(n,v,S,R,B,G,p,g);return;case"select":V=v=S=P=null;for(p in o)if(R=o[p],o.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":V=R;default:u.hasOwnProperty(p)||Gt(n,a,p,null,u,R)}for(g in u)if(p=u[g],R=o[g],u.hasOwnProperty(g)&&(p!=null||R!=null))switch(g){case"value":P=p;break;case"defaultValue":S=p;break;case"multiple":v=p;default:p!==R&&Gt(n,a,g,p,u,R)}a=S,o=v,u=V,P!=null?Bs(n,!!o,P,!1):!!u!=!!o&&(a!=null?Bs(n,!!o,a,!0):Bs(n,!!o,o?[]:"",!1));return;case"textarea":V=P=null;for(S in o)if(g=o[S],o.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Gt(n,a,S,null,u,g)}for(v in u)if(g=u[v],p=o[v],u.hasOwnProperty(v)&&(g!=null||p!=null))switch(v){case"value":P=g;break;case"defaultValue":V=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==p&&Gt(n,a,v,g,u,p)}Lf(n,P,V);return;case"option":for(var at in o)if(P=o[at],o.hasOwnProperty(at)&&P!=null&&!u.hasOwnProperty(at))switch(at){case"selected":n.selected=!1;break;default:Gt(n,a,at,null,u,P)}for(R in u)if(P=u[R],V=o[R],u.hasOwnProperty(R)&&P!==V&&(P!=null||V!=null))switch(R){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Gt(n,a,R,P,u,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in o)P=o[pt],o.hasOwnProperty(pt)&&P!=null&&!u.hasOwnProperty(pt)&&Gt(n,a,pt,null,u,P);for(B in u)if(P=u[B],V=o[B],u.hasOwnProperty(B)&&P!==V&&(P!=null||V!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,a));break;default:Gt(n,a,B,P,u,V)}return;default:if(Ic(a)){for(var Kt in o)P=o[Kt],o.hasOwnProperty(Kt)&&P!==void 0&&!u.hasOwnProperty(Kt)&&kh(n,a,Kt,void 0,u,P);for(G in u)P=u[G],V=o[G],!u.hasOwnProperty(G)||P===V||P===void 0&&V===void 0||kh(n,a,G,P,u,V);return}}for(var N in o)P=o[N],o.hasOwnProperty(N)&&P!=null&&!u.hasOwnProperty(N)&&Gt(n,a,N,null,u,P);for(J in u)P=u[J],V=o[J],!u.hasOwnProperty(J)||P===V||P==null&&V==null||Gt(n,a,J,P,u,V)}function Pm(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var g=o[u],p=g.transferSize,v=g.initiatorType,S=g.duration;if(p&&S&&Pm(v)){for(v=0,S=g.responseEnd,u+=1;u<o.length;u++){var R=o[u],B=R.startTime;if(B>S)break;var G=R.transferSize,J=R.initiatorType;G&&Pm(J)&&(R=R.responseEnd,v+=G*(R<S?1:(S-B)/(R-B)))}if(--u,a+=8*(p+v)/(g.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Rh=null,Ch=null;function gl(n){return n.nodeType===9?n:n.ownerDocument}function qm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Im(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Mh(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dh=null;function IS(){var n=window.event;return n&&n.type==="popstate"?n===Dh?!1:(Dh=n,!0):(Dh=null,!1)}var $m=typeof setTimeout=="function"?setTimeout:void 0,$S=typeof clearTimeout=="function"?clearTimeout:void 0,Vm=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof Vm<"u"?function(n){return Vm.resolve(null).then(n).catch(FS)}:$m;function FS(n){setTimeout(function(){throw n})}function Ui(n){return n==="head"}function Fm(n,a){var o=a,u=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(g),ma(a);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Sr(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Sr(o);for(var p=o.firstChild;p;){var v=p.nextSibling,S=p.nodeName;p[Pa]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=v}}else o==="body"&&Sr(n.ownerDocument.body);o=g}while(o);ma(a)}function Ym(n,a){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function jh(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jh(o),Bc(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function YS(n,a,o,u){for(;n.nodeType===1;){var g=o;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Pa])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=_n(n.nextSibling),n===null)break}return null}function GS(n,a,o){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=_n(n.nextSibling),n===null))return null;return n}function Gm(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=_n(n.nextSibling),n===null))return null;return n}function Nh(n){return n.data==="$?"||n.data==="$~"}function zh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function KS(n,a){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||o.readyState!=="loading")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function _n(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var Lh=null;function Km(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(a===0)return _n(n.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}n=n.nextSibling}return null}function Xm(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return n;a--}else o!=="/$"&&o!=="/&"||a++}n=n.previousSibling}return null}function Wm(n,a,o){switch(a=gl(o),n){case"html":if(n=a.documentElement,!n)throw Error(s(452));return n;case"head":if(n=a.head,!n)throw Error(s(453));return n;case"body":if(n=a.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Sr(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Bc(n)}var wn=new Map,Qm=new Set;function pl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ri=Y.d;Y.d={f:XS,r:WS,D:QS,C:JS,L:ZS,m:tx,X:nx,S:ex,M:ix};function XS(){var n=ri.f(),a=rl();return n||a}function WS(n){var a=zs(n);a!==null&&a.tag===5&&a.type==="form"?gp(a):ri.r(n)}var fa=typeof document>"u"?null:document;function Jm(n,a,o){var u=fa;if(u&&typeof a=="string"&&a){var g=fn(a);g='link[rel="'+n+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),Qm.has(g)||(Qm.add(g),n={rel:n,crossOrigin:o,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Re(a,"link",n),Se(a),u.head.appendChild(a)))}}function QS(n){ri.D(n),Jm("dns-prefetch",n,null)}function JS(n,a){ri.C(n,a),Jm("preconnect",n,a)}function ZS(n,a,o){ri.L(n,a,o);var u=fa;if(u&&n&&a){var g='link[rel="preload"][as="'+fn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+fn(o.imageSizes)+'"]')):g+='[href="'+fn(n)+'"]';var p=g;switch(a){case"style":p=ga(n);break;case"script":p=pa(n)}wn.has(p)||(n=y({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:n,as:a},o),wn.set(p,n),u.querySelector(g)!==null||a==="style"&&u.querySelector(xr(p))||a==="script"&&u.querySelector(Er(p))||(a=u.createElement("link"),Re(a,"link",n),Se(a),u.head.appendChild(a)))}}function tx(n,a){ri.m(n,a);var o=fa;if(o&&n){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+fn(u)+'"][href="'+fn(n)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=pa(n)}if(!wn.has(p)&&(n=y({rel:"modulepreload",href:n},a),wn.set(p,n),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Er(p)))return}u=o.createElement("link"),Re(u,"link",n),Se(u),o.head.appendChild(u)}}}function ex(n,a,o){ri.S(n,a,o);var u=fa;if(u&&n){var g=Ls(u).hoistableStyles,p=ga(n);a=a||"default";var v=g.get(p);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(xr(p)))S.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":a},o),(o=wn.get(p))&&Uh(n,o);var R=v=u.createElement("link");Se(R),Re(R,"link",n),R._p=new Promise(function(B,G){R.onload=B,R.onerror=G}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ml(v,a,u)}v={type:"stylesheet",instance:v,count:1,state:S},g.set(p,v)}}}function nx(n,a){ri.X(n,a);var o=fa;if(o&&n){var u=Ls(o).hoistableScripts,g=pa(n),p=u.get(g);p||(p=o.querySelector(Er(g)),p||(n=y({src:n,async:!0},a),(a=wn.get(g))&&Bh(n,a),p=o.createElement("script"),Se(p),Re(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function ix(n,a){ri.M(n,a);var o=fa;if(o&&n){var u=Ls(o).hoistableScripts,g=pa(n),p=u.get(g);p||(p=o.querySelector(Er(g)),p||(n=y({src:n,async:!0,type:"module"},a),(a=wn.get(g))&&Bh(n,a),p=o.createElement("script"),Se(p),Re(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function Zm(n,a,o,u){var g=(g=rt.current)?pl(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=ga(o.href),o=Ls(g).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=ga(o.href);var p=Ls(g).hoistableStyles,v=p.get(n);if(v||(g=g.ownerDocument||g,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,v),(p=g.querySelector(xr(n)))&&!p._p&&(v.instance=p,v.state.loading=5),wn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wn.set(n,o),p||sx(g,n,o,v.state))),a&&u===null)throw Error(s(528,""));return v}if(a&&u!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=pa(o),o=Ls(g).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ga(n){return'href="'+fn(n)+'"'}function xr(n){return'link[rel="stylesheet"]['+n+"]"}function t0(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function sx(n,a,o,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Re(a,"link",o),Se(a),n.head.appendChild(a))}function pa(n){return'[src="'+fn(n)+'"]'}function Er(n){return"script[async]"+n}function e0(n,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+fn(o.href)+'"]');if(u)return a.instance=u,Se(u),u;var g=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Se(u),Re(u,"style",g),ml(u,o.precedence,n),a.instance=u;case"stylesheet":g=ga(o.href);var p=n.querySelector(xr(g));if(p)return a.state.loading|=4,a.instance=p,Se(p),p;u=t0(o),(g=wn.get(g))&&Uh(u,g),p=(n.ownerDocument||n).createElement("link"),Se(p);var v=p;return v._p=new Promise(function(S,R){v.onload=S,v.onerror=R}),Re(p,"link",u),a.state.loading|=4,ml(p,o.precedence,n),a.instance=p;case"script":return p=pa(o.src),(g=n.querySelector(Er(p)))?(a.instance=g,Se(g),g):(u=o,(g=wn.get(p))&&(u=y({},o),Bh(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),Se(g),Re(g,"link",u),n.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,ml(u,o.precedence,n));return a.instance}function ml(n,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===a)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(n,a.firstChild))}function Uh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Bh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var yl=null;function n0(n,a,o){if(yl===null){var u=new Map,g=yl=new Map;g.set(o,u)}else g=yl,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),g=0;g<o.length;g++){var p=o[g];if(!(p[Pa]||p[Te]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(a)||"";v=n+v;var S=u.get(v);S?S.push(p):u.set(v,[p])}}return u}function i0(n,a,o){n=n.ownerDocument||n,n.head.insertBefore(o,a==="title"?n.querySelector("head > title"):null)}function ax(n,a,o){if(o===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function s0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function rx(n,a,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=ga(u.href),p=a.querySelector(xr(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=bl.bind(n),a.then(n,n)),o.state.loading|=4,o.instance=p,Se(p);return}p=a.ownerDocument||a,u=t0(u),(g=wn.get(g))&&Uh(u,g),p=p.createElement("link"),Se(p);var v=p;v._p=new Promise(function(S,R){v.onload=S,v.onerror=R}),Re(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=bl.bind(n),a.addEventListener("load",o),a.addEventListener("error",o))}}var Hh=0;function ox(n,a){return n.stylesheets&&n.count===0&&_l(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&_l(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+a);0<n.imgBytes&&Hh===0&&(Hh=62500*qS());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&_l(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Hh?50:800)+a);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function bl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_l(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var vl=null;function _l(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,vl=new Map,a.forEach(lx,n),vl=null,bl.call(n))}function lx(n,a){if(!(a.state.loading&4)){var o=vl.get(n);if(o)var u=o.get(null);else{o=new Map,vl.set(n,o);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var v=g[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),u=v)}u&&o.set(null,u)}g=a.instance,v=g.getAttribute("data-precedence"),p=o.get(v)||u,p===u&&o.set(null,g),o.set(v,g),this.count++,u=bl.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),a.state.loading|=4}}var Tr={$$typeof:D,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function cx(n,a,o,u,g,p,v,S,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.hiddenUpdates=Nc(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function a0(n,a,o,u,g,p,v,S,R,B,G,J){return n=new cx(n,a,o,v,R,B,G,J,S),a=1,p===!0&&(a|=24),p=tn(3,null,null,a),n.current=p,p.stateNode=n,a=bu(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:a},Su(p),n}function r0(n){return n?(n=Ys,n):Ys}function o0(n,a,o,u,g,p){g=r0(g),u.context===null?u.context=g:u.pendingContext=g,u=Oi(a),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Ai(n,u,a),o!==null&&(Ge(o,n,a),ir(o,n,a))}function l0(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<a?o:a}}function Ph(n,a){l0(n,a),(n=n.alternate)&&l0(n,a)}function c0(n){if(n.tag===13||n.tag===31){var a=ns(n,67108864);a!==null&&Ge(a,n,67108864),Ph(n,67108864)}}function u0(n){if(n.tag===13||n.tag===31){var a=rn();a=zc(a);var o=ns(n,a);o!==null&&Ge(o,n,a),Ph(n,a)}}var wl=!0;function ux(n,a,o,u){var g=L.T;L.T=null;var p=Y.p;try{Y.p=2,qh(n,a,o,u)}finally{Y.p=p,L.T=g}}function hx(n,a,o,u){var g=L.T;L.T=null;var p=Y.p;try{Y.p=8,qh(n,a,o,u)}finally{Y.p=p,L.T=g}}function qh(n,a,o,u){if(wl){var g=Ih(u);if(g===null)Ah(n,a,u,Sl,o),d0(n,u);else if(fx(g,n,a,o,u))u.stopPropagation();else if(d0(n,u),a&4&&-1<dx.indexOf(n)){for(;g!==null;){var p=zs(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Qi(p.pendingLanes);if(v!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var R=1<<31-Je(v);S.entanglements[1]|=R,v&=~R}Un(p),(Lt&6)===0&&(sl=Ut()+500,vr(0))}}break;case 31:case 13:S=ns(p,2),S!==null&&Ge(S,p,2),rl(),Ph(p,2)}if(p=Ih(u),p===null&&Ah(n,a,u,Sl,o),p===g)break;g=p}g!==null&&u.stopPropagation()}else Ah(n,a,u,null,o)}}function Ih(n){return n=Vc(n),$h(n)}var Sl=null;function $h(n){if(Sl=null,n=Ns(n),n!==null){var a=l(n);if(a===null)n=null;else{var o=a.tag;if(o===13){if(n=c(a),n!==null)return n;n=null}else if(o===31){if(n=h(a),n!==null)return n;n=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Sl=n,null}function h0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(un()){case le:return 2;case Ee:return 8;case Pe:case La:return 32;case Ua:return 268435456;default:return 32}default:return 32}}var Vh=!1,Bi=null,Hi=null,Pi=null,Or=new Map,Ar=new Map,qi=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d0(n,a){switch(n){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Or.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(a.pointerId)}}function kr(n,a,o,u,g,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=zs(a),a!==null&&c0(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),n)}function fx(n,a,o,u,g){switch(a){case"focusin":return Bi=kr(Bi,n,a,o,u,g),!0;case"dragenter":return Hi=kr(Hi,n,a,o,u,g),!0;case"mouseover":return Pi=kr(Pi,n,a,o,u,g),!0;case"pointerover":var p=g.pointerId;return Or.set(p,kr(Or.get(p)||null,n,a,o,u,g)),!0;case"gotpointercapture":return p=g.pointerId,Ar.set(p,kr(Ar.get(p)||null,n,a,o,u,g)),!0}return!1}function f0(n){var a=Ns(n.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){n.blockedOn=a,Af(n.priority,function(){u0(o)});return}}else if(a===31){if(a=h(o),a!==null){n.blockedOn=a,Af(n.priority,function(){u0(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xl(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var o=Ih(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);$c=u,o.target.dispatchEvent(u),$c=null}else return a=zs(o),a!==null&&c0(a),n.blockedOn=o,!1;a.shift()}return!0}function g0(n,a,o){xl(n)&&o.delete(a)}function gx(){Vh=!1,Bi!==null&&xl(Bi)&&(Bi=null),Hi!==null&&xl(Hi)&&(Hi=null),Pi!==null&&xl(Pi)&&(Pi=null),Or.forEach(g0),Ar.forEach(g0)}function El(n,a){n.blockedOn===a&&(n.blockedOn=null,Vh||(Vh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gx)))}var Tl=null;function p0(n){Tl!==n&&(Tl=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Tl===n&&(Tl=null);for(var a=0;a<n.length;a+=3){var o=n[a],u=n[a+1],g=n[a+2];if(typeof u!="function"){if($h(u||o)===null)continue;break}var p=zs(o);p!==null&&(n.splice(a,3),a-=3,Iu(p,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function ma(n){function a(R){return El(R,n)}Bi!==null&&El(Bi,n),Hi!==null&&El(Hi,n),Pi!==null&&El(Pi,n),Or.forEach(a),Ar.forEach(a);for(var o=0;o<qi.length;o++){var u=qi[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<qi.length&&(o=qi[0],o.blockedOn===null);)f0(o),o.blockedOn===null&&qi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],p=o[u+1],v=g[qe]||null;if(typeof p=="function")v||p0(o);else if(v){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,v=p[qe]||null)S=v.formAction;else if($h(g)!==null)continue}else S=v.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),p0(o)}}}function m0(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return g=v})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Fh(n){this._internalRoot=n}Ol.prototype.render=Fh.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,u=rn();o0(o,u,n,a,null,null)},Ol.prototype.unmount=Fh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;o0(n.current,2,null,n,null,null),rl(),a[js]=null}};function Ol(n){this._internalRoot=n}Ol.prototype.unstable_scheduleHydration=function(n){if(n){var a=Of();n={blockedOn:null,target:n,priority:a};for(var o=0;o<qi.length&&a!==0&&a<qi[o].priority;o++);qi.splice(o,0,n),o===0&&f0(n)}};var y0=t.version;if(y0!=="19.2.3")throw Error(s(527,y0,"19.2.3"));Y.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(a),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var px={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{Tn=Al.inject(px),De=Al}catch{}}return Cr.createRoot=function(n,a){if(!r(n))throw Error(s(299));var o=!1,u="",g=Ep,p=Tp,v=Op;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=a0(n,1,!1,null,null,o,u,null,g,p,v,m0),n[js]=a.current,Oh(n),new Fh(a)},Cr.hydrateRoot=function(n,a,o){if(!r(n))throw Error(s(299));var u=!1,g="",p=Ep,v=Tp,S=Op,R=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(R=o.formState)),a=a0(n,1,!0,a,o??null,u,g,R,p,v,S,m0),a.context=r0(null),o=a.current,u=rn(),u=zc(u),g=Oi(u),g.callback=null,Ai(o,g,u),o=u,a.current.lanes=o,Ha(a,o),Un(a),n[js]=a.current,Oh(n),new Ol(a)},Cr.version="19.2.3",Cr}var A0;function Ox(){if(A0)return Kh.exports;A0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Kh.exports=Tx(),Kh.exports}var Ax=Ox(),oi={},kl={},wd=function(i,t){return wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])},wd(i,t)};function zb(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wd(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ac=function(){return ac=Object.assign||function(t){for(var e,s=1,r=arguments.length;s<r;s++){e=arguments[s];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},ac.apply(this,arguments)};function ja(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(e[s[r]]=i[s[r]]);return e}function Lb(i,t,e,s){var r=arguments.length,l=r<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,e):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,t,e,s);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(l=(r<3?c(l):r>3?c(t,e,l):c(t,e))||l);return r>3&&l&&Object.defineProperty(t,e,l),l}function Ub(i,t){return function(e,s){t(e,s,i)}}function Bb(i,t,e,s,r,l){function c(O){if(O!==void 0&&typeof O!="function")throw new TypeError("Function expected");return O}for(var h=s.kind,d=h==="getter"?"get":h==="setter"?"set":"value",f=!t&&i?s.static?i:i.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,s.name):{}),y,b=!1,_=e.length-1;_>=0;_--){var w={};for(var x in s)w[x]=x==="access"?{}:s[x];for(var x in s.access)w.access[x]=s.access[x];w.addInitializer=function(O){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(O||null))};var E=(0,e[_])(h==="accessor"?{get:m.get,set:m.set}:m[d],w);if(h==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(y=c(E.get))&&(m.get=y),(y=c(E.set))&&(m.set=y),(y=c(E.init))&&r.unshift(y)}else(y=c(E))&&(h==="field"?r.unshift(y):m[d]=y)}f&&Object.defineProperty(f,s.name,m),b=!0}function Hb(i,t,e){for(var s=arguments.length>2,r=0;r<t.length;r++)e=s?t[r].call(i,e):t[r].call(i);return s?e:void 0}function Pb(i){return typeof i=="symbol"?i:"".concat(i)}function qb(i,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function Ib(i,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,t)}function st(i,t,e,s){function r(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function h(m){try{f(s.next(m))}catch(y){c(y)}}function d(m){try{f(s.throw(m))}catch(y){c(y)}}function f(m){m.done?l(m.value):r(m.value).then(h,d)}f((s=s.apply(i,t||[])).next())})}function $b(i,t){var e={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,r,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(f){return function(m){return d([f,m])}}function d(f){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(e=0)),e;)try{if(s=1,r&&(l=f[0]&2?r.return:f[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,f[1])).done)return l;switch(r=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(l=e.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){e.label=f[1];break}if(f[0]===6&&e.label<l[1]){e.label=l[1],l=f;break}if(l&&e.label<l[2]){e.label=l[2],e.ops.push(f);break}l[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(i,e)}catch(m){f=[6,m],r=0}finally{s=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var wc=Object.create?(function(i,t,e,s){s===void 0&&(s=e);var r=Object.getOwnPropertyDescriptor(t,e);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,r)}):(function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]});function Vb(i,t){for(var e in i)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&wc(t,i,e)}function rc(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],s=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xd(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var s=e.call(i),r,l=[],c;try{for(;(t===void 0||t-- >0)&&!(r=s.next()).done;)l.push(r.value)}catch(h){c={error:h}}finally{try{r&&!r.done&&(e=s.return)&&e.call(s)}finally{if(c)throw c.error}}return l}function Fb(){for(var i=[],t=0;t<arguments.length;t++)i=i.concat(Xd(arguments[t]));return i}function Yb(){for(var i=0,t=0,e=arguments.length;t<e;t++)i+=arguments[t].length;for(var s=Array(i),r=0,t=0;t<e;t++)for(var l=arguments[t],c=0,h=l.length;c<h;c++,r++)s[r]=l[c];return s}function Gb(i,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,l;s<r;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return i.concat(l||Array.prototype.slice.call(t))}function Ra(i){return this instanceof Ra?(this.v=i,this):new Ra(i)}function Kb(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=e.apply(i,t||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(_){return function(w){return Promise.resolve(w).then(_,y)}}function h(_,w){s[_]&&(r[_]=function(x){return new Promise(function(E,O){l.push([_,x,E,O])>1||d(_,x)})},w&&(r[_]=w(r[_])))}function d(_,w){try{f(s[_](w))}catch(x){b(l[0][3],x)}}function f(_){_.value instanceof Ra?Promise.resolve(_.value.v).then(m,y):b(l[0][2],_)}function m(_){d("next",_)}function y(_){d("throw",_)}function b(_,w){_(w),l.shift(),l.length&&d(l[0][0],l[0][1])}}function Xb(i){var t,e;return t={},s("next"),s("throw",function(r){throw r}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(r,l){t[r]=i[r]?function(c){return(e=!e)?{value:Ra(i[r](c)),done:!1}:l?l(c):c}:l}}function Wb(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],e;return t?t.call(i):(i=typeof rc=="function"?rc(i):i[Symbol.iterator](),e={},s("next"),s("throw"),s("return"),e[Symbol.asyncIterator]=function(){return this},e);function s(l){e[l]=i[l]&&function(c){return new Promise(function(h,d){c=i[l](c),r(h,d,c.done,c.value)})}}function r(l,c,h,d){Promise.resolve(d).then(function(f){l({value:f,done:h})},c)}}function Qb(i,t){return Object.defineProperty?Object.defineProperty(i,"raw",{value:t}):i.raw=t,i}var kx=Object.create?(function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}):function(i,t){i.default=t},Sd=function(i){return Sd=Object.getOwnPropertyNames||function(t){var e=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[e.length]=s);return e},Sd(i)};function Jb(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e=Sd(i),s=0;s<e.length;s++)e[s]!=="default"&&wc(t,i,e[s]);return kx(t,i),t}function Zb(i){return i&&i.__esModule?i:{default:i}}function tv(i,t,e,s){if(e==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?i!==t||!s:!t.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?s:e==="a"?s.call(i):s?s.value:t.get(i)}function ev(i,t,e,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?i!==t||!r:!t.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(i,e):r?r.value=e:t.set(i,e),e}function nv(i,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?t===i:i.has(t)}function iv(i,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,r;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],e&&(r=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");r&&(s=function(){try{r.call(this)}catch(l){return Promise.reject(l)}}),i.stack.push({value:t,dispose:s,async:e})}else e&&i.stack.push({async:!0});return t}var Rx=typeof SuppressedError=="function"?SuppressedError:function(i,t,e){var s=new Error(e);return s.name="SuppressedError",s.error=i,s.suppressed=t,s};function sv(i){function t(l){i.error=i.hasError?new Rx(l,i.error,"An error was suppressed during disposal."):l,i.hasError=!0}var e,s=0;function r(){for(;e=i.stack.pop();)try{if(!e.async&&s===1)return s=0,i.stack.push(e),Promise.resolve().then(r);if(e.dispose){var l=e.dispose.call(e.value);if(e.async)return s|=2,Promise.resolve(l).then(r,function(c){return t(c),r()})}else s|=1}catch(c){t(c)}if(s===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return r()}function av(i,t){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,s,r,l,c){return s?t?".jsx":".js":r&&(!l||!c)?e:r+l+"."+c.toLowerCase()+"js"}):i}const Cx={__extends:zb,__assign:ac,__rest:ja,__decorate:Lb,__param:Ub,__esDecorate:Bb,__runInitializers:Hb,__propKey:Pb,__setFunctionName:qb,__metadata:Ib,__awaiter:st,__generator:$b,__createBinding:wc,__exportStar:Vb,__values:rc,__read:Xd,__spread:Fb,__spreadArrays:Yb,__spreadArray:Gb,__await:Ra,__asyncGenerator:Kb,__asyncDelegator:Xb,__asyncValues:Wb,__makeTemplateObject:Qb,__importStar:Jb,__importDefault:Zb,__classPrivateFieldGet:tv,__classPrivateFieldSet:ev,__classPrivateFieldIn:nv,__addDisposableResource:iv,__disposeResources:sv,__rewriteRelativeImportExtension:av},Mx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:iv,get __assign(){return ac},__asyncDelegator:Xb,__asyncGenerator:Kb,__asyncValues:Wb,__await:Ra,__awaiter:st,__classPrivateFieldGet:tv,__classPrivateFieldIn:nv,__classPrivateFieldSet:ev,__createBinding:wc,__decorate:Lb,__disposeResources:sv,__esDecorate:Bb,__exportStar:Vb,__extends:zb,__generator:$b,__importDefault:Zb,__importStar:Jb,__makeTemplateObject:Qb,__metadata:Ib,__param:Ub,__propKey:Pb,__read:Xd,__rest:ja,__rewriteRelativeImportExtension:av,__runInitializers:Hb,__setFunctionName:qb,__spread:Fb,__spreadArray:Gb,__spreadArrays:Yb,__values:rc,default:Cx},Symbol.toStringTag,{value:"Module"})),Dx=i=>i?(...t)=>i(...t):(...t)=>fetch(...t);let Sc=class extends Error{constructor(t,e="FunctionsError",s){super(t),this.name=e,this.context=s}},rv=class extends Sc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},xd=class extends Sc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ed=class extends Sc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var oc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(oc||(oc={}));class jx{constructor(t,{headers:e={},customFetch:s,region:r=oc.Any}={}){this.url=t,this.headers=e,this.region=r,this.fetch=Dx(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return st(this,arguments,void 0,function*(e,s={}){var r;let l,c;try{const{headers:h,method:d,body:f,signal:m,timeout:y}=s;let b={},{region:_}=s;_||(_=this.region);const w=new URL(`${this.url}/${e}`);_&&_!=="any"&&(b["x-region"]=_,w.searchParams.set("forceFunctionRegion",_));let x;f&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(b["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(b["Content-Type"]="application/json",x=JSON.stringify(f)):x=f;let E=m;y&&(c=new AbortController,l=setTimeout(()=>c.abort(),y),m?(E=c.signal,m.addEventListener("abort",()=>c.abort())):E=c.signal);const O=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),h),body:x,signal:E}).catch($=>{throw new rv($)}),j=O.headers.get("x-relay-error");if(j&&j==="true")throw new xd(O);if(!O.ok)throw new Ed(O);let D=((r=O.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),I;return D==="application/json"?I=yield O.json():D==="application/octet-stream"||D==="application/pdf"?I=yield O.blob():D==="text/event-stream"?I=O:D==="multipart/form-data"?I=yield O.formData():I=yield O.text(),{data:I,error:null,response:O}}catch(h){return{data:null,error:h,response:h instanceof Ed||h instanceof xd?h.context:void 0}}finally{l&&clearTimeout(l)}})}}const Nx=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return oc},FunctionsClient:jx,FunctionsError:Sc,FunctionsFetchError:rv,FunctionsHttpError:Ed,FunctionsRelayError:xd},Symbol.toStringTag,{value:"Module"})),ov=ro(Nx);var Ne={};const Na=ro(Mx);var Rl={},Cl={},Ml={},Dl={},jl={},Nl={},k0;function lv(){if(k0)return Nl;k0=1,Object.defineProperty(Nl,"__esModule",{value:!0});class i extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return Nl.default=i,Nl}var R0;function cv(){if(R0)return jl;R0=1,Object.defineProperty(jl,"__esModule",{value:!0});const t=Na.__importDefault(lv());let e=class{constructor(r){var l,c;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(l=r.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=r.signal,this.isMaybeSingle=(c=r.isMaybeSingle)!==null&&c!==void 0?c:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,l){return this.headers=new Headers(this.headers),this.headers.set(r,l),this}then(r,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,y,b;let _=null,w=null,x=null,E=d.status,O=d.statusText;if(d.ok){if(this.method!=="HEAD"){const $=await d.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?w=$:w=JSON.parse($))}const D=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),I=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");D&&I&&I.length>1&&(x=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,x=null,E=406,O="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const D=await d.text();try{_=JSON.parse(D),Array.isArray(_)&&d.status===404&&(w=[],_=null,E=200,O="OK")}catch{d.status===404&&D===""?(E=204,O="No Content"):_={message:D}}if(_&&this.isMaybeSingle&&(!((b=_?.details)===null||b===void 0)&&b.includes("0 rows"))&&(_=null,E=200,O="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:w,count:x,status:E,statusText:O}});return this.shouldThrowOnError||(h=h.catch(d=>{var f,m,y,b,_,w;let x="";const E=d?.cause;if(E){const O=(f=E?.message)!==null&&f!==void 0?f:"",j=(m=E?.code)!==null&&m!==void 0?m:"";x=`${(y=d?.name)!==null&&y!==void 0?y:"FetchError"}: ${d?.message}`,x+=`

Caused by: ${(b=E?.name)!==null&&b!==void 0?b:"Error"}: ${O}`,j&&(x+=` (${j})`),E?.stack&&(x+=`
${E.stack}`)}else x=(_=d?.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(w=d?.name)!==null&&w!==void 0?w:"FetchError"}: ${d?.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(r,l)}returns(){return this}overrideTypes(){return this}};return jl.default=e,jl}var C0;function uv(){if(C0)return Dl;C0=1,Object.defineProperty(Dl,"__esModule",{value:!0});const t=Na.__importDefault(cv());let e=class extends t.default{select(r){let l=!1;const c=(r??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:d=h}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${r}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${r}`),this}range(r,l,{foreignTable:c,referencedTable:h=c}={}){const d=typeof h>"u"?"offset":`${h}.offset`,f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(d,`${r}`),this.url.searchParams.set(f,`${l-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:d=!1,format:f="text"}={}){var m;const y=[r?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,d?"wal":null].filter(Boolean).join("|"),b=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${b}"; options=${y};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};return Dl.default=e,Dl}var M0;function Wd(){if(M0)return Ml;M0=1,Object.defineProperty(Ml,"__esModule",{value:!0});const t=Na.__importDefault(uv()),e=new RegExp("[,()]");let s=class extends t.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const h=Array.from(new Set(c)).map(d=>typeof d=="string"&&e.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:h,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${f}fts${m}.${c}`),this}match(l){return Object.entries(l).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(l,c,h){return this.url.searchParams.append(l,`not.${c}.${h}`),this}or(l,{foreignTable:c,referencedTable:h=c}={}){const d=h?`${h}.or`:"or";return this.url.searchParams.append(d,`(${l})`),this}filter(l,c,h){return this.url.searchParams.append(l,`${c}.${h}`),this}};return Ml.default=s,Ml}var D0;function hv(){if(D0)return Cl;D0=1,Object.defineProperty(Cl,"__esModule",{value:!0});const t=Na.__importDefault(Wd());let e=class{constructor(r,{headers:l={},schema:c,fetch:h}){this.url=r,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(r,l){const{head:c=!1,count:h}=l??{},d=c?"HEAD":"GET";let f=!1;const m=(r??"*").split("").map(y=>/\s/.test(y)&&!f?"":(y==='"'&&(f=!f),y)).join("");return this.url.searchParams.set("select",m),h&&this.headers.append("Prefer",`count=${h}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:l,defaultToNull:c=!0}={}){var h;const d="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const f=r.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(f.length>0){const m=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(r,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const y=r.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(y.length>0){const b=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(r,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:r}={}){var l;const c="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return Cl.default=e,Cl}var j0;function zx(){if(j0)return Rl;j0=1,Object.defineProperty(Rl,"__esModule",{value:!0});const i=Na,t=i.__importDefault(hv()),e=i.__importDefault(Wd());let s=class dv{constructor(l,{headers:c={},schema:h,fetch:d}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=d}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new dv(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:d=!1,count:f}={}){var m;let y;const b=new URL(`${this.url}/rpc/${l}`);let _;h||d?(y=h?"HEAD":"GET",Object.entries(c).filter(([x,E])=>E!==void 0).map(([x,E])=>[x,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([x,E])=>{b.searchParams.append(x,E)})):(y="POST",_=c);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new e.default({method:y,url:b,headers:w,schema:this.schemaName,body:_,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Rl.default=s,Rl}var N0;function fv(){if(N0)return Ne;N0=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const i=Na,t=i.__importDefault(zx());Ne.PostgrestClient=t.default;const e=i.__importDefault(hv());Ne.PostgrestQueryBuilder=e.default;const s=i.__importDefault(Wd());Ne.PostgrestFilterBuilder=s.default;const r=i.__importDefault(uv());Ne.PostgrestTransformBuilder=r.default;const l=i.__importDefault(cv());Ne.PostgrestBuilder=l.default;const c=i.__importDefault(lv());return Ne.PostgrestError=c.default,Ne.default={PostgrestClient:t.default,PostgrestQueryBuilder:e.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:l.default,PostgrestError:c.default},Ne}class gv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const e=process.versions;if(e&&e.node){const s=e.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const s=this.getWebSocketConstructor();return new s(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Lx="2.87.1",Ux=`realtime-js/${Lx}`,pv="1.0.0",Bx="2.0.0",z0=pv,Td=1e4,Hx=1e3,Px=100;var Ts;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ts||(Ts={}));var me;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(me||(me={}));var Mn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Mn||(Mn={}));var Od;(function(i){i.websocket="websocket"})(Od||(Od={}));var Os;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Os||(Os={}));class qx{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,e){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return e(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var e;return this._isArrayBuffer((e=t.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var e,s;const r=(s=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(t){var e,s;const r=(s=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,e,s){var r,l;const c=t.topic,h=(r=t.ref)!==null&&r!==void 0?r:"",d=(l=t.join_ref)!==null&&l!==void 0?l:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},y=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+c.length+f.length+y.length,_=new ArrayBuffer(this.HEADER_LENGTH+b);let w=new DataView(_),x=0;w.setUint8(x++,this.KINDS.userBroadcastPush),w.setUint8(x++,d.length),w.setUint8(x++,h.length),w.setUint8(x++,c.length),w.setUint8(x++,f.length),w.setUint8(x++,y.length),w.setUint8(x++,e),Array.from(d,O=>w.setUint8(x++,O.charCodeAt(0))),Array.from(h,O=>w.setUint8(x++,O.charCodeAt(0))),Array.from(c,O=>w.setUint8(x++,O.charCodeAt(0))),Array.from(f,O=>w.setUint8(x++,O.charCodeAt(0))),Array.from(y,O=>w.setUint8(x++,O.charCodeAt(0)));var E=new Uint8Array(_.byteLength+s.byteLength);return E.set(new Uint8Array(_),0),E.set(new Uint8Array(s),_.byteLength),E.buffer}decode(t,e){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return e(s)}if(typeof t=="string"){const s=JSON.parse(t),[r,l,c,h,d]=s;return e({join_ref:r,ref:l,topic:c,event:h,payload:d})}return e({})}_binaryDecode(t){const e=new DataView(t),s=e.getUint8(0),r=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,e,r)}}_decodeUserBroadcast(t,e,s){const r=e.getUint8(1),l=e.getUint8(2),c=e.getUint8(3),h=e.getUint8(4);let d=this.HEADER_LENGTH+4;const f=s.decode(t.slice(d,d+r));d=d+r;const m=s.decode(t.slice(d,d+l));d=d+l;const y=s.decode(t.slice(d,d+c));d=d+c;const b=t.slice(d,t.byteLength),_=h===this.JSON_ENCODING?JSON.parse(s.decode(b)):b,w={type:this.BROADCAST_EVENT,event:m,payload:_};return c>0&&(w.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var e;return t instanceof ArrayBuffer||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}_pick(t,e){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>e.includes(s)))}}class mv{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Wt||(Wt={}));const L0=(i,t,e={})=>{var s;const r=(s=e.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((l,c)=>(l[c]=Ix(c,i,t,r),l),{}):{}},Ix=(i,t,e,s)=>{const r=t.find(h=>h.name===i),l=r?.type,c=e[i];return l&&!s.includes(l)?yv(l,c):Ad(c)},yv=(i,t)=>{if(i.charAt(0)==="_"){const e=i.slice(1,i.length);return Yx(t,e)}switch(i){case Wt.bool:return $x(t);case Wt.float4:case Wt.float8:case Wt.int2:case Wt.int4:case Wt.int8:case Wt.numeric:case Wt.oid:return Vx(t);case Wt.json:case Wt.jsonb:return Fx(t);case Wt.timestamp:return Gx(t);case Wt.abstime:case Wt.date:case Wt.daterange:case Wt.int4range:case Wt.int8range:case Wt.money:case Wt.reltime:case Wt.text:case Wt.time:case Wt.timestamptz:case Wt.timetz:case Wt.tsrange:case Wt.tstzrange:return Ad(t);default:return Ad(t)}},Ad=i=>i,$x=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Vx=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},Fx=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(t){return console.log(`JSON parse error: ${t}`),i}return i},Yx=(i,t)=>{if(typeof i!="string")return i;const e=i.length-1,s=i[e];if(i[0]==="{"&&s==="}"){let l;const c=i.slice(1,e);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>yv(t,h))}return i},Gx=i=>typeof i=="string"?i.replace(" ","T"):i,bv=i=>{const t=new URL(i);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Jh{constructor(t,e,s={},r=Td){this.channel=t,this.event=e,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var s;return this._hasReceived(t)&&e((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var kd;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(kd||(kd={}));let vv=class Jl{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jl.syncState(this.state,r,l,c),this.pendingDiffs.forEach(d=>{this.state=Jl.syncDiff(this.state,d,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},r=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Jl.syncDiff(this.state,r,l,c),h())}),this.onJoin((r,l,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:l,newPresences:c})}),this.onLeave((r,l,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,s,r){const l=this.cloneDeep(t),c=this.transformState(e),h={},d={};return this.map(l,(f,m)=>{c[f]||(d[f]=m)}),this.map(c,(f,m)=>{const y=l[f];if(y){const b=m.map(E=>E.presence_ref),_=y.map(E=>E.presence_ref),w=m.filter(E=>_.indexOf(E.presence_ref)<0),x=y.filter(E=>b.indexOf(E.presence_ref)<0);w.length>0&&(h[f]=w),x.length>0&&(d[f]=x)}else h[f]=m}),this.syncDiff(l,{joins:h,leaves:d},s,r)}static syncDiff(t,e,s,r){const{joins:l,leaves:c}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(l,(h,d)=>{var f;const m=(f=t[h])!==null&&f!==void 0?f:[];if(t[h]=this.cloneDeep(d),m.length>0){const y=t[h].map(_=>_.presence_ref),b=m.filter(_=>y.indexOf(_.presence_ref)<0);t[h].unshift(...b)}s(h,m,d)}),this.map(c,(h,d)=>{let f=t[h];if(!f)return;const m=d.map(y=>y.presence_ref);f=f.filter(y=>m.indexOf(y.presence_ref)<0),t[h]=f,r(h,f,d),f.length===0&&delete t[h]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(s=>e(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,s)=>{const r=t[s];return"metas"in r?e[s]=r.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):e[s]=r,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Rd;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Rd||(Rd={}));var Ta;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ta||(Ta={}));var qn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));const Kx=me;let _v=class Hr{constructor(t,e={config:{}},s){var r,l;if(this.topic=t,this.params=e,this.socket=s,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Jh(this,Mn.join,this.params,this.timeout),this.rejoinTimer=new mv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new vv(this),this.broadcastEndpointURL=bv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var s,r,l;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params,f=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(_=>_.filter))!==null&&r!==void 0?r:[],m=!!this.bindings[Ta.PRESENCE]&&this.bindings[Ta.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},b={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(qn.CHANNEL_ERROR,_)),this._onClose(()=>t?.(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(qn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,E=(w=x?.length)!==null&&w!==void 0?w:0,O=[];for(let j=0;j<E;j++){const D=x[j],{filter:{event:I,schema:$,table:Q,filter:q}}=D,T=_&&_[j];if(T&&T.event===I&&Hr.isFilterValueEqual(T.schema,$)&&Hr.isFilterValueEqual(T.table,Q)&&Hr.isFilterValueEqual(T.filter,q))O.push(Object.assign(Object.assign({},D),{id:T.id}));else{this.unsubscribe(),this.state=me.errored,t?.(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(qn.SUBSCRIBED);return}}).receive("error",_=>{this.state=me.errored,t?.(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,s){return this.state===me.joined&&t===Ta.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,e,s)}async httpSend(t,e,s={}){var r;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const f=await h.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,e={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=e.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=f.body)===null||r===void 0?void 0:r.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,d;const f=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=me.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Jh(this,Mn.leave,{},t),s.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=me.closed,this.bindings={}}async _fetchWithTimeout(t,e,s){const r=new AbortController,l=setTimeout(()=>r.abort(),s),c=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:r.signal}));return clearTimeout(l),c}_push(t,e,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Jh(this,t,e,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Px){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,s){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,s){var r,l;const c=t.toLocaleLowerCase(),{close:h,error:d,leave:f,join:m}=Mn;if(s&&[h,d,f,m].indexOf(c)>=0&&s!==this._joinRef())return;let b=this._onMessage(c,e,s);if(e&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(_=>{var w,x,E;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(x=_.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(_=>_.callback(b,s)):(l=this.bindings[c])===null||l===void 0||l.filter(_=>{var w,x,E,O,j,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const I=_.id,$=(w=_.filter)===null||w===void 0?void 0:w.event;return I&&((x=e.ids)===null||x===void 0?void 0:x.includes(I))&&($==="*"||$?.toLocaleLowerCase()===((E=e.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const I=(j=(O=_?.filter)===null||O===void 0?void 0:O.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return I==="*"||I===((D=e?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:x,table:E,commit_timestamp:O,type:j,errors:D}=w;b=Object.assign(Object.assign({},{schema:x,table:E,commit_timestamp:O,eventType:j,new:{},old:{},errors:D}),this._getPayloadRecords(w))}_.callback(b,s)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,s){const r=t.toLocaleLowerCase(),l={type:r,filter:e,callback:s};return this.bindings[r]?this.bindings[r].push(l):this.bindings[r]=[l],this}_off(t,e){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var l;return!(((l=r.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Hr.isEqual(r.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}static isFilterValueEqual(t,e){return(t??void 0)===(e??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mn.close,{},t)}_onError(t){this._on(Mn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=L0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=L0(t.columns,t.old_record)),e}};const Zh=()=>{},zl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xx=[1e3,2e3,5e3,1e4],Wx=1e4,Qx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Jx=class{constructor(t,e){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Td,this.transport=null,this.heartbeatIntervalMs=zl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zh,this.ref=0,this.reconnectTimer=null,this.vsn=z0,this.logger=Zh,this.conn=null,this.sendBuffer=[],this.serializer=new qx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...l)=>r(...l):(...l)=>fetch(...l),!(!((s=e?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${Od.websocket}`,this.httpEndpoint=bv(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,s){this.logger(t,e,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ts.connecting:return Os.Connecting;case Ts.open:return Os.Open;case Ts.closing:return Os.Closing;default:return Os.Closed}}isConnected(){return this.connectionState()===Os.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const s=`realtime:${t}`,r=this.getChannels().find(l=>l.topic===s);if(r)return r;{const l=new _v(`realtime:${t}`,e,this);return this.channels.push(l),l}}push(t){const{topic:e,event:s,payload:r,ref:l}=t,c=()=>{this.encode(t,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${e} ${s} (${l})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Hx,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},zl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:l,ref:c}=e,h=c?`(${c})`:"",d=l.status||"";this.log("receive",`${d} ${s} ${r} ${h}`.trim(),l),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(r,l,c)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ts.open||this.conn.readyState===Ts.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const s=t.match(/\?/)?"&":"?",r=new URLSearchParams(e);return`${t}${s}${r}`}_workerObjectUrl(t){let e;if(t)e=t;else{const s=new Blob([Qx],{type:"application/javascript"});e=URL.createObjectURL(s)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e,s=!1;if(t)e=t,s=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),e=this.accessTokenValue}else e=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{const l={access_token:e,version:Ux};e&&r.updateJoinPayload(l),r.joinedOnce&&r._isJoined()&&r._push(Mn.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(e=>{this.log("error",`Error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(e)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new mv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,s,r,l,c,h,d,f,m,y,b,_;switch(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:Td,this.heartbeatIntervalMs=(r=t?.heartbeatIntervalMs)!==null&&r!==void 0?r:zl.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:Zh,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:z0,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>Xx[w-1]||Wx),this.vsn){case pv:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((w,x)=>x(JSON.stringify(w))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:((w,x)=>x(JSON.parse(w)));break;case Bx:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const Zx=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Kx,get REALTIME_LISTEN_TYPES(){return Ta},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Rd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return kd},get REALTIME_SUBSCRIBE_STATES(){return qn},RealtimeChannel:_v,RealtimeClient:Jx,RealtimePresence:vv,WebSocketFactory:gv},Symbol.toStringTag,{value:"Module"})),wv=ro(Zx);class oo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ne(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Sv extends oo{constructor(t,e,s){super(t),this.name="StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lc extends oo{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}const Qd=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),t1=()=>Response,Cd=i=>{if(Array.isArray(i))return i.map(e=>Cd(e));if(typeof i=="function"||i!==Object(i))return i;const t={};return Object.entries(i).forEach(([e,s])=>{const r=e.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[r]=Cd(s)}),t},e1=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},n1=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),td=i=>{var t;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(t=i.error)===null||t===void 0?void 0:t.message)||JSON.stringify(i)},i1=(i,t,e)=>st(void 0,void 0,void 0,function*(){const s=yield t1();i instanceof s&&!e?.noResolveJson?i.json().then(r=>{const l=i.status||500,c=r?.statusCode||l+"";t(new Sv(td(r),l,c))}).catch(r=>{t(new lc(td(r),r))}):t(new lc(td(i),i))}),s1=(i,t,e,s)=>{const r={method:i,headers:t?.headers||{}};return i==="GET"||!s?r:(e1(s)?(r.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r.body=JSON.stringify(s)):r.body=s,t?.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),e))};function lo(i,t,e,s,r,l){return st(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(e,s1(t,s,r,l)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>i1(d,h,s))})})}function Xr(i,t,e,s){return st(this,void 0,void 0,function*(){return lo(i,"GET",t,e,s)})}function Cn(i,t,e,s,r){return st(this,void 0,void 0,function*(){return lo(i,"POST",t,s,r,e)})}function Md(i,t,e,s,r){return st(this,void 0,void 0,function*(){return lo(i,"PUT",t,s,r,e)})}function a1(i,t,e,s){return st(this,void 0,void 0,function*(){return lo(i,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),s)})}function Jd(i,t,e,s,r){return st(this,void 0,void 0,function*(){return lo(i,"DELETE",t,s,r,e)})}class r1{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return st(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}}var xv;class o1{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[xv]="BlobDownloadBuilder",this.promise=null}asStream(){return new r1(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return st(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}}xv=Symbol.toStringTag;const l1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},U0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c1{constructor(t,e={},s,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=s,this.fetch=Qd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,s,r){return st(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},U0),r);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),d&&l.append("metadata",this.encodeMetadata(d)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),d&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(d))):(l=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),r?.headers&&(h=Object.assign(Object.assign({},h),r.headers));const f=this._removeEmptyFolders(e),m=this._getFinalPath(f),y=yield(t=="PUT"?Md:Cn)(this.fetch,`${this.url}/object/${m}`,l,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ne(l))return{data:null,error:l};throw l}})}upload(t,e,s){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,s)})}uploadToSignedUrl(t,e,s,r){return st(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",e);try{let d;const f=Object.assign({upsert:U0.upsert},r),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",f.cacheControl)):(d=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const y=yield Md(this.fetch,h.toString(),d,{headers:m});return{data:{path:l,fullPath:y.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ne(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,e){return st(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const r=Object.assign({},this.headers);e?.upsert&&(r["x-upsert"]="true");const l=yield Cn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new oo("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}update(t,e,s){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,s)})}move(t,e,s){return st(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}copy(t,e,s){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield Cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}createSignedUrl(t,e,s){return st(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),l=yield Cn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:e},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}createSignedUrls(t,e,s){return st(this,void 0,void 0,function*(){try{const r=yield Cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(e?.transform||{}),c=l?`?${l}`:"",h=this._getFinalPath(t),d=()=>Xr(this.fetch,`${this.url}/${r}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new o1(d,this.shouldThrowOnError)}info(t){return st(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const s=yield Xr(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Cd(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}exists(t){return st(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield a1(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s)&&s instanceof lc){const r=s.originalError;if([400,404].includes(r?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,e){const s=this._getFinalPath(t),r=[],l=e?.download?`download=${e.download===!0?"":e.download}`:"";l!==""&&r.push(l);const h=typeof e?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(e?.transform||{});d!==""&&r.push(d);let f=r.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${f}`)}}}remove(t){return st(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}list(t,e,s){return st(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},l1),e),{prefix:t||""});return{data:yield Cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}listV2(t,e){return st(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},e),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const Ev="2.87.1",Tv={"X-Client-Info":`storage-js/${Ev}`};class u1{constructor(t,e={},s,r){this.shouldThrowOnError=!1;const l=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tv),e),this.fetch=Qd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return st(this,void 0,void 0,function*(){try{const e=this.listBucketOptionsToQueryString(t);return{data:yield Xr(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}getBucket(t){return st(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}createBucket(t){return st(this,arguments,void 0,function*(e,s={public:!1}){try{return{data:yield Cn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return st(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}emptyBucket(t){return st(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}deleteBucket(t){return st(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}}var Wr=class extends Error{constructor(i,t){super(i),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function h1(i,t,e){const s=new URL(t,i);if(e)for(const[r,l]of Object.entries(e))l!==void 0&&s.searchParams.set(r,l);return s.toString()}async function d1(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function f1(i){const t=i.fetchImpl??globalThis.fetch;return{async request({method:e,path:s,query:r,body:l,headers:c}){const h=h1(i.baseUrl,s,r),d=await d1(i.auth),f=await t(h,{method:e,headers:{...l?{"Content-Type":"application/json"}:{},...d,...c},body:l?JSON.stringify(l):void 0}),m=await f.text(),y=(f.headers.get("content-type")||"").includes("application/json"),b=y&&m?JSON.parse(m):m;if(!f.ok){const _=y?b:void 0,w=_?.error;throw new Wr(w?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:w?.type,icebergCode:w?.code,details:_})}return{status:f.status,headers:f.headers,data:b}}}}function Ll(i){return i.join("")}var g1=class{constructor(i,t=""){this.client=i,this.prefix=t}async listNamespaces(i){const t=i?{parent:Ll(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(i,t){const e={namespace:i.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:e})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ll(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ll(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ll(i.namespace)}`}),!0}catch(t){if(t instanceof Wr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(i,t){try{return await this.createNamespace(i,t)}catch(e){if(e instanceof Wr&&e.status===409)return;throw e}}};function ya(i){return i.join("")}var p1=class{constructor(i,t="",e){this.client=i,this.prefix=t,this.accessDelegation=e}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ya(i.namespace)}/tables`})).data.identifiers}async createTable(i,t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ya(i.namespace)}/tables`,body:t,headers:e})).data.metadata}async updateTable(i,t){const e=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ya(i.namespace)}/tables/${i.name}`,body:t});return{"metadata-location":e.data["metadata-location"],metadata:e.data.metadata}}async dropTable(i,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ya(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(i){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ya(i.namespace)}/tables/${i.name}`,headers:t})).data.metadata}async tableExists(i){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ya(i.namespace)}/tables/${i.name}`,headers:t}),!0}catch(e){if(e instanceof Wr&&e.status===404)return!1;throw e}}async createTableIfNotExists(i,t){try{return await this.createTable(i,t)}catch(e){if(e instanceof Wr&&e.status===409)return await this.loadTable({namespace:i.namespace,name:t.name});throw e}}},m1=class{constructor(i){let t="v1";i.catalogName&&(t+=`/${i.catalogName}`);const e=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=f1({baseUrl:e,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new g1(this.client,t),this.tableOps=new p1(this.client,t,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,t){return this.namespaceOps.createNamespace(i,t)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,t){return this.tableOps.createTable(i,t)}async updateTable(i,t){return this.tableOps.updateTable(i,t)}async dropTable(i,t){await this.tableOps.dropTable(i,t)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,t){return this.namespaceOps.createNamespaceIfNotExists(i,t)}async createTableIfNotExists(i,t){return this.tableOps.createTableIfNotExists(i,t)}};class Ov{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tv),e),this.fetch=Qd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return st(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}listBuckets(t){return st(this,void 0,void 0,function*(){try{const e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);const s=e.toString(),r=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Xr(this.fetch,r,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}deleteBucket(t){return st(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}from(t){if(!n1(t))throw new oo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const e=new m1({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>st(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(e,{get(l,c){const h=l[c];return typeof h!="function"?h:(...d)=>st(this,void 0,void 0,function*(){try{return{data:yield h.apply(l,d),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}})}})}}const Zd={"X-Client-Info":`storage-js/${Ev}`,"Content-Type":"application/json"};class tf extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function We(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class Zl extends tf{constructor(t,e,s){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Av extends tf{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}}var Dd;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Dd||(Dd={}));const xc=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),y1=()=>Response,kv=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},b1=i=>Array.from(new Float32Array(i)),v1=(i,t)=>{if(t!==void 0&&i.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${i.float32.length}`)},B0=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),_1=(i,t,e)=>st(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!e?.noResolveJson){const r=i.status||500,l=i;if(typeof l.json=="function")l.json().then(c=>{const h=c?.statusCode||c?.code||r+"";t(new Zl(B0(c),r,h))}).catch(()=>{const c=r+"",h=l.statusText||`HTTP ${r} error`;t(new Zl(h,r,c))});else{const c=r+"",h=l.statusText||`HTTP ${r} error`;t(new Zl(h,r,c))}}else t(new Av(B0(i),i))}),w1=(i,t,e,s)=>{const r={method:i,headers:t?.headers||{}};return s?(kv(s)?(r.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r.body=JSON.stringify(s)):r.body=s,Object.assign(Object.assign({},r),e)):r};function S1(i,t,e,s,r,l){return st(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(e,w1(t,s,r,l)).then(d=>{if(!d.ok)throw d;if(s?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>_1(d,h,s))})})}function ln(i,t,e,s,r){return st(this,void 0,void 0,function*(){return S1(i,"POST",t,s,r,e)})}class Rv{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zd),e),this.fetch=xc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return st(this,void 0,void 0,function*(){try{return{data:(yield ln(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}getIndex(t,e){return st(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}listIndexes(t){return st(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return st(this,void 0,void 0,function*(){try{return{data:(yield ln(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}}class Cv{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zd),e),this.fetch=xc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return st(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ln(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}getVectors(t){return st(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}listVectors(t){return st(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ln(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}queryVectors(t){return st(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}deleteVectors(t){return st(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ln(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}}class Mv{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zd),e),this.fetch=xc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return st(this,void 0,void 0,function*(){try{return{data:(yield ln(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}getBucket(t){return st(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}listBuckets(){return st(this,arguments,void 0,function*(t={}){try{return{data:yield ln(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}deleteBucket(t){return st(this,void 0,void 0,function*(){try{return{data:(yield ln(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}}class Dv extends Mv{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new jv(this.url,this.headers,t,this.fetch)}createBucket(t){const e=Object.create(null,{createBucket:{get:()=>super.createBucket}});return st(this,void 0,void 0,function*(){return e.createBucket.call(this,t)})}getBucket(t){const e=Object.create(null,{getBucket:{get:()=>super.getBucket}});return st(this,void 0,void 0,function*(){return e.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return st(this,arguments,void 0,function*(e={}){return t.listBuckets.call(this,e)})}deleteBucket(t){const e=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return st(this,void 0,void 0,function*(){return e.deleteBucket.call(this,t)})}}class jv extends Rv{constructor(t,e,s,r){super(t,e,r),this.vectorBucketName=s}createIndex(t){const e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return st(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return st(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return st(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return st(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Nv(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Nv extends Cv{constructor(t,e,s,r,l){super(t,e,l),this.vectorBucketName=s,this.indexName=r}putVectors(t){const e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return st(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return st(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return st(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return st(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return st(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class x1 extends u1{constructor(t,e={},s,r){super(t,e,s,r)}from(t){return new c1(this.url,this.headers,t,this.fetch)}get vectors(){return new Dv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ov(this.url+"/iceberg",this.headers,this.fetch)}}const E1=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Ov,StorageApiError:Sv,StorageClient:x1,StorageError:oo,StorageUnknownError:lc,StorageVectorsApiError:Zl,StorageVectorsClient:Dv,StorageVectorsError:tf,get StorageVectorsErrorCode(){return Dd},StorageVectorsUnknownError:Av,VectorBucketApi:Mv,VectorBucketScope:jv,VectorDataApi:Cv,VectorIndexApi:Rv,VectorIndexScope:Nv,isPlainObject:kv,isStorageError:ne,isStorageVectorsError:We,normalizeToFloat32:b1,resolveFetch:xc,resolveResponse:y1,validateVectorDimension:v1},Symbol.toStringTag,{value:"Module"})),T1=ro(E1);var ed={},Mr={},H0;function O1(){return H0||(H0=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.version=void 0,Mr.version="2.87.1"),Mr}var P0;function A1(){return P0||(P0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const t=O1();let e="";typeof Deno<"u"?e="deno":typeof document<"u"?e="web":typeof navigator<"u"&&navigator.product==="ReactNative"?e="react-native":e="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${e}/${t.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(ed)),ed}var nd={},q0;function k1(){return q0||(q0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const t=r=>r?(...l)=>r(...l):(...l)=>fetch(...l);i.resolveFetch=t;const e=()=>Headers;i.resolveHeadersConstructor=e;const s=(r,l,c)=>{const h=(0,i.resolveFetch)(c),d=(0,i.resolveHeadersConstructor)();return async(f,m)=>{var y;const b=(y=await l())!==null&&y!==void 0?y:r;let _=new d(m?.headers);return _.has("apikey")||_.set("apikey",r),_.has("Authorization")||_.set("Authorization",`Bearer ${b}`),h(f,Object.assign(Object.assign({},m),{headers:_}))}};i.fetchWithAuth=s})(nd)),nd}var li={},I0;function R1(){if(I0)return li;I0=1,Object.defineProperty(li,"__esModule",{value:!0}),li.isBrowser=void 0,li.uuid=i,li.ensureTrailingSlash=t,li.applySettingDefaults=s,li.validateSupabaseUrl=r;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var c=Math.random()*16|0,h=l=="x"?c:c&3|8;return h.toString(16)})}function t(l){return l.endsWith("/")?l:l+"/"}const e=()=>typeof window<"u";li.isBrowser=e;function s(l,c){var h,d;const{db:f,auth:m,realtime:y,global:b}=l,{db:_,auth:w,realtime:x,global:E}=c,O={db:Object.assign(Object.assign({},_),f),auth:Object.assign(Object.assign({},w),m),realtime:Object.assign(Object.assign({},x),y),storage:{},global:Object.assign(Object.assign(Object.assign({},E),b),{headers:Object.assign(Object.assign({},(h=E?.headers)!==null&&h!==void 0?h:{}),(d=b?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return l.accessToken?O.accessToken=l.accessToken:delete O.accessToken,O}function r(l){const c=l?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return li}var Dr={};const zv="2.87.1",xa=30*1e3,jd=3,id=jd*xa,C1="http://localhost:9999",M1="supabase.auth.token",D1={"X-Client-Info":`gotrue-js/${zv}`},Nd="X-Supabase-Api-Version",Lv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,N1=600*1e3;let Ca=class extends Error{constructor(t,e,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=s}};function lt(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let Uv=class extends Ca{constructor(t,e,s){super(t,e,s),this.name="AuthApiError",this.status=e,this.code=s}};function Bv(i){return lt(i)&&i.name==="AuthApiError"}let $i=class extends Ca{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},pi=class extends Ca{constructor(t,e,s,r){super(t,s,r),this.name=e,this.status=s}},Xe=class extends pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Hv(i){return lt(i)&&i.name==="AuthSessionMissingError"}let _s=class extends pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Pr=class extends pi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},qr=class extends pi{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Pv(i){return lt(i)&&i.name==="AuthImplicitGrantRedirectError"}let zd=class extends pi{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},cc=class extends pi{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function tc(i){return lt(i)&&i.name==="AuthRetryableFetchError"}let Ld=class extends pi{constructor(t,e,s){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=s}};function z1(i){return lt(i)&&i.name==="AuthWeakPasswordError"}let uc=class extends pi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$0=` 	
\r=`.split(""),L1=(()=>{const i=new Array(128);for(let t=0;t<i.length;t+=1)i[t]=-1;for(let t=0;t<$0.length;t+=1)i[$0[t].charCodeAt(0)]=-2;for(let t=0;t<hc.length;t+=1)i[hc[t].charCodeAt(0)]=t;return i})();function V0(i,t,e){if(i!==null)for(t.queue=t.queue<<8|i,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;e(hc[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;e(hc[s]),t.queuedBits-=6}}function qv(i,t,e){const s=L1[i];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function F0(i){const t=[],e=c=>{t.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},l=c=>{H1(c,s,e)};for(let c=0;c<i.length;c+=1)qv(i.charCodeAt(c),r,l);return t.join("")}function U1(i,t){if(i<=127){t(i);return}else if(i<=2047){t(192|i>>6),t(128|i&63);return}else if(i<=65535){t(224|i>>12),t(128|i>>6&63),t(128|i&63);return}else if(i<=1114111){t(240|i>>18),t(128|i>>12&63),t(128|i>>6&63),t(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function B1(i,t){for(let e=0;e<i.length;e+=1){let s=i.charCodeAt(e);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(i.charCodeAt(e+1)-56320&65535|r)+65536,e+=1}U1(s,t)}}function H1(i,t,e){if(t.utf8seq===0){if(i<=127){e(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=i&31;else if(t.utf8seq===3)t.codepoint=i&15;else if(t.utf8seq===4)t.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|i&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function Oa(i){const t=[],e={queue:0,queuedBits:0},s=r=>{t.push(r)};for(let r=0;r<i.length;r+=1)qv(i.charCodeAt(r),e,s);return new Uint8Array(t)}function P1(i){const t=[];return B1(i,e=>t.push(e)),new Uint8Array(t)}function As(i){const t=[],e={queue:0,queuedBits:0},s=r=>{t.push(r)};return i.forEach(r=>V0(r,e,s)),V0(null,e,s),t.join("")}function q1(i){return Math.round(Date.now()/1e3)+i}function I1(){return Symbol("auth-callback")}const Me=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},Iv=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function $1(i){const t={},e=new URL(i);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((r,l)=>{t[l]=r})}catch{}return e.searchParams.forEach((s,r)=>{t[r]=s}),t}const $v=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),V1=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Ea=async(i,t,e)=>{await i.setItem(t,JSON.stringify(e))},ms=async(i,t)=>{const e=await i.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Ce=async(i,t)=>{await i.removeItem(t)};class Ec{constructor(){this.promise=new Ec.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}Ec.promiseConstructor=Promise;function sd(i){const t=i.split(".");if(t.length!==3)throw new uc("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!j1.test(t[s]))throw new uc("JWT not in base64url format");return{header:JSON.parse(F0(t[0])),payload:JSON.parse(F0(t[1])),signature:Oa(t[2]),raw:{header:t[0],payload:t[1]}}}async function F1(i){return await new Promise(t=>{setTimeout(()=>t(null),i)})}function Y1(i,t){return new Promise((s,r)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await i(l);if(!t(l,null,c)){s(c);return}}catch(c){if(!t(l,c)){r(c);return}}})()})}function G1(i){return("0"+i.toString(16)).substr(-2)}function K1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=e.length;let r="";for(let l=0;l<56;l++)r+=e.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(t),Array.from(t,G1).join("")}async function X1(i){const e=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",e),r=new Uint8Array(s);return Array.from(r).map(l=>String.fromCharCode(l)).join("")}async function W1(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const e=await X1(i);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ba(i,t,e=!1){const s=K1();let r=s;e&&(r+="/PASSWORD_RECOVERY"),await Ea(i,`${t}-code-verifier`,r);const l=await W1(s);return[l,s===l?"plain":"s256"]}const Q1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J1(i){const t=i.headers.get(Nd);if(!t||!t.match(Q1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Z1(i){if(!i)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(i<=t)throw new Error("JWT has expired")}function tE(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function va(i){if(!eE.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ad(){const i={};return new Proxy(i,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const s=e.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nE(i,t){return new Proxy(i,{get:(e,s,r)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,s,r)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,s,r)}})}function Y0(i){return JSON.parse(JSON.stringify(i))}const ws=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),iE=[502,503,504];async function G0(i){var t;if(!V1(i))throw new cc(ws(i),0);if(iE.includes(i.status))throw new cc(ws(i),i.status);let e;try{e=await i.json()}catch(l){throw new $i(ws(l),l)}let s;const r=J1(i);if(r&&r.getTime()>=Lv["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?s=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(s=e.error_code),s){if(s==="weak_password")throw new Ld(ws(e),i.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Xe}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Ld(ws(e),i.status,e.weak_password.reasons);throw new Uv(ws(e),i.status||500,s)}const sE=(i,t,e,s)=>{const r={method:i,headers:t?.headers||{}};return i==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),e))};async function mt(i,t,e,s){var r;const l=Object.assign({},s?.headers);l[Nd]||(l[Nd]=Lv["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(r=s?.query)!==null&&r!==void 0?r:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await aE(i,t,e+h,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function aE(i,t,e,s,r,l){const c=sE(t,s,r,l);let h;try{h=await i(e,Object.assign({},c))}catch(d){throw console.error(d),new cc(ws(d),0)}if(h.ok||await G0(h),s?.noResolveJson)return h;try{return await h.json()}catch(d){await G0(d)}}function Rn(i){var t;let e=null;lE(i)&&(e=Object.assign({},i),i.expires_at||(e.expires_at=q1(i.expires_in)));const s=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:e,user:s},error:null}}function K0(i){const t=Rn(i);return!t.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((e,s)=>e&&typeof s=="string",!0)&&(t.data.weak_password=i.weak_password),t}function Vi(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function rE(i){return{data:i,error:null}}function oE(i){const{action_link:t,email_otp:e,hashed_token:s,redirect_to:r,verification_type:l}=i,c=ja(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:e,hashed_token:s,redirect_to:r,verification_type:l},d=Object.assign({},c);return{data:{properties:h,user:d},error:null}}function X0(i){return i}function lE(i){return i.access_token&&i.refresh_token&&i.expires_in}const ec=["global","local","others"];let ef=class{constructor({url:t="",headers:e={},fetch:s}){this.url=t,this.headers=e,this.fetch=$v(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,e=ec[0]){if(ec.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ec.join(", ")}`);try{return await mt(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,e={}){try{return await mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Vi})}catch(s){if(lt(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:e}=t,s=ja(t,["options"]),r=Object.assign(Object.assign({},s),e);return"newEmail"in s&&(r.new_email=s?.newEmail,delete r.newEmail),await mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:oE,redirectTo:e?.redirectTo})}catch(e){if(lt(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vi})}catch(e){if(lt(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,s,r,l,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},m=await mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&s!==void 0?s:"",per_page:(l=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:X0});if(m.error)throw m.error;const y=await m.json(),b=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(d=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);f[`${E}Page`]=x}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(lt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){va(t);try{return await mt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vi})}catch(e){if(lt(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){va(t);try{return await mt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Vi})}catch(s){if(lt(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,e=!1){va(t);try{return await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Vi})}catch(s){if(lt(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){va(t.userId);try{const{data:e,error:s}=await mt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:e,error:s}}catch(e){if(lt(e))return{data:null,error:e};throw e}}async _deleteFactor(t){va(t.userId),va(t.id);try{return{data:await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(lt(e))return{data:null,error:e};throw e}}async _listOAuthClients(t){var e,s,r,l,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},m=await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&s!==void 0?s:"",per_page:(l=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:X0});if(m.error)throw m.error;const y=await m.json(),b=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(d=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);f[`${E}Page`]=x}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(lt(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(lt(e))return{data:null,error:e};throw e}}async _getOAuthClient(t){try{return await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(lt(e))return{data:null,error:e};throw e}}async _updateOAuthClient(t,e){try{return await mt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(lt(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await mt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(lt(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(lt(e))return{data:null,error:e};throw e}}};function W0(i={}){return{getItem:t=>i[t]||null,setItem:(t,e)=>{i[t]=e},removeItem:t=>{delete i[t]}}}const Ss={debug:!!(globalThis&&Iv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let Vv=class extends nf{};class cE extends nf{}async function Fv(i,t,e){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,r.name);try{return await e()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,r.name)}}else{if(t===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Vv(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ss.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}const Q0={};async function uE(i,t,e){var s;const r=(s=Q0[i])!==null&&s!==void 0?s:Promise.resolve(),l=Promise.race([r.catch(()=>null),t>=0?new Promise((c,h)=>{setTimeout(()=>{h(new cE(`Acquring process lock with name "${i}" timed out`))},t)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await e());return Q0[i]=l.catch(async c=>{if(c&&c.isAcquireTimeout)return await r,null;throw c}),await l}function hE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yv(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function dE(i){return parseInt(i,16)}function fE(i){const t=new TextEncoder().encode(i);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function gE(i){var t;const{chainId:e,domain:s,expirationTime:r,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:d,resources:f,scheme:m,uri:y,version:b}=i;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=i.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=Yv(i.address),w=m?`${m}://${s}`:s,x=i.statement?`${i.statement}
`:"",E=`${w} wants you to sign in with your Ethereum account:
${_}

${x}`;let O=`URI: ${y}
Version: ${b}
Chain ID: ${e}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(r&&(O+=`
Expiration Time: ${r.toISOString()}`),h&&(O+=`
Not Before: ${h.toISOString()}`),d&&(O+=`
Request ID: ${d}`),f){let j=`
Resources:`;for(const D of f){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);j+=`
- ${D}`}O+=j}return`${E}
${O}`}class ye extends Error{constructor({message:t,code:e,cause:s,name:r}){var l;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=r??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=e}}class dc extends ye{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}}function pE({error:i,options:t}){var e,s,r;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((e=l.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(t.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new ye({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const c=window.location.hostname;if(Gv(c)){if(l.rp.id!==c)return new ye({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function mE({error:i,options:t}){const{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new ye({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(Gv(s)){if(e.rpId!==s)return new ye({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class yE{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const bE=new yE;function vE(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:t,user:e,excludeCredentials:s}=i,r=ja(i,["challenge","user","excludeCredentials"]),l=Oa(t).buffer,c=Object.assign(Object.assign({},e),{id:Oa(e.id).buffer}),h=Object.assign(Object.assign({},r),{challenge:l,user:c});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];h.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Oa(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return h}function _E(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:t,allowCredentials:e}=i,s=ja(i,["challenge","allowCredentials"]),r=Oa(t).buffer,l=Object.assign(Object.assign({},s),{challenge:r});if(e&&e.length>0){l.allowCredentials=new Array(e.length);for(let c=0;c<e.length;c++){const h=e[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Oa(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function wE(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const e=i;return{id:i.id,rawId:i.id,response:{attestationObject:As(new Uint8Array(i.response.attestationObject)),clientDataJSON:As(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SE(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const e=i,s=i.getClientExtensionResults(),r=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:As(new Uint8Array(r.authenticatorData)),clientDataJSON:As(new Uint8Array(r.clientDataJSON)),signature:As(new Uint8Array(r.signature)),userHandle:r.userHandle?As(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Gv(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function J0(){var i,t;return!!(Me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xE(i){try{const t=await navigator.credentials.create(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dc("Browser returned unexpected credential type",t)}:{data:null,error:new dc("Empty credential response",t)}}catch(t){return{data:null,error:pE({error:t,options:i})}}}async function EE(i){try{const t=await navigator.credentials.get(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dc("Browser returned unexpected credential type",t)}:{data:null,error:new dc("Empty credential response",t)}}catch(t){return{data:null,error:mE({error:t,options:i})}}}const TE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},OE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fc(...i){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),e=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of i)if(r)for(const l in r){const c=r[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(e(c))s[l]=c;else if(t(c)){const h=s[l];t(h)?s[l]=fc(h,c):s[l]=fc(c)}else s[l]=c}return s}function AE(i,t){return fc(TE,i,t||{})}function kE(i,t){return fc(OE,i,t||{})}class RE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:e,friendlyName:s,signal:r},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:e});if(!c)return{data:null,error:h};const d=r??bE.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=AE(c.webauthn.credential_options.publicKey,l?.create),{data:m,error:y}=await xE({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}case"request":{const f=kE(c.webauthn.credential_options.publicKey,l?.request),{data:m,error:y}=await EE(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}}}catch(c){return lt(c)?{data:null,error:c}:{data:null,error:new $i("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:e,webauthn:s}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},l){if(!e)return{data:null,error:new Ca("rpId is required for WebAuthn authentication")};try{if(!J0())return{data:null,error:new $i("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:s},signal:r},{request:l});if(!c)return{data:null,error:h};const{webauthn:d}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:d.type,rpId:e,rpOrigins:s,credential_response:d.credential_response}})}catch(c){return lt(c)?{data:null,error:c}:{data:null,error:new $i("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},l){if(!e)return{data:null,error:new Ca("rpId is required for WebAuthn registration")};try{if(!J0())return{data:null,error:new $i("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(m=>{var y;return(y=m.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:h};const{data:d,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:e,rpOrigins:s},signal:r},{create:l});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:e,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(c){return lt(c)?{data:null,error:c}:{data:null,error:new $i("Unexpected error in register",c)}}}}hE();const CE={url:C1,storageKey:M1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:D1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Z0(i,t,e){return await e()}const _a={};let sf=class Ud{get jwks(){var t,e;return(e=(t=_a[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){_a[this.storageKey]=Object.assign(Object.assign({},_a[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=_a[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_a[this.storageKey]=Object.assign(Object.assign({},_a[this.storageKey]),{cachedAt:t})}constructor(t){var e,s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},CE),t);if(this.storageKey=l.storageKey,this.instanceID=(e=Ud.nextInstanceID[this.storageKey])!==null&&e!==void 0?e:0,Ud.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Me()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new ef({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=$v(l.fetch),this.lock=l.lock||Z0,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Me()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Fv:this.lock=Z0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new RE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=W0(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=W0(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let e={},s="none";if(Me()&&(e=$1(window.location.href),this._isImplicitGrantCallback(e)?s="implicit":await this._isPKCECallback(e)&&(s="pkce")),Me()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:l}=await this._getSessionFromURL(e,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Pv(l)){const d=(t=l.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return lt(e)?this._returnResult({error:e}):this._returnResult({error:new $i("Unexpected error during initialization",e)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,s,r;try{const l=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(e=t?.options)===null||e===void 0?void 0:e.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=t?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Rn}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(l){if(lt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var e,s,r;try{let l;if("email"in t){const{email:m,password:y,options:b}=t;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await ba(this.storage,this.storageKey)),l=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:m,password:y,data:(e=b?.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:_,code_challenge_method:w},xform:Rn})}else if("phone"in t){const{phone:m,password:y,options:b}=t;l=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(s=b?.data)!==null&&s!==void 0?s:{},channel:(r=b?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Rn})}else throw new Pr("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await Ce(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(l){if(await Ce(this.storage,`${this.storageKey}-code-verifier`),lt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let e;if("email"in t){const{email:l,password:c,options:h}=t;e=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:K0})}else if("phone"in t){const{phone:l,password:c,options:h}=t;e=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:K0})}else throw new Pr("You must provide either an email or phone number and a password");const{data:s,error:r}=e;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!s||!s.session||!s.user){const l=new _s;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(e){if(lt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(t){var e,s,r,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;switch(e){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}}async signInWithEthereum(t){var e,s,r,l,c,h,d,f,m,y,b;let _,w;if("message"in t)_=t.message,w=t.signature;else{const{chain:x,wallet:E,statement:O,options:j}=t;let D;if(Me())if(typeof E=="object")D=E;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")D=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=E}const I=new URL((e=j?.url)!==null&&e!==void 0?e:window.location.href),$=await D.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=Yv($[0]);let q=(s=j?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!q){const k=await D.request({method:"eth_chainId"});q=dE(k)}const T={domain:I.host,address:Q,statement:O,uri:I.href,version:"1",chainId:q,nonce:(r=j?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(c=(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=j?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=gE(T),w=await D.request({method:"personal_sign",params:[fE(_),Q]})}try{const{data:x,error:E}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Rn});if(E)throw E;if(!x||!x.session||!x.user){const O=new _s;return this._returnResult({data:{user:null,session:null},error:O})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:E})}catch(x){if(lt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var e,s,r,l,c,h,d,f,m,y,b,_;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:E,wallet:O,statement:j,options:D}=t;let I;if(Me())if(typeof O=="object")I=O;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))I=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=O}const $=new URL((e=D?.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in I&&I.signIn){const Q=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),j?{statement:j}:null));let q;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")q=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)q=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)w=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),x=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${$.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(r=(s=D?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((l=D?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((f=D?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((y=(m=D?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...D.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const Q=await I.signMessage(new TextEncoder().encode(w),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=Q}}try{const{data:E,error:O}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:As(x)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Rn});if(O)throw O;if(!E||!E.session||!E.user){const j=new _s;return this._returnResult({data:{user:null,session:null},error:j})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:O})}catch(E){if(lt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const e=await ms(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(e??"").split("/");try{const{data:l,error:c}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Rn});if(await Ce(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new _s;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:r??null}),error:c})}catch(l){if(await Ce(this.storage,`${this.storageKey}-code-verifier`),lt(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:e,provider:s,token:r,access_token:l,nonce:c}=t,h=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:e?.captchaToken}},xform:Rn}),{data:d,error:f}=h;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new _s;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(e){if(lt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(t){var e,s,r,l,c;try{if("email"in t){const{email:h,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await ba(this.storage,this.storageKey));const{error:y}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(e=d?.data)!==null&&e!==void 0?e:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:h,options:d}=t,{data:f,error:m}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(l=d?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Pr("You must provide either an email or phone number.")}catch(h){if(await Ce(this.storage,`${this.storageKey}-code-verifier`),lt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var e,s;try{let r,l;"options"in t&&(r=(e=t.options)===null||e===void 0?void 0:e.redirectTo,l=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:h}=await mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:r,xform:Rn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,f=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(r){if(lt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(t){var e,s,r,l,c;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await ba(this.storage,this.storageKey));const f=await mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=t?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:rE});return!((l=f.data)===null||l===void 0)&&l.url&&Me()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(h){if(await Ce(this.storage,`${this.storageKey}-code-verifier`),lt(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:s}=t;if(s)throw s;if(!e)throw new Xe;const{error:r}=await mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(t){if(lt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:s,type:r,options:l}=t,{error:c}=await mt(this.fetch,"POST",e,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:s,type:r,options:l}=t,{data:c,error:h}=await mt(this.fetch,"POST",e,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new Pr("You must provide either an email or phone number and a type")}catch(e){if(lt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await e()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=e();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<id:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const c=await ms(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=ad()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=nE(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const e=await this._acquireLock(-1,async()=>await this._getUser());return e.data.user&&(this.suppressGetSessionWarning=!0),e}async _getUser(t){try{return t?await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vi}):await this._useSession(async e=>{var s,r,l;const{data:c,error:h}=e;if(h)throw h;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xe}:await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0,xform:Vi})})}catch(e){if(lt(e))return Hv(e)&&(await this._removeSession(),await Ce(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async s=>{const{data:r,error:l}=s;if(l)throw l;if(!r.session)throw new Xe;const c=r.session;let h=null,d=null;this.flowType==="pkce"&&t.email!=null&&([h,d]=await ba(this.storage,this.storageKey));const{data:f,error:m}=await mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:d}),jwt:c.access_token,xform:Vi});if(m)throw m;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await Ce(this.storage,`${this.storageKey}-code-verifier`),lt(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xe;const e=Date.now()/1e3;let s=e,r=!0,l=null;const{payload:c}=sd(t.access_token);if(c.exp&&(s=c.exp,r=s<=e),r){const{data:h,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:d}=await this._getUser(t.access_token);if(d)throw d;l={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:s-e,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(e){if(lt(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var s;if(!t){const{data:c,error:h}=e;if(h)throw h;t=(s=c.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new Xe;const{data:r,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(lt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(t,e){try{if(!Me())throw new qr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new zd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qr("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zd("No code detected.");const{data:j,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:l,refresh_token:c,expires_in:h,expires_at:d,token_type:f}=t;if(!l||!h||!c||!f)throw new qr("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(h);let b=m+y;d&&(b=parseInt(d));const _=b-m;_*1e3<=xa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const w=b-y;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,m);const{data:x,error:E}=await this._getUser(l);if(E)throw E;const O={provider_token:s,provider_refresh_token:r,access_token:l,expires_in:y,expires_at:b,refresh_token:c,token_type:f,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:t.type},error:null})}catch(s){if(lt(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await ms(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var s;const{data:r,error:l}=e;if(l)return this._returnResult({error:l});const c=(s=r.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(Bv(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await Ce(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const e=I1(),s={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async e=>{var s,r;try{const{data:{session:l},error:c}=e;if(c)throw c;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,e={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await ba(this.storage,this.storageKey,!0));try{return await mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(l){if(await Ce(this.storage,`${this.storageKey}-code-verifier`),lt(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:e,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(e){if(lt(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var e;try{const{data:s,error:r}=await this._useSession(async l=>{var c,h,d,f,m;const{data:y,error:b}=l;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await mt(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(r)throw r;return Me()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:t.provider,url:s?.url},error:null})}catch(s){if(lt(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async e=>{var s;try{const{error:r,data:{session:l}}=e;if(r)throw r;const{options:c,provider:h,token:d,access_token:f,nonce:m}=t,y=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Rn}),{data:b,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new _s}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(r){if(await Ce(this.storage,`${this.storageKey}-code-verifier`),lt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(t){try{return await this._useSession(async e=>{var s,r;const{data:l,error:c}=e;if(c)throw c;return await mt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(e){if(lt(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const s=Date.now();return await Y1(async r=>(r>0&&await F1(200*Math.pow(2,r-1)),this._debug(e,"refreshing attempt",r),await mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Rn})),(r,l)=>{const c=200*Math.pow(2,r);return l&&tc(l)&&Date.now()+c-s<xa})}catch(s){if(this._debug(e,"error",s),lt(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",s),Me()&&!e.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await ms(this.storage,this.storageKey);if(r&&this.userStorage){let c=await ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await Ea(this.userStorage,this.storageKey+"-user",c)),r.user=(t=c?.user)!==null&&t!==void 0?t:ad()}else if(r&&!r.user&&!r.user){const c=await ms(this.storage,this.storageKey+"-user");c&&c?.user?(r.user=c.user,await Ce(this.storage,this.storageKey+"-user"),await Ea(this.storage,this.storageKey,r)):r.user=ad()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const l=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<id;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${id}s`),l){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),tc(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(r.access_token);!h&&c?.user?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var e,s;if(!t)throw new Xe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Ec;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new Xe;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(r,"error",l),lt(l)){const c={data:null,error:l};return tc(l)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,e,s=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",e,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:e});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,e)}catch(d){l.push(d)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ce(this.storage,`${this.storageKey}-code-verifier`);const e=Object.assign({},t),s=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&e.user&&await Ea(this.userStorage,this.storageKey+"-user",{user:e.user});const r=Object.assign({},e);delete r.user;const l=Y0(r);await Ea(this.storage,this.storageKey,l)}else{const r=Y0(e);await Ea(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ce(this.storage,this.storageKey),await Ce(this.storage,this.storageKey+"-code-verifier"),await Ce(this.storage,this.storageKey+"-user"),this.userStorage&&await Ce(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Me()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:s}}=e;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-t)/xa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${xa}ms, refresh threshold is ${jd} ticks`),r<=jd&&await this._callRefreshToken(s.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,s){const r=[`provider=${encodeURIComponent(e)}`];if(s?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await ba(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(h.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);r.push(l.toString())}return s?.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var s;const{data:r,error:l}=e;return l?this._returnResult({data:null,error:l}):await mt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(e){if(lt(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(t){try{return await this._useSession(async e=>{var s,r;const{data:l,error:c}=e;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await mt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((r=d?.totp)===null||r===void 0)&&r.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(e){if(lt(e))return this._returnResult({data:null,error:e});throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var s;const{data:r,error:l}=e;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?wE(t.webauthn.credential_response):SE(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:d}=await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(e){if(lt(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var s;const{data:r,error:l}=e;if(l)return this._returnResult({data:null,error:l});const c=await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:vE(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:_E(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(lt(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(t){const{data:e,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){var t;const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=e?.factors)!==null&&t!==void 0?t:[])r.all.push(l),l.status==="verified"&&r[l.factor_type].push(l);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var t,e;const{data:{session:s},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=sd(s.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((e=(t=s.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&e!==void 0?e:[]).length>0&&(h="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;return r?this._returnResult({data:null,error:r}):s?await mt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Xe})})}catch(e){if(lt(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(t,e){try{return await this._useSession(async s=>{const{data:{session:r},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!r)return this._returnResult({data:null,error:new Xe});const c=await mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Me()&&!e?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(lt(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,e){try{return await this._useSession(async s=>{const{data:{session:r},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!r)return this._returnResult({data:null,error:new Xe});const c=await mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Me()&&!e?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(lt(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:e},error:s}=t;return s?this._returnResult({data:null,error:s}):e?await mt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:e.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new Xe})})}catch(t){if(lt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;return r?this._returnResult({data:null,error:r}):s?(await mt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xe})})}catch(e){if(lt(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(t,e={keys:[]}){let s=e.keys.find(h=>h.kid===t);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(h=>h.kid===t),s&&this.jwks_cached_at+N1>r)return s;const{data:l,error:c}=await mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=r,s=l.keys.find(h=>h.kid===t),!s)?null:s}async getClaims(t,e={}){try{let s=t;if(!s){const{data:_,error:w}=await this.getSession();if(w||!_.session)return this._returnResult({data:null,error:w});s=_.session.access_token}const{header:r,payload:l,signature:c,raw:{header:h,payload:d}}=sd(s);e?.allowExpired||Z1(l.exp);const f=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,e?.keys?{keys:e.keys}:e?.jwks);if(!f){const{error:_}=await this.getUser(s);if(_)throw _;return{data:{claims:l,header:r,signature:c},error:null}}const m=tE(r.alg),y=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,P1(`${h}.${d}`)))throw new uc("Invalid JWT signature");return{data:{claims:l,header:r,signature:c},error:null}}catch(s){if(lt(s))return this._returnResult({data:null,error:s});throw s}}};sf.nextInstanceID={};const ME=ef,DE=sf,jE=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:ME,AuthApiError:Uv,AuthClient:DE,AuthError:Ca,AuthImplicitGrantRedirectError:qr,AuthInvalidCredentialsError:Pr,AuthInvalidJwtError:uc,AuthInvalidTokenResponseError:_s,AuthPKCEGrantCodeExchangeError:zd,AuthRetryableFetchError:cc,AuthSessionMissingError:Xe,AuthUnknownError:$i,AuthWeakPasswordError:Ld,CustomAuthError:pi,GoTrueAdminApi:ef,GoTrueClient:sf,NavigatorLockAcquireTimeoutError:Vv,SIGN_OUT_SCOPES:ec,isAuthApiError:Bv,isAuthError:lt,isAuthImplicitGrantRedirectError:Pv,isAuthRetryableFetchError:tc,isAuthSessionMissingError:Hv,isAuthWeakPasswordError:z1,lockInternals:Ss,navigatorLock:Fv,processLock:uE},Symbol.toStringTag,{value:"Module"})),Kv=ro(jE);var ty;function NE(){if(ty)return Dr;ty=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.SupabaseAuthClient=void 0;const i=Kv;let t=class extends i.AuthClient{constructor(s){super(s)}};return Dr.SupabaseAuthClient=t,Dr}var ey;function ny(){if(ey)return kl;ey=1,Object.defineProperty(kl,"__esModule",{value:!0});const i=ov,t=fv(),e=wv,s=T1,r=A1(),l=k1(),c=R1(),h=NE();class d{constructor(m,y,b){var _,w,x;this.supabaseUrl=m,this.supabaseKey=y;const E=(0,c.validateSupabaseUrl)(m);if(!y)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const O=`sb-${E.hostname.split(".")[0]}-auth-token`,j={db:r.DEFAULT_DB_OPTIONS,realtime:r.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},r.DEFAULT_AUTH_OPTIONS),{storageKey:O}),global:r.DEFAULT_GLOBAL_OPTIONS},D=(0,c.applySettingDefaults)(b??{},j);this.storageKey=(_=D.auth.storageKey)!==null&&_!==void 0?_:"",this.headers=(w=D.global.headers)!==null&&w!==void 0?w:{},D.accessToken?(this.accessToken=D.accessToken,this.auth=new Proxy({},{get:(I,$)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String($)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((x=D.auth)!==null&&x!==void 0?x:{},this.headers,D.global.fetch),this.fetch=(0,l.fetchWithAuth)(y,this._getAccessToken.bind(this),D.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},D.realtime)),this.accessToken&&this.accessToken().then(I=>this.realtime.setAuth(I)).catch(I=>console.warn("Failed to set initial Realtime auth token:",I)),this.rest=new t.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:D.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),D.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,y={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,y,b)}channel(m,y={config:{}}){return this.realtime.channel(m,y)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,y;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(y=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:y,detectSessionInUrl:b,storage:_,userStorage:w,storageKey:x,flowType:E,lock:O,debug:j,throwOnError:D},I,$){const Q={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},Q),I),storageKey:x,autoRefreshToken:m,persistSession:y,detectSessionInUrl:b,storage:_,userStorage:w,flowType:E,lock:O,debug:j,throwOnError:D,fetch:$,hasCustomAuthorizationHeader:Object.keys(this.headers).some(q=>q.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new e.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((y,b)=>{this._handleTokenChanged(y,"CLIENT",b?.access_token)})}_handleTokenChanged(m,y,b){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),y=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return kl.default=d,kl}var iy;function zE(){return iy||(iy=1,(function(i){var t=oi&&oi.__createBinding||(Object.create?(function(m,y,b,_){_===void 0&&(_=b);var w=Object.getOwnPropertyDescriptor(y,b);(!w||("get"in w?!y.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return y[b]}}),Object.defineProperty(m,_,w)}):(function(m,y,b,_){_===void 0&&(_=b),m[_]=y[b]})),e=oi&&oi.__exportStar||function(m,y){for(var b in m)b!=="default"&&!Object.prototype.hasOwnProperty.call(y,b)&&t(y,m,b)},s=oi&&oi.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const r=s(ny());e(Kv,i);var l=fv();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var c=ov;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),e(wv,i);var h=ny();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return s(h).default}});const d=(m,y,b)=>new r.default(m,y,b);i.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const y=m.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(oi)),oi}var Xv=zE();const Wv=Nb(Xv),LE=yx({__proto__:null,default:Wv},[Xv]),{PostgrestError:jC,FunctionsHttpError:NC,FunctionsFetchError:zC,FunctionsRelayError:LC,FunctionsError:UC,FunctionRegion:BC,SupabaseClient:HC,createClient:UE,GoTrueAdminApi:PC,GoTrueClient:qC,AuthAdminApi:IC,AuthClient:$C,navigatorLock:VC,NavigatorLockAcquireTimeoutError:FC,lockInternals:YC,processLock:GC,SIGN_OUT_SCOPES:KC,AuthError:XC,AuthApiError:WC,AuthUnknownError:QC,CustomAuthError:JC,AuthSessionMissingError:ZC,AuthInvalidTokenResponseError:tM,AuthInvalidCredentialsError:eM,AuthImplicitGrantRedirectError:nM,AuthPKCEGrantCodeExchangeError:iM,AuthRetryableFetchError:sM,AuthWeakPasswordError:aM,AuthInvalidJwtError:rM,isAuthError:oM,isAuthApiError:lM,isAuthSessionMissingError:cM,isAuthImplicitGrantRedirectError:uM,isAuthRetryableFetchError:hM,isAuthWeakPasswordError:dM,RealtimePresence:fM,RealtimeChannel:gM,RealtimeClient:pM,REALTIME_LISTEN_TYPES:mM,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:yM,REALTIME_PRESENCE_LISTEN_EVENTS:bM,REALTIME_SUBSCRIBE_STATES:vM,REALTIME_CHANNEL_STATES:_M}=Wv||LE,BE="https://wzuvqgagavjltqfypsaj.supabase.co",HE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6dXZxZ2FnYXZqbHRxZnlwc2FqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1Mzk1MjIsImV4cCI6MjA4MTExNTUyMn0.FDnp8J1hEUhOg_vOgsRQv5tbfLISZYVGJfea4qs0b8Y",Dn=UE(BE,HE),PE=()=>{const[i,t]=xt.useState([]),[e,s]=xt.useState(!0);xt.useEffect(()=>{r()},[]);const r=async()=>{try{const{data:m,error:y}=await Dn.from("transactions").select("*").order("date",{ascending:!1});if(y)throw y;const b=(m||[]).map(_=>({..._,amount:Number(_.amount)}));t(b)}catch(m){console.error("Error fetching transactions:",m)}finally{s(!1)}};return{transactions:i,loading:e,addTransaction:async m=>{try{const{data:{user:y}}=await Dn.auth.getUser();if(!y)throw new Error("No user logged in");const b={...m,user_id:y.id},{data:_,error:w}=await Dn.from("transactions").insert([b]).select().single();if(w)throw w;t(x=>[...x,{..._,amount:Number(_.amount)}])}catch(y){console.error("Error adding transaction:",y),alert("Failed to save transaction")}},updateTransaction:async(m,y)=>{try{const{error:b}=await Dn.from("transactions").update(y).eq("id",m);if(b)throw b;t(_=>_.map(w=>w.id===m?{...w,...y}:w))}catch(b){console.error("Error updating transaction:",b),alert("Failed to update transaction")}},deleteTransaction:async m=>{try{const{error:y}=await Dn.from("transactions").delete().eq("id",m);if(y)throw y;t(b=>b.filter(_=>_.id!==m))}catch(y){console.error("Error deleting transaction:",y),alert("Failed to delete transaction")}},importTransactions:async m=>{try{const{data:{user:y}}=await Dn.auth.getUser();if(!y)throw new Error("No user logged in");const b=m.map(E=>({...E,id:void 0,user_id:y.id})),{data:_,error:w}=await Dn.from("transactions").insert(b).select();if(w)throw w;const x=(_||[]).map(E=>({...E,amount:Number(E.amount)}));t(E=>[...E,...x])}catch(y){console.error("Error importing transactions:",y),alert("Failed to import transactions")}},clearTransactions:async()=>{}}};const qE=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IE=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),sy=i=>{const t=IE(i);return t.charAt(0).toUpperCase()+t.slice(1)},Qv=(...i)=>i.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),$E=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var VE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FE=xt.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:r="",children:l,iconNode:c,...h},d)=>xt.createElement("svg",{ref:d,...VE,width:t,height:t,stroke:i,strokeWidth:s?Number(e)*24/Number(t):e,className:Qv("lucide",r),...!l&&!$E(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,m])=>xt.createElement(f,m)),...Array.isArray(l)?l:[l]]));const Qt=(i,t)=>{const e=xt.forwardRef(({className:s,...r},l)=>xt.createElement(FE,{ref:l,iconNode:t,className:Qv(`lucide-${qE(sy(i))}`,`lucide-${i}`,s),...r}));return e.displayName=sy(i),e};const YE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],GE=Qt("activity",YE);const KE=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],XE=Qt("arrow-down-right",KE);const WE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jv=Qt("arrow-right",WE);const QE=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],JE=Qt("arrow-up-right",QE);const ZE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tT=Qt("calendar",ZE);const eT=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],nT=Qt("dollar-sign",eT);const iT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ay=Qt("download",iT);const sT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],aT=Qt("file-text",sT);const rT=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],oT=Qt("indian-rupee",rT);const lT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],cT=Qt("layers",lT);const uT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Zv=Qt("layout-dashboard",uT);const hT=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],dT=Qt("list",hT);const fT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bd=Qt("loader-circle",fT);const gT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pT=Qt("lock",gT);const mT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ry=Qt("log-out",mT);const yT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bT=Qt("mail",yT);const vT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_T=Qt("menu",vT);const wT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ST=Qt("pen",wT);const xT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oy=Qt("plus",xT);const ET=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],t_=Qt("search",ET);const TT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],e_=Qt("tag",TT);const OT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AT=Qt("trash-2",OT);const kT=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],RT=Qt("trending-down",kT);const CT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],MT=Qt("trending-up",CT);const DT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ly=Qt("upload",DT);const jT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],n_=Qt("x",jT),Ul=({title:i,value:t,type:e,icon:s,delay:r})=>{const l=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t);let c="text-slate-400",h="bg-dark-700",d="text-slate-200";return e==="positive"?(c="text-emerald-500",h="bg-emerald-500/10",d="text-emerald-400"):e==="negative"?(c="text-red-500",h="bg-red-500/10",d="text-red-400"):i==="Net P/L"&&(c="text-primary-500",h="bg-primary-500/10",d="text-primary-400"),M.jsxs("div",{className:"glass rounded-xl p-5 shadow-sm border border-dark-700 flex items-center space-x-4 transition-all duration-200 hover:bg-dark-700/30 hover:shadow-md bg-dark-800",style:{animationDelay:`${r}ms`},children:[M.jsx("div",{className:`p-3 rounded-lg ${h} shadow-sm`,children:M.jsx(s,{className:`w-6 h-6 ${c}`})}),M.jsxs("div",{children:[M.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-0.5",children:i}),M.jsx("p",{className:`text-2xl font-bold ${d} tracking-tight`,children:l})]})]})},NT=({stats:i})=>M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:[M.jsx(Ul,{title:"Net P/L",value:i.netPL,type:i.netPL>=0?"positive":"negative",icon:oT,delay:0}),M.jsx(Ul,{title:"Total Profit",value:i.totalProfit,type:"positive",icon:MT,delay:100}),M.jsx(Ul,{title:"Total Loss",value:i.totalLoss,type:"negative",icon:RT,delay:200}),M.jsx(Ul,{title:"Avg Daily P/L",value:i.averageDailyPL,type:i.averageDailyPL>=0?"positive":"negative",icon:GE,delay:300})]}),zT=({onSubmit:i,onCancel:t,initialData:e})=>{const[s,r]=xt.useState(new Date().toISOString().split("T")[0]),[l,c]=xt.useState(""),[h,d]=xt.useState("Income"),[f,m]=xt.useState(""),[y,b]=xt.useState("");xt.useEffect(()=>{e&&(r(e.date),c(Math.abs(e.amount).toString()),d(e.type||"Income"),m(e.description||""),b(e.category||""))},[e]);const _=w=>{w.preventDefault();const x=parseFloat(l);if(!s||isNaN(x)||x===0)return;let E=Math.abs(x);(h==="Loss"||h==="Expense")&&(E=-E),i({date:s,amount:E,type:h,description:f,category:y}),e||(c(""),m(""),b(""))};return M.jsxs("form",{onSubmit:_,className:"glass rounded-xl p-6 md:p-8 shadow-sm border border-dark-700 mb-8 animate-fade-in-down relative overflow-hidden bg-dark-800",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsx("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:e?"Edit Transaction":"New Transaction"}),t&&M.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-full hover:bg-dark-700 text-slate-400 hover:text-white transition-colors",children:M.jsx(n_,{className:"w-5 h-5"})})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-6",children:[M.jsxs("div",{className:"lg:col-span-2",children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Date"}),M.jsxs("div",{className:"relative group",children:[M.jsx(tT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-primary-500 transition-colors"}),M.jsx("input",{type:"date",required:!0,value:s,onChange:w=>r(w.target.value),className:"w-full pl-10 pr-4 py-3 bg-dark-950 border border-dark-700 rounded-lg focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 outline-none transition-all font-medium text-slate-200"})]})]}),M.jsxs("div",{className:"lg:col-span-2",children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Amount"}),M.jsxs("div",{className:"relative group",children:[M.jsx(nT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-primary-500 transition-colors"}),M.jsx("input",{type:"number",step:"0.01",required:!0,value:l,onChange:w=>c(w.target.value),placeholder:"0.00",className:"w-full pl-10 pr-4 py-3 bg-dark-950 border border-dark-700 rounded-lg focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 outline-none transition-all font-medium text-slate-200 placeholder-slate-600"})]})]}),M.jsxs("div",{className:"lg:col-span-2",children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Type"}),M.jsxs("div",{className:"relative group",children:[M.jsx(cT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-primary-500 transition-colors"}),M.jsxs("select",{value:h,onChange:w=>d(w.target.value),className:"w-full pl-10 pr-4 py-3 bg-dark-950 border border-dark-700 rounded-lg focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 outline-none transition-all font-medium text-slate-200 appearance-none cursor-pointer",children:[M.jsx("option",{value:"Profit",children:"Profit"}),M.jsx("option",{value:"Loss",children:"Loss"}),M.jsx("option",{value:"Income",children:"Income"}),M.jsx("option",{value:"Expense",children:"Expense"})]})]})]}),M.jsxs("div",{className:"lg:col-span-3",children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Category"}),M.jsxs("div",{className:"relative group",children:[M.jsx(e_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-primary-500 transition-colors"}),M.jsx("input",{type:"text",value:y,onChange:w=>b(w.target.value),placeholder:"e.g. Sales, Rent",className:"w-full pl-10 pr-4 py-3 bg-dark-950 border border-dark-700 rounded-lg focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 outline-none transition-all font-medium text-slate-200 placeholder-slate-600"})]})]}),M.jsxs("div",{className:"lg:col-span-3",children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Description"}),M.jsxs("div",{className:"relative group",children:[M.jsx(aT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-primary-500 transition-colors"}),M.jsx("input",{type:"text",value:f,onChange:w=>m(w.target.value),placeholder:"Optional details",className:"w-full pl-10 pr-4 py-3 bg-dark-950 border border-dark-700 rounded-lg focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 outline-none transition-all font-medium text-slate-200 placeholder-slate-600"})]})]})]}),M.jsx("div",{className:"mt-8 flex justify-end",children:M.jsxs("button",{type:"submit",className:"bg-primary-600 hover:bg-primary-700 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-md hover:shadow-lg flex items-center gap-2 active:scale-95",children:[e?"Update Transaction":"Add Transaction",M.jsx(Jv,{className:"w-5 h-5"})]})})]})},LT=864e5,i_=6e4,s_=36e5,cy=Symbol.for("constructDateFrom");function af(i,t){return typeof i=="function"?i(t):i&&typeof i=="object"&&cy in i?i[cy](t):i instanceof Date?new i.constructor(t):new Date(t)}function Qr(i,t){return af(i,i)}function uy(i){const t=Qr(i),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+i-+e}function a_(i,...t){const e=af.bind(null,t.find(s=>typeof s=="object"));return t.map(e)}function Hd(i,t){const e=Qr(i);return e.setHours(0,0,0,0),e}function UT(i,t,e){const[s,r]=a_(e?.in,i,t),l=Hd(s),c=Hd(r),h=+l-uy(l),d=+c-uy(c);return Math.round((h-d)/LT)}function BT(i,t,e){const[s,r]=a_(e?.in,i,t),l=hy(s,r),c=Math.abs(UT(s,r));s.setDate(s.getDate()-l*c);const h=+(hy(s,r)===-l),d=l*(c-h);return d===0?0:d}function hy(i,t){const e=i.getFullYear()-t.getFullYear()||i.getMonth()-t.getMonth()||i.getDate()-t.getDate()||i.getHours()-t.getHours()||i.getMinutes()-t.getMinutes()||i.getSeconds()-t.getSeconds()||i.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function HT(i,t){const e=Qr(i);return e.setHours(23,59,59,999),e}function PT(i,t){const e=()=>af(t?.in,NaN),r=VT(i);let l;if(r.date){const f=FT(r.date,2);l=YT(f.restDateString,f.year)}if(!l||isNaN(+l))return e();const c=+l;let h=0,d;if(r.time&&(h=GT(r.time),isNaN(h)))return e();if(r.timezone){if(d=KT(r.timezone),isNaN(d))return e()}else{const f=new Date(c+h),m=Qr(0);return m.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),m.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),m}return Qr(c+h+d)}const Bl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qT=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,IT=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$T=/^([+-])(\d{2})(?::?(\d{2}))?$/;function VT(i){const t={},e=i.split(Bl.dateTimeDelimiter);let s;if(e.length>2)return t;if(/:/.test(e[0])?s=e[0]:(t.date=e[0],s=e[1],Bl.timeZoneDelimiter.test(t.date)&&(t.date=i.split(Bl.timeZoneDelimiter)[0],s=i.substr(t.date.length,i.length))),s){const r=Bl.timezone.exec(s);r?(t.time=s.replace(r[1],""),t.timezone=r[1]):t.time=s}return t}function FT(i,t){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=i.match(e);if(!s)return{year:NaN,restDateString:""};const r=s[1]?parseInt(s[1]):null,l=s[2]?parseInt(s[2]):null;return{year:l===null?r:l*100,restDateString:i.slice((s[1]||s[2]).length)}}function YT(i,t){if(t===null)return new Date(NaN);const e=i.match(qT);if(!e)return new Date(NaN);const s=!!e[4],r=jr(e[1]),l=jr(e[2])-1,c=jr(e[3]),h=jr(e[4]),d=jr(e[5])-1;if(s)return ZT(t,h,d)?XT(t,h,d):new Date(NaN);{const f=new Date(0);return!QT(t,l,c)||!JT(t,r)?new Date(NaN):(f.setUTCFullYear(t,l,Math.max(r,c)),f)}}function jr(i){return i?parseInt(i):1}function GT(i){const t=i.match(IT);if(!t)return NaN;const e=rd(t[1]),s=rd(t[2]),r=rd(t[3]);return tO(e,s,r)?e*s_+s*i_+r*1e3:NaN}function rd(i){return i&&parseFloat(i.replace(",","."))||0}function KT(i){if(i==="Z")return 0;const t=i.match($T);if(!t)return 0;const e=t[1]==="+"?-1:1,s=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return eO(s,r)?e*(s*s_+r*i_):NaN}function XT(i,t,e){const s=new Date(0);s.setUTCFullYear(i,0,4);const r=s.getUTCDay()||7,l=(t-1)*7+e+1-r;return s.setUTCDate(s.getUTCDate()+l),s}const WT=[31,null,31,30,31,30,31,31,30,31,30,31];function r_(i){return i%400===0||i%4===0&&i%100!==0}function QT(i,t,e){return t>=0&&t<=11&&e>=1&&e<=(WT[t]||(r_(i)?29:28))}function JT(i,t){return t>=1&&t<=(r_(i)?366:365)}function ZT(i,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function tO(i,t,e){return i===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&i>=0&&i<25}function eO(i,t){return t>=0&&t<=59}const co=i=>(i.type==="Loss"||i.type==="Expense")&&i.amount>0?-i.amount:(i.type==="Profit"||i.type==="Income")&&i.amount<0?Math.abs(i.amount):i.amount,nO=i=>{let t=0,e=0,s=0;if(i.length===0)return{totalProfit:0,totalLoss:0,netPL:0,averageDailyPL:0};const r=[...i].sort((d,f)=>new Date(d.date).getTime()-new Date(f.date).getTime()),l=new Date(r[0].date),c=new Date(r[r.length-1].date),h=Math.max(1,BT(c,l)+1);return i.forEach(d=>{const f=co(d);s+=f,f>0?t+=f:e+=f}),{totalProfit:t,totalLoss:e,netPL:s,averageDailyPL:s/h}},iO=(i,t,e,s)=>{const r=new Date,l=HT(r);let c;switch(t){case"7days":c=new Date,c.setDate(r.getDate()-6);break;case"30days":c=new Date,c.setDate(r.getDate()-29);break;case"90days":c=new Date,c.setDate(r.getDate()-89);break;case"year":c=new Date,c.setMonth(0,1),c.setHours(0,0,0,0);break;case"custom":return i;case"all":default:return i}return i.filter(h=>{const d=PT(h.date);return d>=Hd(c)&&d<=l})},sO=i=>{const t=[...i].sort((c,h)=>new Date(c.date).getTime()-new Date(h.date).getTime()),e=[];let s=0;const r=new Map;return t.forEach(c=>{const h=co(c),d=r.get(c.date)||0;r.set(c.date,d+h)}),Array.from(r.entries()).sort((c,h)=>new Date(c[0]).getTime()-new Date(h[0]).getTime()).forEach(([c,h])=>{s+=h,e.push({date:c,cumulative:s})}),e},aO=i=>{const t=new Map;return i.forEach(e=>{const s=co(e),r=e.category||"Uncategorized",l=t.get(r)||0;t.set(r,l+s)}),Array.from(t.entries()).map(([e,s])=>({name:e,value:s}))},rO=({transactions:i,onEdit:t,onDelete:e})=>{if(i.length===0)return M.jsxs("div",{className:"text-center py-16 glass rounded-2xl border border-white/5 animate-fade-in-up bg-dark-800/30",children:[M.jsx("div",{className:"bg-dark-800/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner",children:M.jsx(t_,{className:"w-8 h-8 text-slate-600"})}),M.jsx("h3",{className:"text-lg font-semibold text-slate-300",children:"No transactions found"}),M.jsx("p",{className:"text-slate-500 mt-1",children:"Add a new transaction to get started"})]});const s=[...i].sort((r,l)=>new Date(l.date).getTime()-new Date(r.date).getTime());return M.jsx("div",{className:"glass rounded-xl shadow-sm border border-dark-700 overflow-hidden bg-dark-800",children:M.jsx("div",{className:"overflow-x-auto",children:M.jsxs("table",{className:"w-full text-left border-collapse",children:[M.jsx("thead",{children:M.jsxs("tr",{className:"bg-dark-900/50 border-b border-dark-700",children:[M.jsx("th",{className:"p-5 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Date"}),M.jsx("th",{className:"p-5 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Type"}),M.jsx("th",{className:"p-5 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Category"}),M.jsx("th",{className:"p-5 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Description"}),M.jsx("th",{className:"p-5 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"Amount"}),M.jsx("th",{className:"p-5 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),M.jsx("tbody",{className:"divide-y divide-dark-700",children:s.map((r,l)=>{const c=co(r),h=c>=0;return M.jsxs("tr",{className:"hover:bg-dark-700/30 transition-colors group",style:{animationDelay:`${l*50}ms`},children:[M.jsx("td",{className:"p-5 text-sm font-medium text-slate-300 whitespace-nowrap",children:r.date}),M.jsx("td",{className:"p-5 text-sm",children:M.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${h?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:r.type||(h?"Profit":"Loss")})}),M.jsx("td",{className:"p-5 text-sm text-slate-400",children:M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx(e_,{className:"w-3.5 h-3.5 text-slate-500"}),r.category||M.jsx("span",{className:"text-slate-600 italic",children:"Uncategorized"})]})}),M.jsx("td",{className:"p-5 text-sm text-slate-400 max-w-xs truncate",title:r.description,children:r.description||"-"}),M.jsx("td",{className:`p-5 text-sm font-bold text-right ${h?"text-emerald-400":"text-red-400"}`,children:M.jsxs("div",{className:"flex items-center justify-end gap-1",children:[h?M.jsx(JE,{className:"w-4 h-4"}):M.jsx(XE,{className:"w-4 h-4"}),Math.abs(c).toLocaleString("en-IN",{style:"currency",currency:"INR"})]})}),M.jsx("td",{className:"p-5 text-right",children:M.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0",children:[M.jsx("button",{onClick:()=>t(r),className:"p-2 rounded-lg text-slate-400 hover:text-primary-400 hover:bg-primary-500/10 transition-colors",title:"Edit",children:M.jsx(ST,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this entry?")&&e(r.id)},className:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-colors",title:"Delete",children:M.jsx(AT,{className:"w-4 h-4"})})]})})]},r.id)})})]})})})};function uo(i){return i+.5|0}const Fi=(i,t,e)=>Math.max(Math.min(i,e),t);function Ir(i){return Fi(uo(i*2.55),0,255)}function Ki(i){return Fi(uo(i*255),0,255)}function di(i){return Fi(uo(i/2.55)/100,0,1)}function dy(i){return Fi(uo(i*100),0,100)}const Sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pd=[..."0123456789ABCDEF"],oO=i=>Pd[i&15],lO=i=>Pd[(i&240)>>4]+Pd[i&15],Hl=i=>(i&240)>>4===(i&15),cO=i=>Hl(i.r)&&Hl(i.g)&&Hl(i.b)&&Hl(i.a);function uO(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Sn[i[1]]*17,g:255&Sn[i[2]]*17,b:255&Sn[i[3]]*17,a:t===5?Sn[i[4]]*17:255}:(t===7||t===9)&&(e={r:Sn[i[1]]<<4|Sn[i[2]],g:Sn[i[3]]<<4|Sn[i[4]],b:Sn[i[5]]<<4|Sn[i[6]],a:t===9?Sn[i[7]]<<4|Sn[i[8]]:255})),e}const hO=(i,t)=>i<255?t(i):"";function dO(i){var t=cO(i)?oO:lO;return i?"#"+t(i.r)+t(i.g)+t(i.b)+hO(i.a,t):void 0}const fO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function o_(i,t,e){const s=t*Math.min(e,1-e),r=(l,c=(l+i/30)%12)=>e-s*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function gO(i,t,e){const s=(r,l=(r+i/60)%6)=>e-e*t*Math.max(Math.min(l,4-l,1),0);return[s(5),s(3),s(1)]}function pO(i,t,e){const s=o_(i,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)s[r]*=1-t-e,s[r]+=t;return s}function mO(i,t,e,s,r){return i===r?(t-e)/s+(t<e?6:0):t===r?(e-i)/s+2:(i-t)/s+4}function rf(i){const e=i.r/255,s=i.g/255,r=i.b/255,l=Math.max(e,s,r),c=Math.min(e,s,r),h=(l+c)/2;let d,f,m;return l!==c&&(m=l-c,f=h>.5?m/(2-l-c):m/(l+c),d=mO(e,s,r,m,l),d=d*60+.5),[d|0,f||0,h]}function of(i,t,e,s){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,s)).map(Ki)}function lf(i,t,e){return of(o_,i,t,e)}function yO(i,t,e){return of(pO,i,t,e)}function bO(i,t,e){return of(gO,i,t,e)}function l_(i){return(i%360+360)%360}function vO(i){const t=fO.exec(i);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?Ir(+t[5]):Ki(+t[5]));const r=l_(+t[2]),l=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?s=yO(r,l,c):t[1]==="hsv"?s=bO(r,l,c):s=lf(r,l,c),{r:s[0],g:s[1],b:s[2],a:e}}function _O(i,t){var e=rf(i);e[0]=l_(e[0]+t),e=lf(e),i.r=e[0],i.g=e[1],i.b=e[2]}function wO(i){if(!i)return;const t=rf(i),e=t[0],s=dy(t[1]),r=dy(t[2]);return i.a<255?`hsla(${e}, ${s}%, ${r}%, ${di(i.a)})`:`hsl(${e}, ${s}%, ${r}%)`}const fy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function SO(){const i={},t=Object.keys(gy),e=Object.keys(fy);let s,r,l,c,h;for(s=0;s<t.length;s++){for(c=h=t[s],r=0;r<e.length;r++)l=e[r],h=h.replace(l,fy[l]);l=parseInt(gy[c],16),i[h]=[l>>16&255,l>>8&255,l&255]}return i}let Pl;function xO(i){Pl||(Pl=SO(),Pl.transparent=[0,0,0,0]);const t=Pl[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const EO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function TO(i){const t=EO.exec(i);let e=255,s,r,l;if(t){if(t[7]!==s){const c=+t[7];e=t[8]?Ir(c):Fi(c*255,0,255)}return s=+t[1],r=+t[3],l=+t[5],s=255&(t[2]?Ir(s):Fi(s,0,255)),r=255&(t[4]?Ir(r):Fi(r,0,255)),l=255&(t[6]?Ir(l):Fi(l,0,255)),{r:s,g:r,b:l,a:e}}}function OO(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${di(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const od=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,wa=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function AO(i,t,e){const s=wa(di(i.r)),r=wa(di(i.g)),l=wa(di(i.b));return{r:Ki(od(s+e*(wa(di(t.r))-s))),g:Ki(od(r+e*(wa(di(t.g))-r))),b:Ki(od(l+e*(wa(di(t.b))-l))),a:i.a+e*(t.a-i.a)}}function ql(i,t,e){if(i){let s=rf(i);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=lf(s),i.r=s[0],i.g=s[1],i.b=s[2]}}function c_(i,t){return i&&Object.assign(t||{},i)}function py(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Ki(i[3]))):(t=c_(i,{r:0,g:0,b:0,a:1}),t.a=Ki(t.a)),t}function kO(i){return i.charAt(0)==="r"?TO(i):vO(i)}class Jr{constructor(t){if(t instanceof Jr)return t;const e=typeof t;let s;e==="object"?s=py(t):e==="string"&&(s=uO(t)||xO(t)||kO(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=c_(this._rgb);return t&&(t.a=di(t.a)),t}set rgb(t){this._rgb=py(t)}rgbString(){return this._valid?OO(this._rgb):void 0}hexString(){return this._valid?dO(this._rgb):void 0}hslString(){return this._valid?wO(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,r=t.rgb;let l;const c=e===l?.5:e,h=2*c-1,d=s.a-r.a,f=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;l=1-f,s.r=255&f*s.r+l*r.r+.5,s.g=255&f*s.g+l*r.g+.5,s.b=255&f*s.b+l*r.b+.5,s.a=c*s.a+(1-c)*r.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=AO(this._rgb,t._rgb,e)),this}clone(){return new Jr(this.rgb)}alpha(t){return this._rgb.a=Ki(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=uo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ql(this._rgb,2,t),this}darken(t){return ql(this._rgb,2,-t),this}saturate(t){return ql(this._rgb,1,t),this}desaturate(t){return ql(this._rgb,1,-t),this}rotate(t){return _O(this._rgb,t),this}}function ci(){}const RO=(()=>{let i=0;return()=>i++})();function Bt(i){return i==null}function be(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Rt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Be(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Bn(i,t){return Be(i)?i:t}function Et(i,t){return typeof i>"u"?t:i}const CO=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,u_=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function te(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function qt(i,t,e,s){let r,l,c;if(be(i))for(l=i.length,r=0;r<l;r++)t.call(e,i[r],r);else if(Rt(i))for(c=Object.keys(i),l=c.length,r=0;r<l;r++)t.call(e,i[c[r]],c[r])}function gc(i,t){let e,s,r,l;if(!i||!t||i.length!==t.length)return!1;for(e=0,s=i.length;e<s;++e)if(r=i[e],l=t[e],r.datasetIndex!==l.datasetIndex||r.index!==l.index)return!1;return!0}function pc(i){if(be(i))return i.map(pc);if(Rt(i)){const t=Object.create(null),e=Object.keys(i),s=e.length;let r=0;for(;r<s;++r)t[e[r]]=pc(i[e[r]]);return t}return i}function h_(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function MO(i,t,e,s){if(!h_(i))return;const r=t[i],l=e[i];Rt(r)&&Rt(l)?Zr(r,l,s):t[i]=pc(l)}function Zr(i,t,e){const s=be(t)?t:[t],r=s.length;if(!Rt(i))return i;e=e||{};const l=e.merger||MO;let c;for(let h=0;h<r;++h){if(c=s[h],!Rt(c))continue;const d=Object.keys(c);for(let f=0,m=d.length;f<m;++f)l(d[f],i,c,e)}return i}function Fr(i,t){return Zr(i,t,{merger:DO})}function DO(i,t,e){if(!h_(i))return;const s=t[i],r=e[i];Rt(s)&&Rt(r)?Fr(s,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=pc(r))}const my={"":i=>i,x:i=>i.x,y:i=>i.y};function jO(i){const t=i.split("."),e=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function NO(i){const t=jO(i);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function Cs(i,t){return(my[t]||(my[t]=NO(t)))(i)}function cf(i){return i.charAt(0).toUpperCase()+i.slice(1)}const to=i=>typeof i<"u",Xi=i=>typeof i=="function",yy=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function zO(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const It=Math.PI,se=2*It,LO=se+It,mc=Number.POSITIVE_INFINITY,UO=It/180,_e=It/2,ys=It/4,by=It*2/3,d_=Math.log10,In=Math.sign;function Yr(i,t,e){return Math.abs(i-t)<e}function vy(i){const t=Math.round(i);i=Yr(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(d_(i))),s=i/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function BO(i){const t=[],e=Math.sqrt(i);let s;for(s=1;s<e;s++)i%s===0&&(t.push(s),t.push(i/s));return e===(e|0)&&t.push(e),t.sort((r,l)=>r-l).pop(),t}function HO(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function eo(i){return!HO(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function PO(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function qO(i,t,e){let s,r,l;for(s=0,r=i.length;s<r;s++)l=i[s][e],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function fi(i){return i*(It/180)}function IO(i){return i*(180/It)}function _y(i){if(!Be(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function f_(i,t){const e=t.x-i.x,s=t.y-i.y,r=Math.sqrt(e*e+s*s);let l=Math.atan2(s,e);return l<-.5*It&&(l+=se),{angle:l,distance:r}}function qd(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function $O(i,t){return(i-t+LO)%se-It}function on(i){return(i%se+se)%se}function no(i,t,e,s){const r=on(i),l=on(t),c=on(e),h=on(l-r),d=on(c-r),f=on(r-l),m=on(r-c);return r===l||r===c||s&&l===c||h>d&&f<m}function Le(i,t,e){return Math.max(t,Math.min(e,i))}function VO(i){return Le(i,-32768,32767)}function gi(i,t,e,s=1e-6){return i>=Math.min(t,e)-s&&i<=Math.max(t,e)+s}function uf(i,t,e){e=e||(c=>i[c]<t);let s=i.length-1,r=0,l;for(;s-r>1;)l=r+s>>1,e(l)?r=l:s=l;return{lo:r,hi:s}}const ks=(i,t,e,s)=>uf(i,e,s?r=>{const l=i[r][t];return l<e||l===e&&i[r+1][t]===e}:r=>i[r][t]<e),FO=(i,t,e)=>uf(i,e,s=>i[s][t]>=e);function YO(i,t,e){let s=0,r=i.length;for(;s<r&&i[s]<t;)s++;for(;r>s&&i[r-1]>e;)r--;return s>0||r<i.length?i.slice(s,r):i}const g_=["push","pop","shift","splice","unshift"];function GO(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),g_.forEach(e=>{const s="_onData"+cf(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...l){const c=r.apply(this,l);return i._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...l)}),c}})})}function wy(i,t){const e=i._chartjs;if(!e)return;const s=e.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(g_.forEach(l=>{delete i[l]}),delete i._chartjs)}function p_(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const m_=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function y_(i,t){let e=[],s=!1;return function(...r){e=r,s||(s=!0,m_.call(window,()=>{s=!1,i.apply(t,e)}))}}function KO(i,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(i,t,s)):i.apply(this,s),t}}const hf=i=>i==="start"?"left":i==="end"?"right":"center",ze=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,XO=(i,t,e,s)=>i===(s?"left":"right")?e:i==="center"?(t+e)/2:t;function WO(i,t,e){const s=t.length;let r=0,l=s;if(i._sorted){const{iScale:c,vScale:h,_parsed:d}=i,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,m=c.axis,{min:y,max:b,minDefined:_,maxDefined:w}=c.getUserBounds();if(_){if(r=Math.min(ks(d,m,y).lo,e?s:ks(t,m,c.getPixelForValue(y)).lo),f){const x=d.slice(0,r+1).reverse().findIndex(E=>!Bt(E[h.axis]));r-=Math.max(0,x)}r=Le(r,0,s-1)}if(w){let x=Math.max(ks(d,c.axis,b,!0).hi+1,e?0:ks(t,m,c.getPixelForValue(b),!0).hi+1);if(f){const E=d.slice(x-1).findIndex(O=>!Bt(O[h.axis]));x+=Math.max(0,E)}l=Le(x,r,s)-r}else l=s-r}return{start:r,count:l}}function QO(i){const{xScale:t,yScale:e,_scaleRanges:s}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return i._scaleRanges=r,!0;const l=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,r),l}const Il=i=>i===0||i===1,Sy=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*se/e)),xy=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*se/e)+1,Gr={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*_e)+1,easeOutSine:i=>Math.sin(i*_e),easeInOutSine:i=>-.5*(Math.cos(It*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Il(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Il(i)?i:Sy(i,.075,.3),easeOutElastic:i=>Il(i)?i:xy(i,.075,.3),easeInOutElastic(i){return Il(i)?i:i<.5?.5*Sy(i*2,.1125,.45):.5+.5*xy(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Gr.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Gr.easeInBounce(i*2)*.5:Gr.easeOutBounce(i*2-1)*.5+.5};function df(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ey(i){return df(i)?i:new Jr(i)}function ld(i){return df(i)?i:new Jr(i).saturate(.5).darken(.1).hexString()}const JO=["x","y","borderWidth","radius","tension"],ZO=["color","borderColor","backgroundColor"];function tA(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:ZO},numbers:{type:"number",properties:JO}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function eA(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ty=new Map;function nA(i,t){t=t||{};const e=i+JSON.stringify(t);let s=Ty.get(e);return s||(s=new Intl.NumberFormat(i,t),Ty.set(e,s)),s}function ff(i,t,e){return nA(t,e).format(i)}const iA={values(i){return be(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const s=this.chart.options.locale;let r,l=i;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),l=sA(i,e)}const c=d_(Math.abs(l)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),ff(i,s,d)}};function sA(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var b_={formatters:iA};function aA(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:b_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ms=Object.create(null),Id=Object.create(null);function Kr(i,t){if(!t)return i;const e=t.split(".");for(let s=0,r=e.length;s<r;++s){const l=e[s];i=i[l]||(i[l]=Object.create(null))}return i}function cd(i,t,e){return typeof t=="string"?Zr(Kr(i,t),e):Zr(Kr(i,""),t)}class rA{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>ld(r.backgroundColor),this.hoverBorderColor=(s,r)=>ld(r.borderColor),this.hoverColor=(s,r)=>ld(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return cd(this,t,e)}get(t){return Kr(this,t)}describe(t,e){return cd(Id,t,e)}override(t,e){return cd(Ms,t,e)}route(t,e,s,r){const l=Kr(this,t),c=Kr(this,s),h="_"+e;Object.defineProperties(l,{[h]:{value:l[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],f=c[r];return Rt(d)?Object.assign({},f,d):Et(d,f)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var he=new rA({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tA,eA,aA]);function oA(i){return!i||Bt(i.size)||Bt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Oy(i,t,e,s,r){let l=t[r];return l||(l=t[r]=i.measureText(r).width,e.push(r)),l>s&&(s=l),s}function bs(i,t,e){const s=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*s)/s+r}function Ay(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function $d(i,t,e,s){v_(i,t,e,s,null)}function v_(i,t,e,s,r){let l,c,h,d,f,m,y,b;const _=t.pointStyle,w=t.rotation,x=t.radius;let E=(w||0)*UO;if(_&&typeof _=="object"&&(l=_.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){i.save(),i.translate(e,s),i.rotate(E),i.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),i.restore();return}if(!(isNaN(x)||x<=0)){switch(i.beginPath(),_){default:r?i.ellipse(e,s,r/2,x,0,0,se):i.arc(e,s,x,0,se),i.closePath();break;case"triangle":m=r?r/2:x,i.moveTo(e+Math.sin(E)*m,s-Math.cos(E)*x),E+=by,i.lineTo(e+Math.sin(E)*m,s-Math.cos(E)*x),E+=by,i.lineTo(e+Math.sin(E)*m,s-Math.cos(E)*x),i.closePath();break;case"rectRounded":f=x*.516,d=x-f,c=Math.cos(E+ys)*d,y=Math.cos(E+ys)*(r?r/2-f:d),h=Math.sin(E+ys)*d,b=Math.sin(E+ys)*(r?r/2-f:d),i.arc(e-y,s-h,f,E-It,E-_e),i.arc(e+b,s-c,f,E-_e,E),i.arc(e+y,s+h,f,E,E+_e),i.arc(e-b,s+c,f,E+_e,E+It),i.closePath();break;case"rect":if(!w){d=Math.SQRT1_2*x,m=r?r/2:d,i.rect(e-m,s-d,2*m,2*d);break}E+=ys;case"rectRot":y=Math.cos(E)*(r?r/2:x),c=Math.cos(E)*x,h=Math.sin(E)*x,b=Math.sin(E)*(r?r/2:x),i.moveTo(e-y,s-h),i.lineTo(e+b,s-c),i.lineTo(e+y,s+h),i.lineTo(e-b,s+c),i.closePath();break;case"crossRot":E+=ys;case"cross":y=Math.cos(E)*(r?r/2:x),c=Math.cos(E)*x,h=Math.sin(E)*x,b=Math.sin(E)*(r?r/2:x),i.moveTo(e-y,s-h),i.lineTo(e+y,s+h),i.moveTo(e+b,s-c),i.lineTo(e-b,s+c);break;case"star":y=Math.cos(E)*(r?r/2:x),c=Math.cos(E)*x,h=Math.sin(E)*x,b=Math.sin(E)*(r?r/2:x),i.moveTo(e-y,s-h),i.lineTo(e+y,s+h),i.moveTo(e+b,s-c),i.lineTo(e-b,s+c),E+=ys,y=Math.cos(E)*(r?r/2:x),c=Math.cos(E)*x,h=Math.sin(E)*x,b=Math.sin(E)*(r?r/2:x),i.moveTo(e-y,s-h),i.lineTo(e+y,s+h),i.moveTo(e+b,s-c),i.lineTo(e-b,s+c);break;case"line":c=r?r/2:Math.cos(E)*x,h=Math.sin(E)*x,i.moveTo(e-c,s-h),i.lineTo(e+c,s+h);break;case"dash":i.moveTo(e,s),i.lineTo(e+Math.cos(E)*(r?r/2:x),s+Math.sin(E)*x);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function io(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Tc(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Oc(i){i.restore()}function lA(i,t,e,s,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){const l=(t.x+e.x)/2;i.lineTo(l,t.y),i.lineTo(l,e.y)}else r==="after"!=!!s?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function cA(i,t,e,s){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function uA(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Bt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function hA(i,t,e,s,r){if(r.strikethrough||r.underline){const l=i.measureText(s),c=t-l.actualBoundingBoxLeft,h=t+l.actualBoundingBoxRight,d=e-l.actualBoundingBoxAscent,f=e+l.actualBoundingBoxDescent,m=r.strikethrough?(d+f)/2:f;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(c,m),i.lineTo(h,m),i.stroke()}}function dA(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function so(i,t,e,s,r,l={}){const c=be(t)?t:[t],h=l.strokeWidth>0&&l.strokeColor!=="";let d,f;for(i.save(),i.font=r.string,uA(i,l),d=0;d<c.length;++d)f=c[d],l.backdrop&&dA(i,l.backdrop),h&&(l.strokeColor&&(i.strokeStyle=l.strokeColor),Bt(l.strokeWidth)||(i.lineWidth=l.strokeWidth),i.strokeText(f,e,s,l.maxWidth)),i.fillText(f,e,s,l.maxWidth),hA(i,e,s,f,l),s+=Number(r.lineHeight);i.restore()}function yc(i,t){const{x:e,y:s,w:r,h:l,radius:c}=t;i.arc(e+c.topLeft,s+c.topLeft,c.topLeft,1.5*It,It,!0),i.lineTo(e,s+l-c.bottomLeft),i.arc(e+c.bottomLeft,s+l-c.bottomLeft,c.bottomLeft,It,_e,!0),i.lineTo(e+r-c.bottomRight,s+l),i.arc(e+r-c.bottomRight,s+l-c.bottomRight,c.bottomRight,_e,0,!0),i.lineTo(e+r,s+c.topRight),i.arc(e+r-c.topRight,s+c.topRight,c.topRight,0,-_e,!0),i.lineTo(e+c.topLeft,s)}const fA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pA(i,t){const e=(""+i).match(fA);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const mA=i=>+i||0;function gf(i,t){const e={},s=Rt(t),r=s?Object.keys(t):t,l=Rt(i)?s?c=>Et(i[c],i[t[c]]):c=>i[c]:()=>i;for(const c of r)e[c]=mA(l(c));return e}function __(i){return gf(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Aa(i){return gf(i,["topLeft","topRight","bottomLeft","bottomRight"])}function En(i){const t=__(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ue(i,t){i=i||{},t=t||he.font;let e=Et(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=Et(i.style,t.style);s&&!(""+s).match(gA)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Et(i.family,t.family),lineHeight:pA(Et(i.lineHeight,t.lineHeight),e),size:e,style:s,weight:Et(i.weight,t.weight),string:""};return r.string=oA(r),r}function $l(i,t,e,s){let r,l,c;for(r=0,l=i.length;r<l;++r)if(c=i[r],c!==void 0&&c!==void 0)return c}function yA(i,t,e){const{min:s,max:r}=i,l=u_(t,(r-s)/2),c=(h,d)=>e&&h===0?0:h+d;return{min:c(s,-Math.abs(l)),max:c(r,l)}}function Ds(i,t){return Object.assign(Object.create(i),t)}function pf(i,t=[""],e,s,r=()=>i[0]){const l=e||i;typeof s>"u"&&(s=E_("_fallback",i));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:l,_fallback:s,_getTarget:r,override:h=>pf([h,...i],t,l,s)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete i[0][d],!0},get(h,d){return S_(h,d,()=>TA(d,t,i,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,d){return Ry(h).includes(d)},ownKeys(h){return Ry(h)},set(h,d,f){const m=h._storage||(h._storage=r());return h[d]=m[d]=f,delete h._keys,!0}})}function Ma(i,t,e,s){const r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:w_(i,s),setContext:l=>Ma(i,l,e,s),override:l=>Ma(i.override(l),t,e,s)};return new Proxy(r,{deleteProperty(l,c){return delete l[c],delete i[c],!0},get(l,c,h){return S_(l,c,()=>vA(l,c,h))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(i,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,c)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(l,c){return Reflect.has(i,c)},ownKeys(){return Reflect.ownKeys(i)},set(l,c,h){return i[c]=h,delete l[c],!0}})}function w_(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:s,isScriptable:Xi(e)?e:()=>e,isIndexable:Xi(s)?s:()=>s}}const bA=(i,t)=>i?i+cf(t):t,mf=(i,t)=>Rt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function S_(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const s=e();return i[t]=s,s}function vA(i,t,e){const{_proxy:s,_context:r,_subProxy:l,_descriptors:c}=i;let h=s[t];return Xi(h)&&c.isScriptable(t)&&(h=_A(t,h,i,e)),be(h)&&h.length&&(h=wA(t,h,i,c.isIndexable)),mf(t,h)&&(h=Ma(h,r,l&&l[t],c)),h}function _A(i,t,e,s){const{_proxy:r,_context:l,_subProxy:c,_stack:h}=e;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let d=t(l,c||s);return h.delete(i),mf(i,d)&&(d=yf(r._scopes,r,i,d)),d}function wA(i,t,e,s){const{_proxy:r,_context:l,_subProxy:c,_descriptors:h}=e;if(typeof l.index<"u"&&s(i))return t[l.index%t.length];if(Rt(t[0])){const d=t,f=r._scopes.filter(m=>m!==d);t=[];for(const m of d){const y=yf(f,r,i,m);t.push(Ma(y,l,c&&c[i],h))}}return t}function x_(i,t,e){return Xi(i)?i(t,e):i}const SA=(i,t)=>i===!0?t:typeof i=="string"?Cs(t,i):void 0;function xA(i,t,e,s,r){for(const l of t){const c=SA(e,l);if(c){i.add(c);const h=x_(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==s)return h}else if(c===!1&&typeof s<"u"&&e!==s)return null}return!1}function yf(i,t,e,s){const r=t._rootScopes,l=x_(t._fallback,e,s),c=[...i,...r],h=new Set;h.add(s);let d=ky(h,c,e,l||e,s);return d===null||typeof l<"u"&&l!==e&&(d=ky(h,c,l,d,s),d===null)?!1:pf(Array.from(h),[""],r,l,()=>EA(t,e,s))}function ky(i,t,e,s,r){for(;e;)e=xA(i,t,e,s,r);return e}function EA(i,t,e){const s=i._getTarget();t in s||(s[t]={});const r=s[t];return be(r)&&Rt(e)?e:r||{}}function TA(i,t,e,s){let r;for(const l of t)if(r=E_(bA(l,i),e),typeof r<"u")return mf(i,r)?yf(e,s,i,r):r}function E_(i,t){for(const e of t){if(!e)continue;const s=e[i];if(typeof s<"u")return s}}function Ry(i){let t=i._keys;return t||(t=i._keys=OA(i._scopes)),t}function OA(i){const t=new Set;for(const e of i)for(const s of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}const AA=Number.EPSILON||1e-14,Da=(i,t)=>t<i.length&&!i[t].skip&&i[t],T_=i=>i==="x"?"y":"x";function kA(i,t,e,s){const r=i.skip?t:i,l=t,c=e.skip?t:e,h=qd(l,r),d=qd(c,l);let f=h/(h+d),m=d/(h+d);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const y=s*f,b=s*m;return{previous:{x:l.x-y*(c.x-r.x),y:l.y-y*(c.y-r.y)},next:{x:l.x+b*(c.x-r.x),y:l.y+b*(c.y-r.y)}}}function RA(i,t,e){const s=i.length;let r,l,c,h,d,f=Da(i,0);for(let m=0;m<s-1;++m)if(d=f,f=Da(i,m+1),!(!d||!f)){if(Yr(t[m],0,AA)){e[m]=e[m+1]=0;continue}r=e[m]/t[m],l=e[m+1]/t[m],h=Math.pow(r,2)+Math.pow(l,2),!(h<=9)&&(c=3/Math.sqrt(h),e[m]=r*c*t[m],e[m+1]=l*c*t[m])}}function CA(i,t,e="x"){const s=T_(e),r=i.length;let l,c,h,d=Da(i,0);for(let f=0;f<r;++f){if(c=h,h=d,d=Da(i,f+1),!h)continue;const m=h[e],y=h[s];c&&(l=(m-c[e])/3,h[`cp1${e}`]=m-l,h[`cp1${s}`]=y-l*t[f]),d&&(l=(d[e]-m)/3,h[`cp2${e}`]=m+l,h[`cp2${s}`]=y+l*t[f])}}function MA(i,t="x"){const e=T_(t),s=i.length,r=Array(s).fill(0),l=Array(s);let c,h,d,f=Da(i,0);for(c=0;c<s;++c)if(h=d,d=f,f=Da(i,c+1),!!d){if(f){const m=f[t]-d[t];r[c]=m!==0?(f[e]-d[e])/m:0}l[c]=h?f?In(r[c-1])!==In(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}RA(i,r,l),CA(i,l,t)}function Vl(i,t,e){return Math.max(Math.min(i,e),t)}function DA(i,t){let e,s,r,l,c,h=io(i[0],t);for(e=0,s=i.length;e<s;++e)c=l,l=h,h=e<s-1&&io(i[e+1],t),l&&(r=i[e],c&&(r.cp1x=Vl(r.cp1x,t.left,t.right),r.cp1y=Vl(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=Vl(r.cp2x,t.left,t.right),r.cp2y=Vl(r.cp2y,t.top,t.bottom)))}function jA(i,t,e,s,r){let l,c,h,d;if(t.spanGaps&&(i=i.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")MA(i,r);else{let f=s?i[i.length-1]:i[0];for(l=0,c=i.length;l<c;++l)h=i[l],d=kA(f,h,i[Math.min(l+1,c-(s?0:1))%c],t.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,f=h}t.capBezierPoints&&DA(i,e)}function bf(){return typeof window<"u"&&typeof document<"u"}function vf(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function bc(i,t,e){let s;return typeof i=="string"?(s=parseInt(i,10),i.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=i,s}const Ac=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function NA(i,t){return Ac(i).getPropertyValue(t)}const zA=["top","right","bottom","left"];function Rs(i,t,e){const s={};e=e?"-"+e:"";for(let r=0;r<4;r++){const l=zA[r];s[l]=parseFloat(i[t+"-"+l+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const LA=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function UA(i,t){const e=i.touches,s=e&&e.length?e[0]:i,{offsetX:r,offsetY:l}=s;let c=!1,h,d;if(LA(r,l,i.target))h=r,d=l;else{const f=t.getBoundingClientRect();h=s.clientX-f.left,d=s.clientY-f.top,c=!0}return{x:h,y:d,box:c}}function xs(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:s}=t,r=Ac(e),l=r.boxSizing==="border-box",c=Rs(r,"padding"),h=Rs(r,"border","width"),{x:d,y:f,box:m}=UA(i,e),y=c.left+(m&&h.left),b=c.top+(m&&h.top);let{width:_,height:w}=t;return l&&(_-=c.width+h.width,w-=c.height+h.height),{x:Math.round((d-y)/_*e.width/s),y:Math.round((f-b)/w*e.height/s)}}function BA(i,t,e){let s,r;if(t===void 0||e===void 0){const l=i&&vf(i);if(!l)t=i.clientWidth,e=i.clientHeight;else{const c=l.getBoundingClientRect(),h=Ac(l),d=Rs(h,"border","width"),f=Rs(h,"padding");t=c.width-f.width-d.width,e=c.height-f.height-d.height,s=bc(h.maxWidth,l,"clientWidth"),r=bc(h.maxHeight,l,"clientHeight")}}return{width:t,height:e,maxWidth:s||mc,maxHeight:r||mc}}const Yi=i=>Math.round(i*10)/10;function HA(i,t,e,s){const r=Ac(i),l=Rs(r,"margin"),c=bc(r.maxWidth,i,"clientWidth")||mc,h=bc(r.maxHeight,i,"clientHeight")||mc,d=BA(i,t,e);let{width:f,height:m}=d;if(r.boxSizing==="content-box"){const b=Rs(r,"border","width"),_=Rs(r,"padding");f-=_.width+b.width,m-=_.height+b.height}return f=Math.max(0,f-l.width),m=Math.max(0,s?f/s:m-l.height),f=Yi(Math.min(f,c,d.maxWidth)),m=Yi(Math.min(m,h,d.maxHeight)),f&&!m&&(m=Yi(f/2)),(t!==void 0||e!==void 0)&&s&&d.height&&m>d.height&&(m=d.height,f=Yi(Math.floor(m*s))),{width:f,height:m}}function Cy(i,t,e){const s=t||1,r=Yi(i.height*s),l=Yi(i.width*s);i.height=Yi(i.height),i.width=Yi(i.width);const c=i.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${i.height}px`,c.style.width=`${i.width}px`),i.currentDevicePixelRatio!==s||c.height!==r||c.width!==l?(i.currentDevicePixelRatio=s,c.height=r,c.width=l,i.ctx.setTransform(s,0,0,s,0,0),!0):!1}const PA=(function(){let i=!1;try{const t={get passive(){return i=!0,!1}};bf()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i})();function My(i,t){const e=NA(i,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Es(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function qA(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:s==="middle"?e<.5?i.y:t.y:s==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function IA(i,t,e,s){const r={x:i.cp2x,y:i.cp2y},l={x:t.cp1x,y:t.cp1y},c=Es(i,r,e),h=Es(r,l,e),d=Es(l,t,e),f=Es(c,h,e),m=Es(h,d,e);return Es(f,m,e)}const $A=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},VA=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function ka(i,t,e){return i?$A(t,e):VA()}function O_(i,t){let e,s;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=s)}function A_(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function k_(i){return i==="angle"?{between:no,compare:$O,normalize:on}:{between:gi,compare:(t,e)=>t-e,normalize:t=>t}}function Dy({start:i,end:t,count:e,loop:s,style:r}){return{start:i%e,end:t%e,loop:s&&(t-i+1)%e===0,style:r}}function FA(i,t,e){const{property:s,start:r,end:l}=e,{between:c,normalize:h}=k_(s),d=t.length;let{start:f,end:m,loop:y}=i,b,_;if(y){for(f+=d,m+=d,b=0,_=d;b<_&&c(h(t[f%d][s]),r,l);++b)f--,m--;f%=d,m%=d}return m<f&&(m+=d),{start:f,end:m,loop:y,style:i.style}}function R_(i,t,e){if(!e)return[i];const{property:s,start:r,end:l}=e,c=t.length,{compare:h,between:d,normalize:f}=k_(s),{start:m,end:y,loop:b,style:_}=FA(i,t,e),w=[];let x=!1,E=null,O,j,D;const I=()=>d(r,D,O)&&h(r,D)!==0,$=()=>h(l,O)===0||d(l,D,O),Q=()=>x||I(),q=()=>!x||$();for(let T=m,k=m;T<=y;++T)j=t[T%c],!j.skip&&(O=f(j[s]),O!==D&&(x=d(O,r,l),E===null&&Q()&&(E=h(O,r)===0?T:k),E!==null&&q()&&(w.push(Dy({start:E,end:T,loop:b,count:c,style:_})),E=null),k=T,D=O));return E!==null&&w.push(Dy({start:E,end:y,loop:b,count:c,style:_})),w}function C_(i,t){const e=[],s=i.segments;for(let r=0;r<s.length;r++){const l=R_(s[r],i.points,t);l.length&&e.push(...l)}return e}function YA(i,t,e,s){let r=0,l=t-1;if(e&&!s)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(l+=r);l>r&&i[l%t].skip;)l--;return l%=t,{start:r,end:l}}function GA(i,t,e,s){const r=i.length,l=[];let c=t,h=i[t],d;for(d=t+1;d<=e;++d){const f=i[d%r];f.skip||f.stop?h.skip||(s=!1,l.push({start:t%r,end:(d-1)%r,loop:s}),t=c=f.stop?d:null):(c=d,h.skip&&(t=d)),h=f}return c!==null&&l.push({start:t%r,end:c%r,loop:s}),l}function KA(i,t){const e=i.points,s=i.options.spanGaps,r=e.length;if(!r)return[];const l=!!i._loop,{start:c,end:h}=YA(e,r,l,s);if(s===!0)return jy(i,[{start:c,end:h,loop:l}],e,t);const d=h<c?h+r:h,f=!!i._fullLoop&&c===0&&h===r-1;return jy(i,GA(e,c,d,f),e,t)}function jy(i,t,e,s){return!s||!s.setContext||!e?t:XA(i,t,e,s)}function XA(i,t,e,s){const r=i._chart.getContext(),l=Ny(i.options),{_datasetIndex:c,options:{spanGaps:h}}=i,d=e.length,f=[];let m=l,y=t[0].start,b=y;function _(w,x,E,O){const j=h?-1:1;if(w!==x){for(w+=d;e[w%d].skip;)w-=j;for(;e[x%d].skip;)x+=j;w%d!==x%d&&(f.push({start:w%d,end:x%d,loop:E,style:O}),m=O,y=x%d)}}for(const w of t){y=h?y:w.start;let x=e[y%d],E;for(b=y+1;b<=w.end;b++){const O=e[b%d];E=Ny(s.setContext(Ds(r,{type:"segment",p0:x,p1:O,p0DataIndex:(b-1)%d,p1DataIndex:b%d,datasetIndex:c}))),WA(E,m)&&_(y,b-1,w.loop,m),x=O,m=E}y<b-1&&_(y,b-1,w.loop,m)}return f}function Ny(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function WA(i,t){if(!t)return!1;const e=[],s=function(r,l){return df(l)?(e.includes(l)||e.push(l),e.indexOf(l)):l};return JSON.stringify(i,s)!==JSON.stringify(t,s)}function Fl(i,t,e){return i.options.clip?i[e]:t[e]}function QA(i,t){const{xScale:e,yScale:s}=i;return e&&s?{left:Fl(e,t,"left"),right:Fl(e,t,"right"),top:Fl(s,t,"top"),bottom:Fl(s,t,"bottom")}:t}function M_(i,t){const e=t._clip;if(e.disabled)return!1;const s=QA(t,i.chartArea);return{left:e.left===!1?0:s.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:s.right+(e.right===!0?0:e.right),top:e.top===!1?0:s.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:s.bottom+(e.bottom===!0?0:e.bottom)}}class JA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,r){const l=e.listeners[r],c=e.duration;l.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(s-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=m_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const l=s.items;let c=l.length-1,h=!1,d;for(;c>=0;--c)d=l[c],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(t),h=!0):(l[c]=l[l.length-1],l.pop());h&&(r.draw(),this._notify(r,s,t,"progress")),l.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),e+=l.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ui=new JA;const zy="transparent",ZA={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const s=Ey(i||zy),r=s.valid&&Ey(t||zy);return r&&r.valid?r.mix(s,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class t2{constructor(t,e,s,r){const l=e[s];r=$l([t.to,r,l,t.from]);const c=$l([t.from,l,r]);this._active=!0,this._fn=t.fn||ZA[t.type||typeof c],this._easing=Gr[t.easing]||Gr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const r=this._target[this._prop],l=s-this._start,c=this._duration-l;this._start=s,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=$l([t.to,e,r,t.from]),this._from=$l([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,r=this._prop,l=this._from,c=this._loop,h=this._to;let d;if(this._active=l!==h&&(c||e<s),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=l;return}d=e/s%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(l,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][e]()}}class D_{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Rt(t))return;const e=Object.keys(he.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const l=t[r];if(!Rt(l))return;const c={};for(const h of e)c[h]=l[h];(be(l.properties)&&l.properties||[r]).forEach(h=>{(h===r||!s.has(h))&&s.set(h,c)})})}_animateOptions(t,e){const s=e.options,r=n2(t,s);if(!r)return[];const l=this._createAnimations(r,s);return s.$shared&&e2(t.options.$animations,s).then(()=>{t.options=s},()=>{}),l}_createAnimations(t,e){const s=this._properties,r=[],l=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const f=c[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const m=e[f];let y=l[f];const b=s.get(f);if(y)if(b&&y.active()){y.update(b,m,h);continue}else y.cancel();if(!b||!b.duration){t[f]=m;continue}l[f]=y=new t2(b,t,f,m),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return ui.add(this._chart,s),!0}}function e2(i,t){const e=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const l=i[s[r]];l&&l.active()&&e.push(l.wait())}return Promise.all(e)}function n2(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ly(i,t){const e=i&&i.options||{},s=e.reverse,r=e.min===void 0?t:0,l=e.max===void 0?t:0;return{start:s?l:r,end:s?r:l}}function i2(i,t,e){if(e===!1)return!1;const s=Ly(i,e),r=Ly(t,e);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function s2(i){let t,e,s,r;return Rt(i)?(t=i.top,e=i.right,s=i.bottom,r=i.left):t=e=s=r=i,{top:t,right:e,bottom:s,left:r,disabled:i===!1}}function j_(i,t){const e=[],s=i._getSortedDatasetMetas(t);let r,l;for(r=0,l=s.length;r<l;++r)e.push(s[r].index);return e}function Uy(i,t,e,s={}){const r=i.keys,l=s.mode==="single";let c,h,d,f;if(t===null)return;let m=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===e){if(m=!0,s.all)continue;break}f=i.values[d],Be(f)&&(l||t===0||In(t)===In(f))&&(t+=f)}return!m&&!s.all?0:t}function a2(i,t){const{iScale:e,vScale:s}=t,r=e.axis==="x"?"x":"y",l=s.axis==="x"?"x":"y",c=Object.keys(i),h=new Array(c.length);let d,f,m;for(d=0,f=c.length;d<f;++d)m=c[d],h[d]={[r]:m,[l]:i[m]};return h}function ud(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function r2(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function o2(i){const{min:t,max:e,minDefined:s,maxDefined:r}=i.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function l2(i,t,e){const s=i[t]||(i[t]={});return s[e]||(s[e]={})}function By(i,t,e,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const l=i[r.index];if(e&&l>0||!e&&l<0)return r.index}return null}function Hy(i,t){const{chart:e,_cachedMeta:s}=i,r=e._stacks||(e._stacks={}),{iScale:l,vScale:c,index:h}=s,d=l.axis,f=c.axis,m=r2(l,c,s),y=t.length;let b;for(let _=0;_<y;++_){const w=t[_],{[d]:x,[f]:E}=w,O=w._stacks||(w._stacks={});b=O[f]=l2(r,m,x),b[h]=E,b._top=By(b,c,!0,s.type),b._bottom=By(b,c,!1,s.type);const j=b._visualValues||(b._visualValues={});j[h]=E}}function hd(i,t){const e=i.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function c2(i,t){return Ds(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function u2(i,t,e){return Ds(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Nr(i,t){const e=i.controller.index,s=i.vScale&&i.vScale.axis;if(s){t=t||i._parsed;for(const r of t){const l=r._stacks;if(!l||l[s]===void 0||l[s][e]===void 0)return;delete l[s][e],l[s]._visualValues!==void 0&&l[s]._visualValues[e]!==void 0&&delete l[s]._visualValues[e]}}}const dd=i=>i==="reset"||i==="none",Py=(i,t)=>t?i:Object.assign({},i),h2=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:j_(e,!0),values:null};class kc{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ud(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Nr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),r=(y,b,_,w)=>y==="x"?b:y==="r"?w:_,l=e.xAxisID=Et(s.xAxisID,hd(t,"x")),c=e.yAxisID=Et(s.yAxisID,hd(t,"y")),h=e.rAxisID=Et(s.rAxisID,hd(t,"r")),d=e.indexAxis,f=e.iAxisID=r(d,l,c,h),m=e.vAxisID=r(d,c,l,h);e.xScale=this.getScaleForId(l),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&wy(this._data,this),t._stacked&&Nr(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Rt(e)){const r=this._cachedMeta;this._data=a2(e,r)}else if(s!==e){if(s){wy(s,this);const r=this._cachedMeta;Nr(r),r._parsed=[]}e&&Object.isExtensible(e)&&GO(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const l=e._stacked;e._stacked=ud(e.vScale,e),e.stack!==s.stack&&(r=!0,Nr(e),e.stack=s.stack),this._resyncElements(t),(r||l!==e._stacked)&&(Hy(this,e._parsed),e._stacked=ud(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:r}=this,{iScale:l,_stacked:c}=s,h=l.axis;let d=t===0&&e===r.length?!0:s._sorted,f=t>0&&s._parsed[t-1],m,y,b;if(this._parsing===!1)s._parsed=r,s._sorted=!0,b=r;else{be(r[t])?b=this.parseArrayData(s,r,t,e):Rt(r[t])?b=this.parseObjectData(s,r,t,e):b=this.parsePrimitiveData(s,r,t,e);const _=()=>y[h]===null||f&&y[h]<f[h];for(m=0;m<e;++m)s._parsed[m+t]=y=b[m],d&&(_()&&(d=!1),f=y);s._sorted=d}c&&Hy(this,b)}parsePrimitiveData(t,e,s,r){const{iScale:l,vScale:c}=t,h=l.axis,d=c.axis,f=l.getLabels(),m=l===c,y=new Array(r);let b,_,w;for(b=0,_=r;b<_;++b)w=b+s,y[b]={[h]:m||l.parse(f[w],w),[d]:c.parse(e[w],w)};return y}parseArrayData(t,e,s,r){const{xScale:l,yScale:c}=t,h=new Array(r);let d,f,m,y;for(d=0,f=r;d<f;++d)m=d+s,y=e[m],h[d]={x:l.parse(y[0],m),y:c.parse(y[1],m)};return h}parseObjectData(t,e,s,r){const{xScale:l,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let m,y,b,_;for(m=0,y=r;m<y;++m)b=m+s,_=e[b],f[m]={x:l.parse(Cs(_,h),b),y:c.parse(Cs(_,d),b)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const r=this.chart,l=this._cachedMeta,c=e[t.axis],h={keys:j_(r,!0),values:e._stacks[t.axis]._visualValues};return Uy(h,c,l.index,{mode:s})}updateRangeFromParsed(t,e,s,r){const l=s[e.axis];let c=l===null?NaN:l;const h=r&&s._stacks[e.axis];r&&h&&(r.values=h,c=Uy(r,l,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const s=this._cachedMeta,r=s._parsed,l=s._sorted&&t===s.iScale,c=r.length,h=this._getOtherScale(t),d=h2(e,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:y}=o2(h);let b,_;function w(){_=r[b];const x=_[h.axis];return!Be(_[t.axis])||m>x||y<x}for(b=0;b<c&&!(!w()&&(this.updateRangeFromParsed(f,t,_,d),l));++b);if(l){for(b=c-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(f,t,_,d);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let r,l,c;for(r=0,l=e.length;r<l;++r)c=e[r][t.axis],Be(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,r=e.vScale,l=this.getParsed(t);return{label:s?""+s.getLabelForValue(l[s.axis]):"",value:r?""+r.getLabelForValue(l[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=s2(Et(this.options.clip,i2(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,r=s.data||[],l=e.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,f=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(t,l,h,d),m=h;m<h+d;++m){const y=r[m];y.hidden||(y.active&&f?c.push(y):y.draw(t,l))}for(m=0;m<c.length;++m)c[m].draw(t,l)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const r=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];l=c.$context||(c.$context=u2(this.getContext(),t,c)),l.parsed=this.getParsed(t),l.raw=r.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=c2(this.chart.getContext(),this.index)),l.dataset=r,l.index=l.datasetIndex=this.index;return l.active=!!e,l.mode=s,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const r=e==="active",l=this._cachedDataOpts,c=t+"-"+e,h=l[c],d=this.enableOptionSharing&&to(s);if(h)return Py(h,d);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],b=f.getOptionScopes(this.getDataset(),m),_=Object.keys(he.elements[t]),w=()=>this.getContext(s,r,e),x=f.resolveNamedOptions(b,_,w,y);return x.$shared&&(x.$shared=d,l[c]=Object.freeze(Py(x,d))),x}_resolveAnimations(t,e,s){const r=this.chart,l=this._cachedDataOpts,c=`animation-${e}`,h=l[c];if(h)return h;let d;if(r.options.animation!==!1){const m=this.chart.config,y=m.datasetAnimationScopeKeys(this._type,e),b=m.getOptionScopes(this.getDataset(),y);d=m.createResolver(b,this.getContext(t,s,e))}const f=new D_(r,d&&d.animations);return d&&d._cacheable&&(l[c]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||dd(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),r=this._sharedOptions,l=this.getSharedOptions(s),c=this.includeOptions(e,l)||l!==r;return this.updateSharedOptions(l,e,s),{sharedOptions:l,includeOptions:c}}updateElement(t,e,s,r){dd(r)?Object.assign(t,s):this._resolveAnimations(e,r).update(t,s)}updateSharedOptions(t,e,s){t&&!dd(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,r){t.active=r;const l=this.getStyle(e,r);this._resolveAnimations(e,s,r).update(t,{options:!r&&this.getSharedOptions(l)||l})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[h,d,f]of this._syncList)this[h](d,f);this._syncList=[];const r=s.length,l=e.length,c=Math.min(l,r);c&&this.parse(0,c),l>r?this._insertElements(r,l-r,t):l<r&&this._removeElements(l,r-l)}_insertElements(t,e,s=!0){const r=this._cachedMeta,l=r.data,c=t+e;let h;const d=f=>{for(f.length+=e,h=f.length-1;h>=c;h--)f[h]=f[h-e]};for(d(l),h=t;h<c;++h)l[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),s&&this.updateElements(l,t,e,"reset")}updateElements(t,e,s,r){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,e);s._stacked&&Nr(s,r)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,r]=t;this[e](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function d2(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let s=[];for(let r=0,l=e.length;r<l;r++)s=s.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=p_(s.sort((r,l)=>r-l))}return i._cache.$bar}function f2(i){const t=i.iScale,e=d2(t,i.type);let s=t._length,r,l,c,h;const d=()=>{c===32767||c===-32768||(to(h)&&(s=Math.min(s,Math.abs(c-h)||s)),h=c)};for(r=0,l=e.length;r<l;++r)c=t.getPixelForValue(e[r]),d();for(h=void 0,r=0,l=t.ticks.length;r<l;++r)c=t.getPixelForTick(r),d();return s}function g2(i,t,e,s){const r=e.barThickness;let l,c;return Bt(r)?(l=t.min*e.categoryPercentage,c=e.barPercentage):(l=r*s,c=1),{chunk:l/s,ratio:c,start:t.pixels[i]-l/2}}function p2(i,t,e,s){const r=t.pixels,l=r[i];let c=i>0?r[i-1]:null,h=i<r.length-1?r[i+1]:null;const d=e.categoryPercentage;c===null&&(c=l-(h===null?t.end-t.start:h-l)),h===null&&(h=l+l-c);const f=l-(l-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/s,ratio:e.barPercentage,start:f}}function m2(i,t,e,s){const r=e.parse(i[0],s),l=e.parse(i[1],s),c=Math.min(r,l),h=Math.max(r,l);let d=c,f=h;Math.abs(c)>Math.abs(h)&&(d=h,f=c),t[e.axis]=f,t._custom={barStart:d,barEnd:f,start:r,end:l,min:c,max:h}}function N_(i,t,e,s){return be(i)?m2(i,t,e,s):t[e.axis]=e.parse(i,s),t}function qy(i,t,e,s){const r=i.iScale,l=i.vScale,c=r.getLabels(),h=r===l,d=[];let f,m,y,b;for(f=e,m=e+s;f<m;++f)b=t[f],y={},y[r.axis]=h||r.parse(c[f],f),d.push(N_(b,y,l,f));return d}function fd(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function y2(i,t,e){return i!==0?In(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function b2(i){let t,e,s,r,l;return i.horizontal?(t=i.base>i.x,e="left",s="right"):(t=i.base<i.y,e="bottom",s="top"),t?(r="end",l="start"):(r="start",l="end"),{start:e,end:s,reverse:t,top:r,bottom:l}}function v2(i,t,e,s){let r=t.borderSkipped;const l={};if(!r){i.borderSkipped=l;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:f,bottom:m}=b2(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===s?r=f:(e._bottom||0)===s?r=m:(l[Iy(m,c,h,d)]=!0,r=f)),l[Iy(r,c,h,d)]=!0,i.borderSkipped=l}function Iy(i,t,e,s){return s?(i=_2(i,t,e),i=$y(i,e,t)):i=$y(i,t,e),i}function _2(i,t,e){return i===t?e:i===e?t:i}function $y(i,t,e){return i==="start"?t:i==="end"?e:i}function w2(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}class S2 extends kc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,s,r){return qy(t,e,s,r)}parseArrayData(t,e,s,r){return qy(t,e,s,r)}parseObjectData(t,e,s,r){const{iScale:l,vScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=l.axis==="x"?h:d,m=c.axis==="x"?h:d,y=[];let b,_,w,x;for(b=s,_=s+r;b<_;++b)x=e[b],w={},w[l.axis]=l.parse(Cs(x,f),b),y.push(N_(Cs(x,m),w,c,b));return y}updateRangeFromParsed(t,e,s,r){super.updateRangeFromParsed(t,e,s,r);const l=s._custom;l&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,l.min),t.max=Math.max(t.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:r}=e,l=this.getParsed(t),c=l._custom,h=fd(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(l[r.axis]);return{label:""+s.getLabelForValue(l[s.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,r){const l=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),f=h.isHorizontal(),m=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(e,r);for(let _=e;_<e+s;_++){const w=this.getParsed(_),x=l||Bt(w[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(_),E=this._calculateBarIndexPixels(_,m),O=(w._stacks||{})[h.axis],j={horizontal:f,base:x.base,enableBorderRadius:!O||fd(w._custom)||c===O._top||c===O._bottom,x:f?x.head:E.center,y:f?E.center:x.head,height:f?E.size:Math.abs(x.size),width:f?Math.abs(x.size):E.size};b&&(j.options=y||this.resolveDataElementOptions(_,t[_].active?"active":r));const D=j.options||t[_].options;v2(j,D,O,c),w2(j,D,m.ratio),this.updateElement(t[_],_,j,r)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),l=s.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),d=h&&h[s.axis],f=m=>{const y=m._parsed.find(_=>_[s.axis]===d),b=y&&y[m.vScale.axis];if(Bt(b)||isNaN(b))return!0};for(const m of r)if(!(e!==void 0&&f(m))&&((l===!1||c.indexOf(m.stack)===-1||l===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Et(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,s){const r=this._getStacks(t,s),l=e!==void 0?r.indexOf(e):-1;return l===-1?r.length-1:l}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,r=[];let l,c;for(l=0,c=e.data.length;l<c;++l)r.push(s.getPixelForValue(this.getParsed(l)[s.axis],l));const h=t.barThickness;return{min:h||f2(e),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:r},options:{base:l,minBarLength:c}}=this,h=l||0,d=this.getParsed(t),f=d._custom,m=fd(f);let y=d[e.axis],b=0,_=s?this.applyStack(e,d,s):y,w,x;_!==y&&(b=_-y,_=y),m&&(y=f.barStart,_=f.barEnd-f.barStart,y!==0&&In(y)!==In(f.barEnd)&&(b=0),b+=y);const E=!Bt(l)&&!m?l:b;let O=e.getPixelForValue(E);if(this.chart.getDataVisibility(t)?w=e.getPixelForValue(b+_):w=O,x=w-O,Math.abs(x)<c){x=y2(x,e,h)*c,y===h&&(O-=x/2);const j=e.getPixelForDecimal(0),D=e.getPixelForDecimal(1),I=Math.min(j,D),$=Math.max(j,D);O=Math.max(Math.min(O,$),I),w=O+x,s&&!m&&(d._stacks[e.axis]._visualValues[r]=e.getValueForPixel(w)-e.getValueForPixel(O))}if(O===e.getPixelForValue(h)){const j=In(x)*e.getLineWidthForValue(h)/2;O+=j,x-=j}return{size:x,base:O,head:w,center:w+x/2}}_calculateBarIndexPixels(t,e){const s=e.scale,r=this.options,l=r.skipNull,c=Et(r.maxBarThickness,1/0);let h,d;const f=this._getAxisCount();if(e.grouped){const m=l?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?p2(t,e,r,m*f):g2(t,e,r,m*f),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Et(b,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,l?t:void 0)+_;h=y.start+y.chunk*w+y.chunk/2,d=Math.min(c,y.chunk*y.ratio)}else h=s.getPixelForValue(this.getParsed(t)[s.axis],t),d=Math.min(c,e.min*e.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,r=s.length;let l=0;for(;l<r;++l)this.getParsed(l)[e.axis]!==null&&!s[l].hidden&&s[l].draw(this._ctx)}}function x2(i,t,e){let s=1,r=1,l=0,c=0;if(t<se){const h=i,d=h+t,f=Math.cos(h),m=Math.sin(h),y=Math.cos(d),b=Math.sin(d),_=(D,I,$)=>no(D,h,d,!0)?1:Math.max(I,I*e,$,$*e),w=(D,I,$)=>no(D,h,d,!0)?-1:Math.min(I,I*e,$,$*e),x=_(0,f,y),E=_(_e,m,b),O=w(It,f,y),j=w(It+_e,m,b);s=(x-O)/2,r=(E-j)/2,l=-(x+O)/2,c=-(E+j)/2}return{ratioX:s,ratioY:r,offsetX:l,offsetY:c}}class E2 extends kc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:s,textAlign:r,color:l,useBorderRadius:c,borderRadius:h}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((d,f)=>{const y=t.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:y.backgroundColor,fontColor:l,hidden:!t.getDataVisibility(f),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:r,pointStyle:s,borderRadius:c&&(h||y.borderRadius),index:f}}):[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let l=d=>+s[d];if(Rt(s[t])){const{key:d="value"}=this._parsing;l=f=>+Cs(s[f],d)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=l(c)}}_getRotation(){return fi(this.options.rotation-90)}_getCircumference(){return fi(this.options.circumference)}_getRotationExtents(){let t=se,e=-se;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,l=r._getRotation(),c=r._getCircumference();t=Math.min(t,l),e=Math.max(e,l+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,r=this._cachedMeta,l=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-c)/2,0),d=Math.min(CO(this.options.cutout,h),1),f=this._getRingWeight(this.index),{circumference:m,rotation:y}=this._getRotationExtents(),{ratioX:b,ratioY:_,offsetX:w,offsetY:x}=x2(y,m,d),E=(s.width-c)/b,O=(s.height-c)/_,j=Math.max(Math.min(E,O)/2,0),D=u_(this.options.radius,j),I=Math.max(D*d,0),$=(D-I)/this._getVisibleDatasetWeightTotal();this.offsetX=w*D,this.offsetY=x*D,r.total=this.calculateTotal(),this.outerRadius=D-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*f,0),this.updateElements(l,0,l.length,t)}_circumference(t,e){const s=this.options,r=this._cachedMeta,l=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*l/se)}updateElements(t,e,s,r){const l=r==="reset",c=this.chart,h=c.chartArea,f=c.options.animation,m=(h.left+h.right)/2,y=(h.top+h.bottom)/2,b=l&&f.animateScale,_=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:x,includeOptions:E}=this._getSharedOptions(e,r);let O=this._getRotation(),j;for(j=0;j<e;++j)O+=this._circumference(j,l);for(j=e;j<e+s;++j){const D=this._circumference(j,l),I=t[j],$={x:m+this.offsetX,y:y+this.offsetY,startAngle:O,endAngle:O+D,circumference:D,outerRadius:w,innerRadius:_};E&&($.options=x||this.resolveDataElementOptions(j,I.active?"active":r)),O+=D,this.updateElement(I,j,$,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,r;for(r=0;r<e.length;r++){const l=t._parsed[r];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(s+=Math.abs(l))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?se*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,r=s.data.labels||[],l=ff(e._parsed[t],s.options.locale);return{label:r[t]||"",value:l}}getMaxBorderWidth(t){let e=0;const s=this.chart;let r,l,c,h,d;if(!t){for(r=0,l=s.data.datasets.length;r<l;++r)if(s.isDatasetVisible(r)){c=s.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,l=t.length;r<l;++r)d=h.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,r=t.length;s<r;++s){const l=this.resolveDataElementOptions(s);e=Math.max(e,l.offset||0,l.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(Et(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class T2 extends kc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:r=[],_dataset:l}=e,c=this.chart._animationsDisabled;let{start:h,count:d}=WO(e,r,c);this._drawStart=h,this._drawCount=d,QO(e)&&(h=0,d=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!l._decimated,s.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:f},t),this.updateElements(r,h,d,t)}updateElements(t,e,s,r){const l=r==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(e,r),b=c.axis,_=h.axis,{spanGaps:w,segment:x}=this.options,E=eo(w)?w:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||l||r==="none",j=e+s,D=t.length;let I=e>0&&this.getParsed(e-1);for(let $=0;$<D;++$){const Q=t[$],q=O?Q:{};if($<e||$>=j){q.skip=!0;continue}const T=this.getParsed($),k=Bt(T[_]),z=q[b]=c.getPixelForValue(T[b],$),X=q[_]=l||k?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,T,d):T[_],$);q.skip=isNaN(z)||isNaN(X)||k,q.stop=$>0&&Math.abs(T[b]-I[b])>E,x&&(q.parsed=T,q.raw=f.data[$]),y&&(q.options=m||this.resolveDataElementOptions($,Q.active?"active":r)),O||this.updateElement(Q,$,q,r),I=T}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return s;const l=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,l,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function vs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _f{static override(t){Object.assign(_f.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return vs()}parse(){return vs()}format(){return vs()}add(){return vs()}diff(){return vs()}startOf(){return vs()}endOf(){return vs()}}var O2={_date:_f};function A2(i,t,e,s){const{controller:r,data:l,_sorted:c}=i,h=r._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&l.length){const f=h._reversePixels?FO:ks;if(s){if(r._sharedOptions){const m=l[0],y=typeof m.getRange=="function"&&m.getRange(t);if(y){const b=f(l,t,e-y),_=f(l,t,e+y);return{lo:b.lo,hi:_.hi}}}}else{const m=f(l,t,e);if(d){const{vScale:y}=r._cachedMeta,{_parsed:b}=i,_=b.slice(0,m.lo+1).reverse().findIndex(x=>!Bt(x[y.axis]));m.lo-=Math.max(0,_);const w=b.slice(m.hi).findIndex(x=>!Bt(x[y.axis]));m.hi+=Math.max(0,w)}return m}}return{lo:0,hi:l.length-1}}function Rc(i,t,e,s,r){const l=i.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,d=l.length;h<d;++h){const{index:f,data:m}=l[h],{lo:y,hi:b}=A2(l[h],t,c,r);for(let _=y;_<=b;++_){const w=m[_];w.skip||s(w,f,_)}}}function k2(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(s,r){const l=t?Math.abs(s.x-r.x):0,c=e?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function gd(i,t,e,s,r){const l=[];return!r&&!i.isPointInArea(t)||Rc(i,e,t,function(h,d,f){!r&&!io(h,i.chartArea,0)||h.inRange(t.x,t.y,s)&&l.push({element:h,datasetIndex:d,index:f})},!0),l}function R2(i,t,e,s){let r=[];function l(c,h,d){const{startAngle:f,endAngle:m}=c.getProps(["startAngle","endAngle"],s),{angle:y}=f_(c,{x:t.x,y:t.y});no(y,f,m)&&r.push({element:c,datasetIndex:h,index:d})}return Rc(i,e,t,l),r}function C2(i,t,e,s,r,l){let c=[];const h=k2(e);let d=Number.POSITIVE_INFINITY;function f(m,y,b){const _=m.inRange(t.x,t.y,r);if(s&&!_)return;const w=m.getCenterPoint(r);if(!(!!l||i.isPointInArea(w))&&!_)return;const E=h(t,w);E<d?(c=[{element:m,datasetIndex:y,index:b}],d=E):E===d&&c.push({element:m,datasetIndex:y,index:b})}return Rc(i,e,t,f),c}function pd(i,t,e,s,r,l){return!l&&!i.isPointInArea(t)?[]:e==="r"&&!s?R2(i,t,e,r):C2(i,t,e,s,r,l)}function Vy(i,t,e,s,r){const l=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Rc(i,e,t,(d,f,m)=>{d[c]&&d[c](t[e],r)&&(l.push({element:d,datasetIndex:f,index:m}),h=h||d.inRange(t.x,t.y,r))}),s&&!h?[]:l}var M2={modes:{index(i,t,e,s){const r=xs(t,i),l=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?gd(i,r,l,s,c):pd(i,r,l,!1,s,c),d=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(f=>{const m=h[0].index,y=f.data[m];y&&!y.skip&&d.push({element:y,datasetIndex:f.index,index:m})}),d):[]},dataset(i,t,e,s){const r=xs(t,i),l=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?gd(i,r,l,s,c):pd(i,r,l,!1,s,c);if(h.length>0){const d=h[0].datasetIndex,f=i.getDatasetMeta(d).data;h=[];for(let m=0;m<f.length;++m)h.push({element:f[m],datasetIndex:d,index:m})}return h},point(i,t,e,s){const r=xs(t,i),l=e.axis||"xy",c=e.includeInvisible||!1;return gd(i,r,l,s,c)},nearest(i,t,e,s){const r=xs(t,i),l=e.axis||"xy",c=e.includeInvisible||!1;return pd(i,r,l,e.intersect,s,c)},x(i,t,e,s){const r=xs(t,i);return Vy(i,r,"x",e.intersect,s)},y(i,t,e,s){const r=xs(t,i);return Vy(i,r,"y",e.intersect,s)}}};const z_=["left","top","right","bottom"];function zr(i,t){return i.filter(e=>e.pos===t)}function Fy(i,t){return i.filter(e=>z_.indexOf(e.pos)===-1&&e.box.axis===t)}function Lr(i,t){return i.sort((e,s)=>{const r=t?s:e,l=t?e:s;return r.weight===l.weight?r.index-l.index:r.weight-l.weight})}function D2(i){const t=[];let e,s,r,l,c,h;for(e=0,s=(i||[]).length;e<s;++e)r=i[e],{position:l,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:l,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&l+c,stackWeight:h});return t}function j2(i){const t={};for(const e of i){const{stack:s,pos:r,stackWeight:l}=e;if(!s||!z_.includes(r))continue;const c=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return t}function N2(i,t){const e=j2(i),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let l,c,h;for(l=0,c=i.length;l<c;++l){h=i[l];const{fullSize:d}=h.box,f=e[h.stack],m=f&&h.stackWeight/f.weight;h.horizontal?(h.width=m?m*s:d&&t.availableWidth,h.height=r):(h.width=s,h.height=m?m*r:d&&t.availableHeight)}return e}function z2(i){const t=D2(i),e=Lr(t.filter(f=>f.box.fullSize),!0),s=Lr(zr(t,"left"),!0),r=Lr(zr(t,"right")),l=Lr(zr(t,"top"),!0),c=Lr(zr(t,"bottom")),h=Fy(t,"x"),d=Fy(t,"y");return{fullSize:e,leftAndTop:s.concat(l),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:zr(t,"chartArea"),vertical:s.concat(r).concat(d),horizontal:l.concat(c).concat(h)}}function Yy(i,t,e,s){return Math.max(i[e],t[e])+Math.max(i[s],t[s])}function L_(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function L2(i,t,e,s){const{pos:r,box:l}=e,c=i.maxPadding;if(!Rt(r)){e.size&&(i[r]-=e.size);const y=s[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?l.height:l.width),e.size=y.size/y.count,i[r]+=e.size}l.getPadding&&L_(c,l.getPadding());const h=Math.max(0,t.outerWidth-Yy(c,i,"left","right")),d=Math.max(0,t.outerHeight-Yy(c,i,"top","bottom")),f=h!==i.w,m=d!==i.h;return i.w=h,i.h=d,e.horizontal?{same:f,other:m}:{same:m,other:f}}function U2(i){const t=i.maxPadding;function e(s){const r=Math.max(t[s]-i[s],0);return i[s]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function B2(i,t){const e=t.maxPadding;function s(r){const l={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{l[c]=Math.max(t[c],e[c])}),l}return s(i?["left","right"]:["top","bottom"])}function $r(i,t,e,s){const r=[];let l,c,h,d,f,m;for(l=0,c=i.length,f=0;l<c;++l){h=i[l],d=h.box,d.update(h.width||t.w,h.height||t.h,B2(h.horizontal,t));const{same:y,other:b}=L2(t,e,h,s);f|=y&&r.length,m=m||b,d.fullSize||r.push(h)}return f&&$r(r,t,e,s)||m}function Yl(i,t,e,s,r){i.top=e,i.left=t,i.right=t+s,i.bottom=e+r,i.width=s,i.height=r}function Gy(i,t,e,s){const r=e.padding;let{x:l,y:c}=t;for(const h of i){const d=h.box,f=s[h.stack]||{placed:0,weight:1},m=h.stackWeight/f.weight||1;if(h.horizontal){const y=t.w*m,b=f.size||d.height;to(f.start)&&(c=f.start),d.fullSize?Yl(d,r.left,c,e.outerWidth-r.right-r.left,b):Yl(d,t.left+f.placed,c,y,b),f.start=c,f.placed+=y,c=d.bottom}else{const y=t.h*m,b=f.size||d.width;to(f.start)&&(l=f.start),d.fullSize?Yl(d,l,r.top,b,e.outerHeight-r.bottom-r.top):Yl(d,l,t.top+f.placed,b,y),f.start=l,f.placed+=y,l=d.right}}t.x=l,t.y=c}var xn={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,s){if(!i)return;const r=En(i.options.layout.padding),l=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=z2(i.boxes),d=h.vertical,f=h.horizontal;qt(i.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const m=d.reduce((x,E)=>E.box.options&&E.box.options.display===!1?x:x+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/m,hBoxMaxHeight:c/2}),b=Object.assign({},r);L_(b,En(s));const _=Object.assign({maxPadding:b,w:l,h:c,x:r.left,y:r.top},r),w=N2(d.concat(f),y);$r(h.fullSize,_,y,w),$r(d,_,y,w),$r(f,_,y,w)&&$r(d,_,y,w),U2(_),Gy(h.leftAndTop,_,y,w),_.x+=_.w,_.y+=_.h,Gy(h.rightAndBottom,_,y,w),i.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},qt(h.chartArea,x=>{const E=x.box;Object.assign(E,i.chartArea),E.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class U_{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,r){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):s)}}isAttached(t){return!0}updateConfig(t){}}class H2 extends U_{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nc="$chartjs",P2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ky=i=>i===null||i==="";function q2(i,t){const e=i.style,s=i.getAttribute("height"),r=i.getAttribute("width");if(i[nc]={initial:{height:s,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Ky(r)){const l=My(i,"width");l!==void 0&&(i.width=l)}if(Ky(s))if(i.style.height==="")i.height=i.width/(t||2);else{const l=My(i,"height");l!==void 0&&(i.height=l)}return i}const B_=PA?{passive:!0}:!1;function I2(i,t,e){i&&i.addEventListener(t,e,B_)}function $2(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,B_)}function V2(i,t){const e=P2[i.type]||i.type,{x:s,y:r}=xs(i,t);return{type:e,chart:t,native:i,x:s!==void 0?s:null,y:r!==void 0?r:null}}function vc(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function F2(i,t,e){const s=i.canvas,r=new MutationObserver(l=>{let c=!1;for(const h of l)c=c||vc(h.addedNodes,s),c=c&&!vc(h.removedNodes,s);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Y2(i,t,e){const s=i.canvas,r=new MutationObserver(l=>{let c=!1;for(const h of l)c=c||vc(h.removedNodes,s),c=c&&!vc(h.addedNodes,s);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const ao=new Map;let Xy=0;function H_(){const i=window.devicePixelRatio;i!==Xy&&(Xy=i,ao.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function G2(i,t){ao.size||window.addEventListener("resize",H_),ao.set(i,t)}function K2(i){ao.delete(i),ao.size||window.removeEventListener("resize",H_)}function X2(i,t,e){const s=i.canvas,r=s&&vf(s);if(!r)return;const l=y_((h,d)=>{const f=r.clientWidth;e(h,d),f<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const d=h[0],f=d.contentRect.width,m=d.contentRect.height;f===0&&m===0||l(f,m)});return c.observe(r),G2(i,l),c}function md(i,t,e){e&&e.disconnect(),t==="resize"&&K2(i)}function W2(i,t,e){const s=i.canvas,r=y_(l=>{i.ctx!==null&&e(V2(l,i))},i);return I2(s,t,r),r}class Q2 extends U_{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(q2(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[nc])return!1;const s=e[nc].initial;["height","width"].forEach(l=>{const c=s[l];Bt(c)?e.removeAttribute(l):e.setAttribute(l,c)});const r=s.style||{};return Object.keys(r).forEach(l=>{e.style[l]=r[l]}),e.width=e.width,delete e[nc],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:F2,detach:Y2,resize:X2}[e]||W2;r[e]=c(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),r=s[e];if(!r)return;({attach:md,detach:md,resize:md}[e]||$2)(t,e,r),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,r){return HA(t,e,s,r)}isAttached(t){const e=t&&vf(t);return!!(e&&e.isConnected)}}function J2(i){return!bf()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?H2:Q2}class mi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return eo(this.x)&&eo(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const r={};return t.forEach(l=>{r[l]=s[l]&&s[l].active()?s[l]._to:this[l]}),r}}function Z2(i,t){const e=i.options.ticks,s=tk(i),r=Math.min(e.maxTicksLimit||s,s),l=e.major.enabled?nk(t):[],c=l.length,h=l[0],d=l[c-1],f=[];if(c>r)return ik(t,f,l,c/r),f;const m=ek(l,t,r);if(c>0){let y,b;const _=c>1?Math.round((d-h)/(c-1)):null;for(Gl(t,f,m,Bt(_)?0:h-_,h),y=0,b=c-1;y<b;y++)Gl(t,f,m,l[y],l[y+1]);return Gl(t,f,m,d,Bt(_)?t.length:d+_),f}return Gl(t,f,m),f}function tk(i){const t=i.options.offset,e=i._tickSize(),s=i._length/e+(t?0:1),r=i._maxLength/e;return Math.floor(Math.min(s,r))}function ek(i,t,e){const s=sk(i),r=t.length/e;if(!s)return Math.max(r,1);const l=BO(s);for(let c=0,h=l.length-1;c<h;c++){const d=l[c];if(d>r)return d}return Math.max(r,1)}function nk(i){const t=[];let e,s;for(e=0,s=i.length;e<s;e++)i[e].major&&t.push(e);return t}function ik(i,t,e,s){let r=0,l=e[0],c;for(s=Math.ceil(s),c=0;c<i.length;c++)c===l&&(t.push(i[c]),r++,l=e[r*s])}function Gl(i,t,e,s,r){const l=Et(s,0),c=Math.min(Et(r,i.length),i.length);let h=0,d,f,m;for(e=Math.ceil(e),r&&(d=r-s,e=d/Math.floor(d/e)),m=l;m<0;)h++,m=Math.round(l+h*e);for(f=Math.max(l,0);f<c;f++)f===m&&(t.push(i[f]),h++,m=Math.round(l+h*e))}function sk(i){const t=i.length;let e,s;if(t<2)return!1;for(s=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==s)return!1;return s}const ak=i=>i==="left"?"right":i==="right"?"left":i,Wy=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,Qy=(i,t)=>Math.min(t||i,i);function Jy(i,t){const e=[],s=i.length/t,r=i.length;let l=0;for(;l<r;l+=s)e.push(i[Math.floor(l)]);return e}function rk(i,t,e){const s=i.ticks.length,r=Math.min(t,s-1),l=i._startPixel,c=i._endPixel,h=1e-6;let d=i.getPixelForTick(r),f;if(!(e&&(s===1?f=Math.max(d-l,c-d):t===0?f=(i.getPixelForTick(1)-d)/2:f=(d-i.getPixelForTick(r-1))/2,d+=r<t?f:-f,d<l-h||d>c+h)))return d}function ok(i,t){qt(i,e=>{const s=e.gc,r=s.length/2;let l;if(r>t){for(l=0;l<r;++l)delete e.data[s[l]];s.splice(0,r)}})}function Ur(i){return i.drawTicks?i.tickLength:0}function Zy(i,t){if(!i.display)return 0;const e=Ue(i.font,t),s=En(i.padding);return(be(i.text)?i.text.length:1)*e.lineHeight+s.height}function lk(i,t){return Ds(i,{scale:t,type:"scale"})}function ck(i,t,e){return Ds(i,{tick:e,index:t,type:"tick"})}function uk(i,t,e){let s=hf(i);return(e&&t!=="right"||!e&&t==="right")&&(s=ak(s)),s}function hk(i,t,e,s){const{top:r,left:l,bottom:c,right:h,chart:d}=i,{chartArea:f,scales:m}=d;let y=0,b,_,w;const x=c-r,E=h-l;if(i.isHorizontal()){if(_=ze(s,l,h),Rt(e)){const O=Object.keys(e)[0],j=e[O];w=m[O].getPixelForValue(j)+x-t}else e==="center"?w=(f.bottom+f.top)/2+x-t:w=Wy(i,e,t);b=h-l}else{if(Rt(e)){const O=Object.keys(e)[0],j=e[O];_=m[O].getPixelForValue(j)-E+t}else e==="center"?_=(f.left+f.right)/2-E+t:_=Wy(i,e,t);w=ze(s,c,r),y=e==="left"?-_e:_e}return{titleX:_,titleY:w,maxWidth:b,rotation:y}}class za extends mi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:r}=this;return t=Bn(t,Number.POSITIVE_INFINITY),e=Bn(e,Number.NEGATIVE_INFINITY),s=Bn(s,Number.POSITIVE_INFINITY),r=Bn(r,Number.NEGATIVE_INFINITY),{min:Bn(t,s),max:Bn(e,r),minDefined:Be(t),maxDefined:Be(e)}}getMinMax(t){let{min:e,max:s,minDefined:r,maxDefined:l}=this.getUserBounds(),c;if(r&&l)return{min:e,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,f=h.length;d<f;++d)c=h[d].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),l||(s=Math.max(s,c.max));return e=l&&e>s?s:e,s=r&&e>s?e:s,{min:Bn(e,Bn(s,e)),max:Bn(s,Bn(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){te(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:r,grace:l,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yA(this,l,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?Jy(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Z2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){te(this.options.afterUpdate,[this])}beforeSetDimensions(){te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){te(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),te(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,r,l;for(s=0,r=t.length;s<r;s++)l=t[s],l.label=te(e.callback,[l.value,s,t],this)}afterTickToLabelConversion(){te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=Qy(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,l=e.maxRotation;let c=r,h,d,f;if(!this._isVisible()||!e.display||r>=l||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),y=m.widest.width,b=m.highest.height,_=Le(this.chart.width-y,0,this.maxWidth);h=t.offset?this.maxWidth/s:_/(s-1),y+6>h&&(h=_/(s-(t.offset?.5:1)),d=this.maxHeight-Ur(t.grid)-e.padding-Zy(t.title,this.chart.options.font),f=Math.sqrt(y*y+b*b),c=IO(Math.min(Math.asin(Le((m.highest.height+6)/h,-1,1)),Math.asin(Le(d/f,-1,1))-Math.asin(Le(b/f,-1,1)))),c=Math.max(r,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){te(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:r,grid:l}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=Zy(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Ur(l)+d):(t.height=this.maxHeight,t.width=Ur(l)+d),s.display&&this.ticks.length){const{first:f,last:m,widest:y,highest:b}=this._getLabelSizes(),_=s.padding*2,w=fi(this.labelRotation),x=Math.cos(w),E=Math.sin(w);if(h){const O=s.mirror?0:E*y.width+x*b.height;t.height=Math.min(this.maxHeight,t.height+O+_)}else{const O=s.mirror?0:x*y.width+E*b.height;t.width=Math.min(this.maxWidth,t.width+O+_)}this._calculatePadding(f,m,E,x)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,r){const{ticks:{align:l,padding:c},position:h}=this.options,d=this.labelRotation!==0,f=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,_=0;d?f?(b=r*t.width,_=s*e.height):(b=s*t.height,_=r*e.width):l==="start"?_=e.width:l==="end"?b=t.width:l!=="inner"&&(b=t.width/2,_=e.width/2),this.paddingLeft=Math.max((b-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((_-y+c)*this.width/(this.width-y),0)}else{let m=e.height/2,y=t.height/2;l==="start"?(m=0,y=t.height):l==="end"&&(m=e.height,y=0),this.paddingTop=m+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){te(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)Bt(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=Jy(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:r,_longestTextCache:l}=this,c=[],h=[],d=Math.floor(e/Qy(e,s));let f=0,m=0,y,b,_,w,x,E,O,j,D,I,$;for(y=0;y<e;y+=d){if(w=t[y].label,x=this._resolveTickFontOptions(y),r.font=E=x.string,O=l[E]=l[E]||{data:{},gc:[]},j=x.lineHeight,D=I=0,!Bt(w)&&!be(w))D=Oy(r,O.data,O.gc,D,w),I=j;else if(be(w))for(b=0,_=w.length;b<_;++b)$=w[b],!Bt($)&&!be($)&&(D=Oy(r,O.data,O.gc,D,$),I+=j);c.push(D),h.push(I),f=Math.max(D,f),m=Math.max(I,m)}ok(l,e);const Q=c.indexOf(f),q=h.indexOf(m),T=k=>({width:c[k]||0,height:h[k]||0});return{first:T(0),last:T(e-1),widest:T(Q),highest:T(q),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return VO(this._alignToPixels?bs(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=ck(this.getContext(),t,s))}return this.$context||(this.$context=lk(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=fi(this.labelRotation),s=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),l=this._getLabelSizes(),c=t.autoSkipPadding||0,h=l?l.widest.width+c:0,d=l?l.highest.height+c:0;return this.isHorizontal()?d*s>h*r?h/s:d/r:d*r<h*s?d/s:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,r=this.options,{grid:l,position:c,border:h}=r,d=l.offset,f=this.isHorizontal(),y=this.ticks.length+(d?1:0),b=Ur(l),_=[],w=h.setContext(this.getContext()),x=w.display?w.width:0,E=x/2,O=function(L){return bs(s,L,x)};let j,D,I,$,Q,q,T,k,z,X,K,it;if(c==="top")j=O(this.bottom),q=this.bottom-b,k=j-E,X=O(t.top)+E,it=t.bottom;else if(c==="bottom")j=O(this.top),X=t.top,it=O(t.bottom)-E,q=j+E,k=this.top+b;else if(c==="left")j=O(this.right),Q=this.right-b,T=j-E,z=O(t.left)+E,K=t.right;else if(c==="right")j=O(this.left),z=t.left,K=O(t.right)-E,Q=j+E,T=this.left+b;else if(e==="x"){if(c==="center")j=O((t.top+t.bottom)/2+.5);else if(Rt(c)){const L=Object.keys(c)[0],Y=c[L];j=O(this.chart.scales[L].getPixelForValue(Y))}X=t.top,it=t.bottom,q=j+E,k=q+b}else if(e==="y"){if(c==="center")j=O((t.left+t.right)/2);else if(Rt(c)){const L=Object.keys(c)[0],Y=c[L];j=O(this.chart.scales[L].getPixelForValue(Y))}Q=j-E,T=Q-b,z=t.left,K=t.right}const dt=Et(r.ticks.maxTicksLimit,y),ut=Math.max(1,Math.ceil(y/dt));for(D=0;D<y;D+=ut){const L=this.getContext(D),Y=l.setContext(L),et=h.setContext(L),Z=Y.lineWidth,ft=Y.color,A=et.dash||[],H=et.dashOffset,F=Y.tickWidth,tt=Y.tickColor,nt=Y.tickBorderDash||[],rt=Y.tickBorderDashOffset;I=rk(this,D,d),I!==void 0&&($=bs(s,I,Z),f?Q=T=z=K=$:q=k=X=it=$,_.push({tx1:Q,ty1:q,tx2:T,ty2:k,x1:z,y1:X,x2:K,y2:it,width:Z,color:ft,borderDash:A,borderDashOffset:H,tickWidth:F,tickColor:tt,tickBorderDash:nt,tickBorderDashOffset:rt}))}return this._ticksLength=y,this._borderValue=j,_}_computeLabelItems(t){const e=this.axis,s=this.options,{position:r,ticks:l}=s,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:f,padding:m,mirror:y}=l,b=Ur(s.grid),_=b+m,w=y?-m:_,x=-fi(this.labelRotation),E=[];let O,j,D,I,$,Q,q,T,k,z,X,K,it="middle";if(r==="top")Q=this.bottom-w,q=this._getXAxisLabelAlignment();else if(r==="bottom")Q=this.top+w,q=this._getXAxisLabelAlignment();else if(r==="left"){const ut=this._getYAxisLabelAlignment(b);q=ut.textAlign,$=ut.x}else if(r==="right"){const ut=this._getYAxisLabelAlignment(b);q=ut.textAlign,$=ut.x}else if(e==="x"){if(r==="center")Q=(t.top+t.bottom)/2+_;else if(Rt(r)){const ut=Object.keys(r)[0],L=r[ut];Q=this.chart.scales[ut].getPixelForValue(L)+_}q=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")$=(t.left+t.right)/2-_;else if(Rt(r)){const ut=Object.keys(r)[0],L=r[ut];$=this.chart.scales[ut].getPixelForValue(L)}q=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(d==="start"?it="top":d==="end"&&(it="bottom"));const dt=this._getLabelSizes();for(O=0,j=h.length;O<j;++O){D=h[O],I=D.label;const ut=l.setContext(this.getContext(O));T=this.getPixelForTick(O)+l.labelOffset,k=this._resolveTickFontOptions(O),z=k.lineHeight,X=be(I)?I.length:1;const L=X/2,Y=ut.color,et=ut.textStrokeColor,Z=ut.textStrokeWidth;let ft=q;c?($=T,q==="inner"&&(O===j-1?ft=this.options.reverse?"left":"right":O===0?ft=this.options.reverse?"right":"left":ft="center"),r==="top"?f==="near"||x!==0?K=-X*z+z/2:f==="center"?K=-dt.highest.height/2-L*z+z:K=-dt.highest.height+z/2:f==="near"||x!==0?K=z/2:f==="center"?K=dt.highest.height/2-L*z:K=dt.highest.height-X*z,y&&(K*=-1),x!==0&&!ut.showLabelBackdrop&&($+=z/2*Math.sin(x))):(Q=T,K=(1-X)*z/2);let A;if(ut.showLabelBackdrop){const H=En(ut.backdropPadding),F=dt.heights[O],tt=dt.widths[O];let nt=K-H.top,rt=0-H.left;switch(it){case"middle":nt-=F/2;break;case"bottom":nt-=F;break}switch(q){case"center":rt-=tt/2;break;case"right":rt-=tt;break;case"inner":O===j-1?rt-=tt:O>0&&(rt-=tt/2);break}A={left:rt,top:nt,width:tt+H.width,height:F+H.height,color:ut.backdropColor}}E.push({label:I,font:k,textOffset:K,options:{rotation:x,color:Y,strokeColor:et,strokeWidth:Z,textAlign:ft,textBaseline:it,translation:[$,Q],backdrop:A}})}return E}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-fi(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:r,padding:l}}=this.options,c=this._getLabelSizes(),h=t+l,d=c.widest.width;let f,m;return e==="left"?r?(m=this.right+l,s==="near"?f="left":s==="center"?(f="center",m+=d/2):(f="right",m+=d)):(m=this.right-h,s==="near"?f="right":s==="center"?(f="center",m-=d/2):(f="left",m=this.left)):e==="right"?r?(m=this.left+l,s==="near"?f="right":s==="center"?(f="center",m-=d/2):(f="left",m-=d)):(m=this.left+h,s==="near"?f="left":s==="center"?(f="center",m+=d/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:r,width:l,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,r,l,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(l=>l.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,c;const h=(d,f,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(e.display)for(l=0,c=r.length;l<c;++l){const d=r[l];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:r}}=this,l=s.setContext(this.getContext()),c=s.display?l.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,m,y,b;this.isHorizontal()?(f=bs(t,this.left,c)-c/2,m=bs(t,this.right,h)+h/2,y=b=d):(y=bs(t,this.top,c)-c/2,b=bs(t,this.bottom,h)+h/2,f=m=d),e.save(),e.lineWidth=l.width,e.strokeStyle=l.color,e.beginPath(),e.moveTo(f,y),e.lineTo(m,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Tc(s,r);const l=this.getLabelItems(t);for(const c of l){const h=c.options,d=c.font,f=c.label,m=c.textOffset;so(s,f,0,m,d,h)}r&&Oc(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:r}}=this;if(!s.display)return;const l=Ue(s.font),c=En(s.padding),h=s.align;let d=l.lineHeight/2;e==="bottom"||e==="center"||Rt(e)?(d+=c.bottom,be(s.text)&&(d+=l.lineHeight*(s.text.length-1))):d+=c.top;const{titleX:f,titleY:m,maxWidth:y,rotation:b}=hk(this,d,e,h);so(t,s.text,0,0,l,{color:s.color,maxWidth:y,rotation:b,textAlign:uk(h,e,r),textBaseline:"middle",translation:[f,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Et(t.grid&&t.grid.z,-1),r=Et(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==za.prototype.draw?[{z:e,draw:l=>{this.draw(l)}}]:[{z:s,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let l,c;for(l=0,c=e.length;l<c;++l){const h=e[l];h[s]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ue(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Kl{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;gk(e)&&(s=this.register(e));const r=this.items,l=t.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in r||(r[l]=t,dk(t,c,s),this.override&&he.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,r=this.scope;s in e&&delete e[s],r&&s in he[r]&&(delete he[r][s],this.override&&delete Ms[s])}}function dk(i,t,e){const s=Zr(Object.create(null),[e?he.get(e):{},he.get(t),i.defaults]);he.set(t,s),i.defaultRoutes&&fk(t,i.defaultRoutes),i.descriptors&&he.describe(t,i.descriptors)}function fk(i,t){Object.keys(t).forEach(e=>{const s=e.split("."),r=s.pop(),l=[i].concat(s).join("."),c=t[e].split("."),h=c.pop(),d=c.join(".");he.route(l,r,d,h)})}function gk(i){return"id"in i&&"defaults"in i}class pk{constructor(){this.controllers=new Kl(kc,"datasets",!0),this.elements=new Kl(mi,"elements"),this.plugins=new Kl(Object,"plugins"),this.scales=new Kl(za,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(r=>{const l=s||this._getRegistryForType(r);s||l.isForType(r)||l===this.plugins&&r.id?this._exec(t,l,r):qt(r,c=>{const h=s||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,s){const r=cf(t);te(s["before"+r],[],s),e[t](s),te(s["after"+r],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var Pn=new pk;class mk{constructor(){this._init=void 0}notify(t,e,s,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const l=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(l,t,e,s);return e==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,s,r){r=r||{};for(const l of t){const c=l.plugin,h=c[s],d=[e,r,l.options];if(te(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,r=Et(s.options&&s.options.plugins,{}),l=yk(s);return r===!1&&!e?[]:vk(t,l,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,r=(l,c)=>l.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(e,s),t,"stop"),this._notify(r(s,e),t,"start")}}function yk(i){const t={},e=[],s=Object.keys(Pn.plugins.items);for(let l=0;l<s.length;l++)e.push(Pn.getPlugin(s[l]));const r=i.plugins||[];for(let l=0;l<r.length;l++){const c=r[l];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function bk(i,t){return!t&&i===!1?null:i===!0?{}:i}function vk(i,{plugins:t,localIds:e},s,r){const l=[],c=i.getContext();for(const h of t){const d=h.id,f=bk(s[d],r);f!==null&&l.push({plugin:h,options:_k(i.config,{plugin:h,local:e[d]},f,c)})}return l}function _k(i,{plugin:t,local:e},s,r){const l=i.pluginScopeKeys(t),c=i.getOptionScopes(s,l);return e&&t.defaults&&c.push(t.defaults),i.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vd(i,t){const e=he.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function wk(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function Sk(i,t){return i===t?"_index_":"_value_"}function tb(i){if(i==="x"||i==="y"||i==="r")return i}function xk(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Fd(i,...t){if(tb(i))return i;for(const e of t){const s=e.axis||xk(e.position)||i.length>1&&tb(i[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function eb(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function Ek(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===i||s.yAxisID===i);if(e.length)return eb(i,"x",e[0])||eb(i,"y",e[0])}return{}}function Tk(i,t){const e=Ms[i.type]||{scales:{}},s=t.scales||{},r=Vd(i.type,t),l=Object.create(null);return Object.keys(s).forEach(c=>{const h=s[c];if(!Rt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Fd(c,h,Ek(c,i),he.scales[h.type]),f=Sk(d,r),m=e.scales||{};l[c]=Fr(Object.create(null),[{axis:d},h,m[d],m[f]])}),i.data.datasets.forEach(c=>{const h=c.type||i.type,d=c.indexAxis||Vd(h,t),m=(Ms[h]||{}).scales||{};Object.keys(m).forEach(y=>{const b=wk(y,d),_=c[b+"AxisID"]||b;l[_]=l[_]||Object.create(null),Fr(l[_],[{axis:b},s[_],m[y]])})}),Object.keys(l).forEach(c=>{const h=l[c];Fr(h,[he.scales[h.type],he.scale])}),l}function P_(i){const t=i.options||(i.options={});t.plugins=Et(t.plugins,{}),t.scales=Tk(i,t)}function q_(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function Ok(i){return i=i||{},i.data=q_(i.data),P_(i),i}const nb=new Map,I_=new Set;function Xl(i,t){let e=nb.get(i);return e||(e=t(),nb.set(i,e),I_.add(e)),e}const Br=(i,t,e)=>{const s=Cs(t,e);s!==void 0&&i.add(s)};class Ak{constructor(t){this._config=Ok(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=q_(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),P_(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Xl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Xl(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Xl(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return Xl(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let r=s.get(t);return(!r||e)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,e,s){const{options:r,type:l}=this,c=this._cachedScopes(t,s),h=c.get(e);if(h)return h;const d=new Set;e.forEach(m=>{t&&(d.add(t),m.forEach(y=>Br(d,t,y))),m.forEach(y=>Br(d,r,y)),m.forEach(y=>Br(d,Ms[l]||{},y)),m.forEach(y=>Br(d,he,y)),m.forEach(y=>Br(d,Id,y))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),I_.has(e)&&c.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ms[e]||{},he.datasets[e]||{},{type:e},he,Id]}resolveNamedOptions(t,e,s,r=[""]){const l={$shared:!0},{resolver:c,subPrefixes:h}=ib(this._resolverCache,t,r);let d=c;if(Rk(c,e)){l.$shared=!1,s=Xi(s)?s():s;const f=this.createResolver(t,s,h);d=Ma(c,s,f)}for(const f of e)l[f]=d[f];return l}createResolver(t,e,s=[""],r){const{resolver:l}=ib(this._resolverCache,t,s);return Rt(e)?Ma(l,e,void 0,r):l}}function ib(i,t,e){let s=i.get(t);s||(s=new Map,i.set(t,s));const r=e.join();let l=s.get(r);return l||(l={resolver:pf(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},s.set(r,l)),l}const kk=i=>Rt(i)&&Object.getOwnPropertyNames(i).some(t=>Xi(i[t]));function Rk(i,t){const{isScriptable:e,isIndexable:s}=w_(i);for(const r of t){const l=e(r),c=s(r),h=(c||l)&&i[r];if(l&&(Xi(h)||kk(h))||c&&be(h))return!0}return!1}var Ck="4.5.1";const Mk=["top","bottom","left","right","chartArea"];function sb(i,t){return i==="top"||i==="bottom"||Mk.indexOf(i)===-1&&t==="x"}function ab(i,t){return function(e,s){return e[i]===s[i]?e[t]-s[t]:e[i]-s[i]}}function rb(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),te(e&&e.onComplete,[i],t)}function Dk(i){const t=i.chart,e=t.options.animation;te(e&&e.onProgress,[i],t)}function $_(i){return bf()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const ic={},ob=i=>{const t=$_(i);return Object.values(ic).filter(e=>e.canvas===t).pop()};function jk(i,t,e){const s=Object.keys(i);for(const r of s){const l=+r;if(l>=t){const c=i[r];delete i[r],(e>0||l>t)&&(i[l+e]=c)}}}function Nk(i,t,e,s){return!e||i.type==="mouseout"?null:s?t:i}let Cc=class{static defaults=he;static instances=ic;static overrides=Ms;static registry=Pn;static version=Ck;static getChart=ob;static register(...t){Pn.add(...t),lb()}static unregister(...t){Pn.remove(...t),lb()}constructor(t,e){const s=this.config=new Ak(e),r=$_(t),l=ob(r);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||J2(r)),this.platform.updateConfig(s);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,f=d&&d.height,m=d&&d.width;if(this.id=RO(),this.ctx=h,this.canvas=d,this.width=m,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=KO(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],ic[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}ui.listen(this,"complete",rb),ui.listen(this,"progress",Dk),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:r,_aspectRatio:l}=this;return Bt(t)?e&&l?l:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Pn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Cy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ay(this.canvas,this.ctx),this}stop(){return ui.stop(this),this}resize(t,e){ui.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,r=this.canvas,l=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,l),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Cy(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),te(s.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};qt(e,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,r=Object.keys(s).reduce((c,h)=>(c[h]=!1,c),{});let l=[];e&&(l=l.concat(Object.keys(e).map(c=>{const h=e[c],d=Fd(c,h),f=d==="r",m=d==="x";return{options:h,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),qt(l,c=>{const h=c.options,d=h.id,f=Fd(d,h),m=Et(h.type,c.dtype);(h.position===void 0||sb(h.position,f)!==sb(c.dposition))&&(h.position=c.dposition),r[d]=!0;let y=null;if(d in s&&s[d].type===m)y=s[d];else{const b=Pn.getScale(m);y=new b({id:d,type:m,ctx:this.ctx,chart:this}),s[y.id]=y}y.init(h,t)}),qt(r,(c,h)=>{c||delete s[h]}),qt(s,c=>{xn.configure(this,c,c.options),xn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((r,l)=>r.index-l.index),s>e){for(let r=e;r<s;++r)this._destroyDatasetMeta(r);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(ab("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,r)=>{e.filter(l=>l===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=e.length;s<r;s++){const l=e[s];let c=this.getDatasetMeta(s);const h=l.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=h,c.indexAxis=l.indexAxis||Vd(h,this.options),c.order=l.order||0,c.index=s,c.label=""+l.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const d=Pn.getController(h),{datasetElementType:f,dataElementType:m}=he.datasets[h];Object.assign(d,{dataElementType:Pn.getElement(m),datasetElementType:f&&Pn.getElement(f)}),c.controller=new d(this,s),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){qt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:y}=this.getDatasetMeta(f),b=!r&&l.indexOf(y)===-1;y.buildOrUpdateElements(b),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),r||qt(l,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ab("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){qt(this.scales,t=>{xn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!yy(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:l}of e){const c=s==="_removeElements"?-l:l;jk(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=l=>new Set(t.filter(c=>c[0]===l).map((c,h)=>h+","+c.splice(1).join(","))),r=s(0);for(let l=1;l<e;l++)if(!yy(r,s(l)))return;return Array.from(r).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xn.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],qt(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,l)=>{r._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,Xi(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ui.has(this)?this.attached&&!ui.running(this)&&ui.start(this):(this.draw(),rb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let r,l;for(r=0,l=e.length;r<l;++r){const c=e[r];(!t||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=M_(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Tc(e,r),t.controller.draw(),r&&Oc(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return io(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,r){const l=M2.modes[e];return typeof l=="function"?l(this,t,s,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let r=s.filter(l=>l&&l._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Ds(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const r=s?"show":"hide",l=this.getDatasetMeta(t),c=l.controller._resolveAnimations(void 0,r);to(e)?(l.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),c.update(l,{visible:s}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ui.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ay(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ic[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},r=(l,c,h)=>{l.offsetX=c,l.offsetY=h,this._eventHandler(l)};qt(this.options.events,l=>s(l,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(d,f)=>{e.addEventListener(this,d,f),t[d]=f},r=(d,f)=>{t[d]&&(e.removeEventListener(this,d,f),delete t[d])},l=(d,f)=>{this.canvas&&this.resize(d,f)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),s("resize",l),s("detach",c)};c=()=>{this.attached=!1,r("resize",l),this._stop(),this._resize(0,0),s("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){qt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},qt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const r=s?"set":"remove";let l,c,h,d;for(e==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:l,index:c})=>{const h=this.getDatasetMeta(l);if(!h)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:h.data[c],index:c}});!gc(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const r=this.options.hover,l=(d,f)=>d.filter(m=>!f.some(y=>m.datasetIndex===y.datasetIndex&&m.index===y.index)),c=l(e,t),h=s?t:l(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const l=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(l||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:r=[],options:l}=this,c=e,h=this._getActiveElements(t,r,s,c),d=zO(t),f=Nk(t,this._lastEvent,s,d);s&&(this._lastEvent=null,te(l.onHover,[t,h,this],this),d&&te(l.onClick,[t,h,this],this));const m=!gc(h,r);return(m||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=f,m}_getActiveElements(t,e,s,r){if(t.type==="mouseout")return[];if(!s)return e;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,r)}};function lb(){return qt(Cc.instances,i=>i._plugins.invalidate())}function zk(i,t,e){const{startAngle:s,x:r,y:l,outerRadius:c,innerRadius:h,options:d}=t,{borderWidth:f,borderJoinStyle:m}=d,y=Math.min(f/c,on(s-e));if(i.beginPath(),i.arc(r,l,c-f/2,s+y/2,e-y/2),h>0){const b=Math.min(f/h,on(s-e));i.arc(r,l,h+f/2,e-b/2,s+b/2,!0)}else{const b=Math.min(f/2,c*on(s-e));if(m==="round")i.arc(r,l,b,e-It/2,s+It/2,!0);else if(m==="bevel"){const _=2*b*b,w=-_*Math.cos(e+It/2)+r,x=-_*Math.sin(e+It/2)+l,E=_*Math.cos(s+It/2)+r,O=_*Math.sin(s+It/2)+l;i.lineTo(w,x),i.lineTo(E,O)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function Lk(i,t,e){const{startAngle:s,pixelMargin:r,x:l,y:c,outerRadius:h,innerRadius:d}=t;let f=r/h;i.beginPath(),i.arc(l,c,h,s-f,e+f),d>r?(f=r/d,i.arc(l,c,d,e+f,s-f,!0)):i.arc(l,c,r,e+_e,s-_e),i.closePath(),i.clip()}function Uk(i){return gf(i,["outerStart","outerEnd","innerStart","innerEnd"])}function Bk(i,t,e,s){const r=Uk(i.options.borderRadius),l=(e-t)/2,c=Math.min(l,s*t/2),h=d=>{const f=(e-Math.min(l,d))*s/2;return Le(d,0,Math.min(l,f))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Le(r.innerStart,0,c),innerEnd:Le(r.innerEnd,0,c)}}function Sa(i,t,e,s){return{x:e+i*Math.cos(t),y:s+i*Math.sin(t)}}function _c(i,t,e,s,r,l){const{x:c,y:h,startAngle:d,pixelMargin:f,innerRadius:m}=t,y=Math.max(t.outerRadius+s+e-f,0),b=m>0?m+s+e+f:0;let _=0;const w=r-d;if(s){const ut=m>0?m-s:0,L=y>0?y-s:0,Y=(ut+L)/2,et=Y!==0?w*Y/(Y+s):w;_=(w-et)/2}const x=Math.max(.001,w*y-e/It)/y,E=(w-x)/2,O=d+E+_,j=r-E-_,{outerStart:D,outerEnd:I,innerStart:$,innerEnd:Q}=Bk(t,b,y,j-O),q=y-D,T=y-I,k=O+D/q,z=j-I/T,X=b+$,K=b+Q,it=O+$/X,dt=j-Q/K;if(i.beginPath(),l){const ut=(k+z)/2;if(i.arc(c,h,y,k,ut),i.arc(c,h,y,ut,z),I>0){const Z=Sa(T,z,c,h);i.arc(Z.x,Z.y,I,z,j+_e)}const L=Sa(K,j,c,h);if(i.lineTo(L.x,L.y),Q>0){const Z=Sa(K,dt,c,h);i.arc(Z.x,Z.y,Q,j+_e,dt+Math.PI)}const Y=(j-Q/b+(O+$/b))/2;if(i.arc(c,h,b,j-Q/b,Y,!0),i.arc(c,h,b,Y,O+$/b,!0),$>0){const Z=Sa(X,it,c,h);i.arc(Z.x,Z.y,$,it+Math.PI,O-_e)}const et=Sa(q,O,c,h);if(i.lineTo(et.x,et.y),D>0){const Z=Sa(q,k,c,h);i.arc(Z.x,Z.y,D,O-_e,k)}}else{i.moveTo(c,h);const ut=Math.cos(k)*y+c,L=Math.sin(k)*y+h;i.lineTo(ut,L);const Y=Math.cos(z)*y+c,et=Math.sin(z)*y+h;i.lineTo(Y,et)}i.closePath()}function Hk(i,t,e,s,r){const{fullCircles:l,startAngle:c,circumference:h}=t;let d=t.endAngle;if(l){_c(i,t,e,s,d,r);for(let f=0;f<l;++f)i.fill();isNaN(h)||(d=c+(h%se||se))}return _c(i,t,e,s,d,r),i.fill(),d}function Pk(i,t,e,s,r){const{fullCircles:l,startAngle:c,circumference:h,options:d}=t,{borderWidth:f,borderJoinStyle:m,borderDash:y,borderDashOffset:b,borderRadius:_}=d,w=d.borderAlign==="inner";if(!f)return;i.setLineDash(y||[]),i.lineDashOffset=b,w?(i.lineWidth=f*2,i.lineJoin=m||"round"):(i.lineWidth=f,i.lineJoin=m||"bevel");let x=t.endAngle;if(l){_c(i,t,e,s,x,r);for(let E=0;E<l;++E)i.stroke();isNaN(h)||(x=c+(h%se||se))}w&&Lk(i,t,x),d.selfJoin&&x-c>=It&&_===0&&m!=="miter"&&zk(i,t,x),l||(_c(i,t,e,s,x,r),i.stroke())}class qk extends mi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,s){const r=this.getProps(["x","y"],s),{angle:l,distance:c}=f_(r,{x:t,y:e}),{startAngle:h,endAngle:d,innerRadius:f,outerRadius:m,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),b=(this.options.spacing+this.options.borderWidth)/2,_=Et(y,d-h),w=no(l,h,d)&&h!==d,x=_>=se||w,E=gi(c,f+b,m+b);return x&&E}getCenterPoint(t){const{x:e,y:s,startAngle:r,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:f}=this.options,m=(r+l)/2,y=(c+h+f+d)/2;return{x:e+Math.cos(m)*y,y:s+Math.sin(m)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:s}=this,r=(e.offset||0)/4,l=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=s>se?Math.floor(s/se):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(It,s||0)),f=r*d;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Hk(t,this,f,l,c),Pk(t,this,f,l,c),t.restore()}}function V_(i,t,e=t){i.lineCap=Et(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Et(e.borderDash,t.borderDash)),i.lineDashOffset=Et(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Et(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Et(e.borderWidth,t.borderWidth),i.strokeStyle=Et(e.borderColor,t.borderColor)}function Ik(i,t,e){i.lineTo(e.x,e.y)}function $k(i){return i.stepped?lA:i.tension||i.cubicInterpolationMode==="monotone"?cA:Ik}function F_(i,t,e={}){const s=i.length,{start:r=0,end:l=s-1}=e,{start:c,end:h}=t,d=Math.max(r,c),f=Math.min(l,h),m=r<c&&l<c||r>h&&l>h;return{count:s,start:d,loop:t.loop,ilen:f<d&&!m?s+f-d:f-d}}function Vk(i,t,e,s){const{points:r,options:l}=t,{count:c,start:h,loop:d,ilen:f}=F_(r,e,s),m=$k(l);let{move:y=!0,reverse:b}=s||{},_,w,x;for(_=0;_<=f;++_)w=r[(h+(b?f-_:_))%c],!w.skip&&(y?(i.moveTo(w.x,w.y),y=!1):m(i,x,w,b,l.stepped),x=w);return d&&(w=r[(h+(b?f:0))%c],m(i,x,w,b,l.stepped)),!!d}function Fk(i,t,e,s){const r=t.points,{count:l,start:c,ilen:h}=F_(r,e,s),{move:d=!0,reverse:f}=s||{};let m=0,y=0,b,_,w,x,E,O;const j=I=>(c+(f?h-I:I))%l,D=()=>{x!==E&&(i.lineTo(m,E),i.lineTo(m,x),i.lineTo(m,O))};for(d&&(_=r[j(0)],i.moveTo(_.x,_.y)),b=0;b<=h;++b){if(_=r[j(b)],_.skip)continue;const I=_.x,$=_.y,Q=I|0;Q===w?($<x?x=$:$>E&&(E=$),m=(y*m+I)/++y):(D(),i.lineTo(I,$),w=Q,y=0,x=E=$),O=$}D()}function Yd(i){const t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Fk:Vk}function Yk(i){return i.stepped?qA:i.tension||i.cubicInterpolationMode==="monotone"?IA:Es}function Gk(i,t,e,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,s)&&r.closePath()),V_(i,t.options),i.stroke(r)}function Kk(i,t,e,s){const{segments:r,options:l}=t,c=Yd(t);for(const h of r)V_(i,l,h.style),i.beginPath(),c(i,t,h,{start:e,end:e+s-1})&&i.closePath(),i.stroke()}const Xk=typeof Path2D=="function";function Wk(i,t,e,s){Xk&&!t.options.segment?Gk(i,t,e,s):Kk(i,t,e,s)}class Mc extends mi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;jA(this._points,s,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=KA(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,r=t[e],l=this.points,c=C_(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],d=Yk(s);let f,m;for(f=0,m=c.length;f<m;++f){const{start:y,end:b}=c[f],_=l[y],w=l[b];if(_===w){h.push(_);continue}const x=Math.abs((r-_[e])/(w[e]-_[e])),E=d(_,w,x,s.stepped);E[e]=t[e],h.push(E)}return h.length===1?h[0]:h}pathSegment(t,e,s){return Yd(this)(t,this,e,s)}path(t,e,s){const r=this.segments,l=Yd(this);let c=this._loop;e=e||0,s=s||this.points.length-e;for(const h of r)c&=l(t,this,h,{start:e,end:e+s-1});return!!c}draw(t,e,s,r){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(t.save(),Wk(t,this,s,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function cb(i,t,e,s){const r=i.options,{[e]:l}=i.getProps([e],s);return Math.abs(t-l)<r.radius+r.hitRadius}class Qk extends mi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,s){const r=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(t-l,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return cb(this,t,"x",e)}inYRange(t,e){return cb(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){const s=this.options;this.skip||s.radius<.1||!io(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,$d(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Y_(i,t){const{x:e,y:s,base:r,width:l,height:c}=i.getProps(["x","y","base","width","height"],t);let h,d,f,m,y;return i.horizontal?(y=c/2,h=Math.min(e,r),d=Math.max(e,r),f=s-y,m=s+y):(y=l/2,h=e-y,d=e+y,f=Math.min(s,r),m=Math.max(s,r)),{left:h,top:f,right:d,bottom:m}}function Gi(i,t,e,s){return i?0:Le(t,e,s)}function Jk(i,t,e){const s=i.options.borderWidth,r=i.borderSkipped,l=__(s);return{t:Gi(r.top,l.top,0,e),r:Gi(r.right,l.right,0,t),b:Gi(r.bottom,l.bottom,0,e),l:Gi(r.left,l.left,0,t)}}function Zk(i,t,e){const{enableBorderRadius:s}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,l=Aa(r),c=Math.min(t,e),h=i.borderSkipped,d=s||Rt(r);return{topLeft:Gi(!d||h.top||h.left,l.topLeft,0,c),topRight:Gi(!d||h.top||h.right,l.topRight,0,c),bottomLeft:Gi(!d||h.bottom||h.left,l.bottomLeft,0,c),bottomRight:Gi(!d||h.bottom||h.right,l.bottomRight,0,c)}}function tR(i){const t=Y_(i),e=t.right-t.left,s=t.bottom-t.top,r=Jk(i,e/2,s/2),l=Zk(i,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:l},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,l.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(r.b,r.r))}}}}function yd(i,t,e,s){const r=t===null,l=e===null,h=i&&!(r&&l)&&Y_(i,s);return h&&(r||gi(t,h.left,h.right))&&(l||gi(e,h.top,h.bottom))}function eR(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function nR(i,t){i.rect(t.x,t.y,t.w,t.h)}function bd(i,t,e={}){const s=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0,l=(i.x+i.w!==e.x+e.w?t:0)-s,c=(i.y+i.h!==e.y+e.h?t:0)-r;return{x:i.x+s,y:i.y+r,w:i.w+l,h:i.h+c,radius:i.radius}}class iR extends mi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:r}}=this,{inner:l,outer:c}=tR(this),h=eR(c.radius)?yc:nR;t.save(),(c.w!==l.w||c.h!==l.h)&&(t.beginPath(),h(t,bd(c,e,l)),t.clip(),h(t,bd(l,-e,c)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),h(t,bd(l,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,s){return yd(this,t,e,s)}inXRange(t,e){return yd(this,t,null,e)}inYRange(t,e){return yd(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:r,horizontal:l}=this.getProps(["x","y","base","horizontal"],t);return{x:l?(e+r)/2:e,y:l?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function sR(i,t,e){const s=i.segments,r=i.points,l=t.points,c=[];for(const h of s){let{start:d,end:f}=h;f=Dc(d,f,r);const m=Gd(e,r[d],r[f],h.loop);if(!t.segments){c.push({source:h,target:m,start:r[d],end:r[f]});continue}const y=C_(t,m);for(const b of y){const _=Gd(e,l[b.start],l[b.end],b.loop),w=R_(h,r,_);for(const x of w)c.push({source:x,target:b,start:{[e]:ub(m,_,"start",Math.max)},end:{[e]:ub(m,_,"end",Math.min)}})}}return c}function Gd(i,t,e,s){if(s)return;let r=t[i],l=e[i];return i==="angle"&&(r=on(r),l=on(l)),{property:i,start:r,end:l}}function aR(i,t){const{x:e=null,y:s=null}=i||{},r=t.points,l=[];return t.segments.forEach(({start:c,end:h})=>{h=Dc(c,h,r);const d=r[c],f=r[h];s!==null?(l.push({x:d.x,y:s}),l.push({x:f.x,y:s})):e!==null&&(l.push({x:e,y:d.y}),l.push({x:e,y:f.y}))}),l}function Dc(i,t,e){for(;t>i;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function ub(i,t,e,s){return i&&t?s(i[e],t[e]):i?i[e]:t?t[e]:0}function G_(i,t){let e=[],s=!1;return be(i)?(s=!0,e=i):e=aR(i,t),e.length?new Mc({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function hb(i){return i&&i.fill!==!1}function rR(i,t,e){let r=i[t].fill;const l=[t];let c;if(!e)return r;for(;r!==!1&&l.indexOf(r)===-1;){if(!Be(r))return r;if(c=i[r],!c)return!1;if(c.visible)return r;l.push(r),r=c.fill}return!1}function oR(i,t,e){const s=hR(i);if(Rt(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return Be(r)&&Math.floor(r)===r?lR(s[0],t,r,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function lR(i,t,e,s){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=s?!1:e}function cR(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:Rt(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function uR(i,t,e){let s;return i==="start"?s=e:i==="end"?s=t.options.reverse?t.min:t.max:Rt(i)?s=i.value:s=t.getBaseValue(),s}function hR(i){const t=i.options,e=t.fill;let s=Et(e&&e.target,e);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function dR(i){const{scale:t,index:e,line:s}=i,r=[],l=s.segments,c=s.points,h=fR(t,e);h.push(G_({x:null,y:t.bottom},s));for(let d=0;d<l.length;d++){const f=l[d];for(let m=f.start;m<=f.end;m++)gR(r,c[m],h)}return new Mc({points:r,options:{}})}function fR(i,t){const e=[],s=i.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const l=s[r];if(l.index===t)break;l.hidden||e.unshift(l.dataset)}return e}function gR(i,t,e){const s=[];for(let r=0;r<e.length;r++){const l=e[r],{first:c,last:h,point:d}=pR(l,t,"x");if(!(!d||c&&h)){if(c)s.unshift(d);else if(i.push(d),!h)break}}i.push(...s)}function pR(i,t,e){const s=i.interpolate(t,e);if(!s)return{};const r=s[e],l=i.segments,c=i.points;let h=!1,d=!1;for(let f=0;f<l.length;f++){const m=l[f],y=c[m.start][e],b=c[m.end][e];if(gi(r,y,b)){h=r===y,d=r===b;break}}return{first:h,last:d,point:s}}class K_{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:r,y:l,radius:c}=this;return e=e||{start:0,end:se},t.arc(r,l,c,e.end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:r}=this,l=t.angle;return{x:e+Math.cos(l)*r,y:s+Math.sin(l)*r,angle:l}}}function mR(i){const{chart:t,fill:e,line:s}=i;if(Be(e))return yR(t,e);if(e==="stack")return dR(i);if(e==="shape")return!0;const r=bR(i);return r instanceof K_?r:G_(r,s)}function yR(i,t){const e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function bR(i){return(i.scale||{}).getPointPositionForValue?_R(i):vR(i)}function vR(i){const{scale:t={},fill:e}=i,s=cR(e,t);if(Be(s)){const r=t.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function _R(i){const{scale:t,fill:e}=i,s=t.options,r=t.getLabels().length,l=s.reverse?t.max:t.min,c=uR(e,t,l),h=[];if(s.grid.circular){const d=t.getPointPositionForValue(0,l);return new K_({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(c)})}for(let d=0;d<r;++d)h.push(t.getPointPositionForValue(d,c));return h}function vd(i,t,e){const s=mR(t),{chart:r,index:l,line:c,scale:h,axis:d}=t,f=c.options,m=f.fill,y=f.backgroundColor,{above:b=y,below:_=y}=m||{},w=r.getDatasetMeta(l),x=M_(r,w);s&&c.points.length&&(Tc(i,e),wR(i,{line:c,target:s,above:b,below:_,area:e,scale:h,axis:d,clip:x}),Oc(i))}function wR(i,t){const{line:e,target:s,above:r,below:l,area:c,scale:h,clip:d}=t,f=e._loop?"angle":t.axis;i.save();let m=l;l!==r&&(f==="x"?(db(i,s,c.top),_d(i,{line:e,target:s,color:r,scale:h,property:f,clip:d}),i.restore(),i.save(),db(i,s,c.bottom)):f==="y"&&(fb(i,s,c.left),_d(i,{line:e,target:s,color:l,scale:h,property:f,clip:d}),i.restore(),i.save(),fb(i,s,c.right),m=r)),_d(i,{line:e,target:s,color:m,scale:h,property:f,clip:d}),i.restore()}function db(i,t,e){const{segments:s,points:r}=t;let l=!0,c=!1;i.beginPath();for(const h of s){const{start:d,end:f}=h,m=r[d],y=r[Dc(d,f,r)];l?(i.moveTo(m.x,m.y),l=!1):(i.lineTo(m.x,e),i.lineTo(m.x,m.y)),c=!!t.pathSegment(i,h,{move:c}),c?i.closePath():i.lineTo(y.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function fb(i,t,e){const{segments:s,points:r}=t;let l=!0,c=!1;i.beginPath();for(const h of s){const{start:d,end:f}=h,m=r[d],y=r[Dc(d,f,r)];l?(i.moveTo(m.x,m.y),l=!1):(i.lineTo(e,m.y),i.lineTo(m.x,m.y)),c=!!t.pathSegment(i,h,{move:c}),c?i.closePath():i.lineTo(e,y.y)}i.lineTo(e,t.first().y),i.closePath(),i.clip()}function _d(i,t){const{line:e,target:s,property:r,color:l,scale:c,clip:h}=t,d=sR(e,s,r);for(const{source:f,target:m,start:y,end:b}of d){const{style:{backgroundColor:_=l}={}}=f,w=s!==!0;i.save(),i.fillStyle=_,SR(i,c,h,w&&Gd(r,y,b)),i.beginPath();const x=!!e.pathSegment(i,f);let E;if(w){x?i.closePath():gb(i,s,b,r);const O=!!s.pathSegment(i,m,{move:x,reverse:!0});E=x&&O,E||gb(i,s,y,r)}i.closePath(),i.fill(E?"evenodd":"nonzero"),i.restore()}}function SR(i,t,e,s){const r=t.chart.chartArea,{property:l,start:c,end:h}=s||{};if(l==="x"||l==="y"){let d,f,m,y;l==="x"?(d=c,f=r.top,m=h,y=r.bottom):(d=r.left,f=c,m=r.right,y=h),i.beginPath(),e&&(d=Math.max(d,e.left),m=Math.min(m,e.right),f=Math.max(f,e.top),y=Math.min(y,e.bottom)),i.rect(d,f,m-d,y-f),i.clip()}}function gb(i,t,e,s){const r=t.interpolate(e,s);r&&i.lineTo(r.x,r.y)}var xR={id:"filler",afterDatasetsUpdate(i,t,e){const s=(i.data.datasets||[]).length,r=[];let l,c,h,d;for(c=0;c<s;++c)l=i.getDatasetMeta(c),h=l.dataset,d=null,h&&h.options&&h instanceof Mc&&(d={visible:i.isDatasetVisible(c),index:c,fill:oR(h,c,s),chart:i,axis:l.controller.options.indexAxis,scale:l.vScale,line:h}),l.$filler=d,r.push(d);for(c=0;c<s;++c)d=r[c],!(!d||d.fill===!1)&&(d.fill=rR(r,c,e.propagate))},beforeDraw(i,t,e){const s=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),l=i.chartArea;for(let c=r.length-1;c>=0;--c){const h=r[c].$filler;h&&(h.line.updateControlPoints(l,h.axis),s&&h.fill&&vd(i.ctx,h,l))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const s=i.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const l=s[r].$filler;hb(l)&&vd(i.ctx,l,i.chartArea)}},beforeDatasetDraw(i,t,e){const s=t.meta.$filler;!hb(s)||e.drawTime!=="beforeDatasetDraw"||vd(i.ctx,s,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const pb=(i,t)=>{let{boxHeight:e=t,boxWidth:s=t}=i;return i.usePointStyle&&(e=Math.min(e,t),s=i.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},ER=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class mb extends mi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=te(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=Ue(s.font),l=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=pb(s,l);let f,m;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(c,l,h,d)+10):(m=this.maxHeight,f=this._fitCols(c,r,h,d)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,r){const{ctx:l,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],m=r+h;let y=t;l.textAlign="left",l.textBaseline="middle";let b=-1,_=-m;return this.legendItems.forEach((w,x)=>{const E=s+e/2+l.measureText(w.text).width;(x===0||f[f.length-1]+E+2*h>c)&&(y+=m,f[f.length-(x>0?0:1)]=0,_+=m,b++),d[x]={left:0,top:_,row:b,width:E,height:r},f[f.length-1]+=E+h}),y}_fitCols(t,e,s,r){const{ctx:l,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],m=c-t;let y=h,b=0,_=0,w=0,x=0;return this.legendItems.forEach((E,O)=>{const{itemWidth:j,itemHeight:D}=TR(s,e,l,E,r);O>0&&_+D+2*h>m&&(y+=b+h,f.push({width:b,height:_}),w+=b+h,x++,b=_=0),d[O]={left:w,top:_,col:x,width:j,height:D},b=Math.max(b,j),_+=D+h}),y+=b,f.push({width:b,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:r},rtl:l}}=this,c=ka(l,this.left,this.width);if(this.isHorizontal()){let h=0,d=ze(s,this.left+r,this.right-this.lineWidths[h]);for(const f of e)h!==f.row&&(h=f.row,d=ze(s,this.left+r,this.right-this.lineWidths[h])),f.top+=this.top+t+r,f.left=c.leftForLtr(c.x(d),f.width),d+=f.width+r}else{let h=0,d=ze(s,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const f of e)f.col!==h&&(h=f.col,d=ze(s,this.top+t+r,this.bottom-this.columnSizes[h].height)),f.top=d,f.left+=this.left+r,f.left=c.leftForLtr(c.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Tc(t,this),this._draw(),Oc(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:r}=this,{align:l,labels:c}=t,h=he.color,d=ka(t.rtl,this.left,this.width),f=Ue(c.font),{padding:m}=c,y=f.size,b=y/2;let _;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:w,boxHeight:x,itemHeight:E}=pb(c,y),O=function(Q,q,T){if(isNaN(w)||w<=0||isNaN(x)||x<0)return;r.save();const k=Et(T.lineWidth,1);if(r.fillStyle=Et(T.fillStyle,h),r.lineCap=Et(T.lineCap,"butt"),r.lineDashOffset=Et(T.lineDashOffset,0),r.lineJoin=Et(T.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=Et(T.strokeStyle,h),r.setLineDash(Et(T.lineDash,[])),c.usePointStyle){const z={radius:x*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:k},X=d.xPlus(Q,w/2),K=q+b;v_(r,z,X,K,c.pointStyleWidth&&w)}else{const z=q+Math.max((y-x)/2,0),X=d.leftForLtr(Q,w),K=Aa(T.borderRadius);r.beginPath(),Object.values(K).some(it=>it!==0)?yc(r,{x:X,y:z,w,h:x,radius:K}):r.rect(X,z,w,x),r.fill(),k!==0&&r.stroke()}r.restore()},j=function(Q,q,T){so(r,T.text,Q,q+E/2,f,{strikethrough:T.hidden,textAlign:d.textAlign(T.textAlign)})},D=this.isHorizontal(),I=this._computeTitleHeight();D?_={x:ze(l,this.left+m,this.right-s[0]),y:this.top+m+I,line:0}:_={x:this.left+m,y:ze(l,this.top+I+m,this.bottom-e[0].height),line:0},O_(this.ctx,t.textDirection);const $=E+m;this.legendItems.forEach((Q,q)=>{r.strokeStyle=Q.fontColor,r.fillStyle=Q.fontColor;const T=r.measureText(Q.text).width,k=d.textAlign(Q.textAlign||(Q.textAlign=c.textAlign)),z=w+b+T;let X=_.x,K=_.y;d.setWidth(this.width),D?q>0&&X+z+m>this.right&&(K=_.y+=$,_.line++,X=_.x=ze(l,this.left+m,this.right-s[_.line])):q>0&&K+$>this.bottom&&(X=_.x=X+e[_.line].width+m,_.line++,K=_.y=ze(l,this.top+I+m,this.bottom-e[_.line].height));const it=d.x(X);if(O(it,K,Q),X=XO(k,X+w+b,D?X+z:this.right,t.rtl),j(d.x(X),K,Q),D)_.x+=z+m;else if(typeof Q.text!="string"){const dt=f.lineHeight;_.y+=X_(Q,dt)+m}else _.y+=$}),A_(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=Ue(e.font),r=En(e.padding);if(!e.display)return;const l=ka(t.rtl,this.left,this.width),c=this.ctx,h=e.position,d=s.size/2,f=r.top+d;let m,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),m=this.top+f,y=ze(t.align,y,this.right-b);else{const w=this.columnSizes.reduce((x,E)=>Math.max(x,E.height),0);m=f+ze(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const _=ze(h,y,y+b);c.textAlign=l.textAlign(hf(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=s.string,so(c,e.text,_,m,s)}_computeTitleHeight(){const t=this.options.title,e=Ue(t.font),s=En(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,r,l;if(gi(t,this.left,this.right)&&gi(e,this.top,this.bottom)){for(l=this.legendHitBoxes,s=0;s<l.length;++s)if(r=l[s],gi(t,r.left,r.left+r.width)&&gi(e,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!kR(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,l=ER(r,s);r&&!l&&te(e.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!l&&te(e.onHover,[t,s,this],this)}else s&&te(e.onClick,[t,s,this],this)}}function TR(i,t,e,s,r){const l=OR(s,i,t,e),c=AR(r,s,t.lineHeight);return{itemWidth:l,itemHeight:c}}function OR(i,t,e,s){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((l,c)=>l.length>c.length?l:c)),t+e.size/2+s.measureText(r).width}function AR(i,t,e){let s=i;return typeof t.text!="string"&&(s=X_(t,e)),s}function X_(i,t){const e=i.text?i.text.length:0;return t*e}function kR(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var RR={id:"legend",_element:mb,start(i,t,e){const s=i.legend=new mb({ctx:i.ctx,options:e,chart:i});xn.configure(i,s,e),xn.addBox(i,s)},stop(i){xn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const s=i.legend;xn.configure(i,s,e),s.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const s=t.datasetIndex,r=e.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:r,color:l,useBorderRadius:c,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(e?0:void 0),m=En(f.borderWidth);return{text:t[d.index].label,fillStyle:f.backgroundColor,fontColor:l,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:c&&(h||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class W_ extends mi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=be(s.text)?s.text.length:1;this._padding=En(s.padding);const l=r*Ue(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:r,right:l,options:c}=this,h=c.align;let d=0,f,m,y;return this.isHorizontal()?(m=ze(h,s,l),y=e+t,f=l-s):(c.position==="left"?(m=s+t,y=ze(h,r,e),d=It*-.5):(m=l-t,y=ze(h,e,r),d=It*.5),f=r-e),{titleX:m,titleY:y,maxWidth:f,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=Ue(e.font),l=s.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:f}=this._drawArgs(l);so(t,e.text,0,0,s,{color:e.color,maxWidth:d,rotation:f,textAlign:hf(e.align),textBaseline:"middle",translation:[c,h]})}}function CR(i,t){const e=new W_({ctx:i.ctx,options:t,chart:i});xn.configure(i,e,t),xn.addBox(i,e),i.titleBlock=e}var MR={id:"title",_element:W_,start(i,t,e){CR(i,e)},stop(i){const t=i.titleBlock;xn.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){const s=i.titleBlock;xn.configure(i,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vr={average(i){if(!i.length)return!1;let t,e,s=new Set,r=0,l=0;for(t=0,e=i.length;t<e;++t){const h=i[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),r+=d.y,++l}}return l===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:r/l}},nearest(i,t){if(!i.length)return!1;let e=t.x,s=t.y,r=Number.POSITIVE_INFINITY,l,c,h;for(l=0,c=i.length;l<c;++l){const d=i[l].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),m=qd(t,f);m<r&&(r=m,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,s=d.y}return{x:e,y:s}}};function Hn(i,t){return t&&(be(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function hi(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function DR(i,t){const{element:e,datasetIndex:s,index:r}=t,l=i.getDatasetMeta(s).controller,{label:c,value:h}=l.getLabelAndValue(r);return{chart:i,label:c,parsed:l.getParsed(r),raw:i.data.datasets[s].data[r],formattedValue:h,dataset:l.getDataset(),dataIndex:r,datasetIndex:s,element:e}}function yb(i,t){const e=i.chart.ctx,{body:s,footer:r,title:l}=i,{boxWidth:c,boxHeight:h}=t,d=Ue(t.bodyFont),f=Ue(t.titleFont),m=Ue(t.footerFont),y=l.length,b=r.length,_=s.length,w=En(t.padding);let x=w.height,E=0,O=s.reduce((I,$)=>I+$.before.length+$.lines.length+$.after.length,0);if(O+=i.beforeBody.length+i.afterBody.length,y&&(x+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),O){const I=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;x+=_*I+(O-_)*d.lineHeight+(O-1)*t.bodySpacing}b&&(x+=t.footerMarginTop+b*m.lineHeight+(b-1)*t.footerSpacing);let j=0;const D=function(I){E=Math.max(E,e.measureText(I).width+j)};return e.save(),e.font=f.string,qt(i.title,D),e.font=d.string,qt(i.beforeBody.concat(i.afterBody),D),j=t.displayColors?c+2+t.boxPadding:0,qt(s,I=>{qt(I.before,D),qt(I.lines,D),qt(I.after,D)}),j=0,e.font=m.string,qt(i.footer,D),e.restore(),E+=w.width,{width:E,height:x}}function jR(i,t){const{y:e,height:s}=t;return e<s/2?"top":e>i.height-s/2?"bottom":"center"}function NR(i,t,e,s){const{x:r,width:l}=s,c=e.caretSize+e.caretPadding;if(i==="left"&&r+l+c>t.width||i==="right"&&r-l-c<0)return!0}function zR(i,t,e,s){const{x:r,width:l}=e,{width:c,chartArea:{left:h,right:d}}=i;let f="center";return s==="center"?f=r<=(h+d)/2?"left":"right":r<=l/2?f="left":r>=c-l/2&&(f="right"),NR(f,i,t,e)&&(f="center"),f}function bb(i,t,e){const s=e.yAlign||t.yAlign||jR(i,e);return{xAlign:e.xAlign||t.xAlign||zR(i,t,e,s),yAlign:s}}function LR(i,t){let{x:e,width:s}=i;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function UR(i,t,e){let{y:s,height:r}=i;return t==="top"?s+=e:t==="bottom"?s-=r+e:s-=r/2,s}function vb(i,t,e,s){const{caretSize:r,caretPadding:l,cornerRadius:c}=i,{xAlign:h,yAlign:d}=e,f=r+l,{topLeft:m,topRight:y,bottomLeft:b,bottomRight:_}=Aa(c);let w=LR(t,h);const x=UR(t,d,f);return d==="center"?h==="left"?w+=f:h==="right"&&(w-=f):h==="left"?w-=Math.max(m,b)+r:h==="right"&&(w+=Math.max(y,_)+r),{x:Le(w,0,s.width-t.width),y:Le(x,0,s.height-t.height)}}function Wl(i,t,e){const s=En(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-s.right:i.x+s.left}function _b(i){return Hn([],hi(i))}function BR(i,t,e){return Ds(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function wb(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const Q_={beforeTitle:ci,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:ci,beforeBody:ci,beforeLabel:ci,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return Bt(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ci,afterBody:ci,beforeFooter:ci,footer:ci,afterFooter:ci};function Ke(i,t,e,s){const r=i[t].call(e,s);return typeof r>"u"?Q_[t].call(e,s):r}class Sb extends mi{static positioners=Vr;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&e.options.animation&&s.animations,l=new D_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=BR(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,r=Ke(s,"beforeTitle",this,t),l=Ke(s,"title",this,t),c=Ke(s,"afterTitle",this,t);let h=[];return h=Hn(h,hi(r)),h=Hn(h,hi(l)),h=Hn(h,hi(c)),h}getBeforeBody(t,e){return _b(Ke(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,r=[];return qt(t,l=>{const c={before:[],lines:[],after:[]},h=wb(s,l);Hn(c.before,hi(Ke(h,"beforeLabel",this,l))),Hn(c.lines,Ke(h,"label",this,l)),Hn(c.after,hi(Ke(h,"afterLabel",this,l))),r.push(c)}),r}getAfterBody(t,e){return _b(Ke(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,r=Ke(s,"beforeFooter",this,t),l=Ke(s,"footer",this,t),c=Ke(s,"afterFooter",this,t);let h=[];return h=Hn(h,hi(r)),h=Hn(h,hi(l)),h=Hn(h,hi(c)),h}_createItems(t){const e=this._active,s=this.chart.data,r=[],l=[],c=[];let h=[],d,f;for(d=0,f=e.length;d<f;++d)h.push(DR(this.chart,e[d]));return t.filter&&(h=h.filter((m,y,b)=>t.filter(m,y,b,s))),t.itemSort&&(h=h.sort((m,y)=>t.itemSort(m,y,s))),qt(h,m=>{const y=wb(t.callbacks,m);r.push(Ke(y,"labelColor",this,m)),l.push(Ke(y,"labelPointStyle",this,m)),c.push(Ke(y,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const s=this.options.setContext(this.getContext()),r=this._active;let l,c=[];if(!r.length)this.opacity!==0&&(l={opacity:0});else{const h=Vr[s.position].call(this,r,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const d=this._size=yb(this,s),f=Object.assign({},h,d),m=bb(this.chart,s,f),y=vb(s,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,l={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,r){const l=this.getCaretPosition(t,s,r);e.lineTo(l.x1,l.y1),e.lineTo(l.x2,l.y2),e.lineTo(l.x3,l.y3)}getCaretPosition(t,e,s){const{xAlign:r,yAlign:l}=this,{caretSize:c,cornerRadius:h}=s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:y}=Aa(h),{x:b,y:_}=t,{width:w,height:x}=e;let E,O,j,D,I,$;return l==="center"?(I=_+x/2,r==="left"?(E=b,O=E-c,D=I+c,$=I-c):(E=b+w,O=E+c,D=I-c,$=I+c),j=E):(r==="left"?O=b+Math.max(d,m)+c:r==="right"?O=b+w-Math.max(f,y)-c:O=this.caretX,l==="top"?(D=_,I=D-c,E=O-c,j=O+c):(D=_+x,I=D+c,E=O+c,j=O-c),$=D),{x1:E,x2:O,x3:j,y1:D,y2:I,y3:$}}drawTitle(t,e,s){const r=this.title,l=r.length;let c,h,d;if(l){const f=ka(s.rtl,this.x,this.width);for(t.x=Wl(this,s.titleAlign,s),e.textAlign=f.textAlign(s.titleAlign),e.textBaseline="middle",c=Ue(s.titleFont),h=s.titleSpacing,e.fillStyle=s.titleColor,e.font=c.string,d=0;d<l;++d)e.fillText(r[d],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===l&&(t.y+=s.titleMarginBottom-h)}}_drawColorBox(t,e,s,r,l){const c=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:f}=l,m=Ue(l.bodyFont),y=Wl(this,"left",l),b=r.x(y),_=d<m.lineHeight?(m.lineHeight-d)/2:0,w=e.y+_;if(l.usePointStyle){const x={radius:Math.min(f,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},E=r.leftForLtr(b,f)+f/2,O=w+d/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,$d(t,x,E,O),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,$d(t,x,E,O)}else{t.lineWidth=Rt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const x=r.leftForLtr(b,f),E=r.leftForLtr(r.xPlus(b,1),f-2),O=Aa(c.borderRadius);Object.values(O).some(j=>j!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,yc(t,{x,y:w,w:f,h:d,radius:O}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),yc(t,{x:E,y:w+1,w:f-2,h:d-2,radius:O}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(x,w,f,d),t.strokeRect(x,w,f,d),t.fillStyle=c.backgroundColor,t.fillRect(E,w+1,f-2,d-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:r}=this,{bodySpacing:l,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:f,boxPadding:m}=s,y=Ue(s.bodyFont);let b=y.lineHeight,_=0;const w=ka(s.rtl,this.x,this.width),x=function(T){e.fillText(T,w.x(t.x+_),t.y+b/2),t.y+=b+l},E=w.textAlign(c);let O,j,D,I,$,Q,q;for(e.textAlign=c,e.textBaseline="middle",e.font=y.string,t.x=Wl(this,E,s),e.fillStyle=s.bodyColor,qt(this.beforeBody,x),_=h&&E!=="right"?c==="center"?f/2+m:f+2+m:0,I=0,Q=r.length;I<Q;++I){for(O=r[I],j=this.labelTextColors[I],e.fillStyle=j,qt(O.before,x),D=O.lines,h&&D.length&&(this._drawColorBox(e,t,I,w,s),b=Math.max(y.lineHeight,d)),$=0,q=D.length;$<q;++$)x(D[$]),b=y.lineHeight;qt(O.after,x)}_=0,b=y.lineHeight,qt(this.afterBody,x),t.y-=l}drawFooter(t,e,s){const r=this.footer,l=r.length;let c,h;if(l){const d=ka(s.rtl,this.x,this.width);for(t.x=Wl(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=d.textAlign(s.footerAlign),e.textBaseline="middle",c=Ue(s.footerFont),e.fillStyle=s.footerColor,e.font=c.string,h=0;h<l;++h)e.fillText(r[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+s.footerSpacing}}drawBackground(t,e,s,r){const{xAlign:l,yAlign:c}=this,{x:h,y:d}=t,{width:f,height:m}=s,{topLeft:y,topRight:b,bottomLeft:_,bottomRight:w}=Aa(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+y,d),c==="top"&&this.drawCaret(t,e,s,r),e.lineTo(h+f-b,d),e.quadraticCurveTo(h+f,d,h+f,d+b),c==="center"&&l==="right"&&this.drawCaret(t,e,s,r),e.lineTo(h+f,d+m-w),e.quadraticCurveTo(h+f,d+m,h+f-w,d+m),c==="bottom"&&this.drawCaret(t,e,s,r),e.lineTo(h+_,d+m),e.quadraticCurveTo(h,d+m,h,d+m-_),c==="center"&&l==="left"&&this.drawCaret(t,e,s,r),e.lineTo(h,d+y),e.quadraticCurveTo(h,d,h+y,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,r=s&&s.x,l=s&&s.y;if(r||l){const c=Vr[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=yb(this,t),d=Object.assign({},c,this._size),f=bb(e,t,d),m=vb(t,d,f,e);(r._to!==m.x||l._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},l={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=En(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=s,this.drawBackground(l,t,r,e),O_(t,e.textDirection),l.y+=c.top,this.drawTitle(l,t,e),this.drawBody(l,t,e),this.drawFooter(l,t,e),A_(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,r=t.map(({datasetIndex:h,index:d})=>{const f=this.chart.getDatasetMeta(h);if(!f)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:f.data[d],index:d}}),l=!gc(s,r),c=this._positionChanged(r,e);(l||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,l=this._active||[],c=this._getActiveElements(t,l,e,s),h=this._positionChanged(c,t),d=e||!gc(c,l)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,s,r){const l=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,l.mode,l,s);return l.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:s,caretY:r,options:l}=this,c=Vr[l.position].call(this,t,e);return c!==!1&&(s!==c.x||r!==c.y)}}var HR={id:"tooltip",_element:Sb,positioners:Vr,afterInit(i,t,e){e&&(i.tooltip=new Sb({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Q_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const PR=(i,t,e,s)=>(typeof t=="string"?(e=i.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function qR(i,t,e,s){const r=i.indexOf(t);if(r===-1)return PR(i,t,e,s);const l=i.lastIndexOf(t);return r!==l?e:r}const IR=(i,t)=>i===null?null:Le(Math.round(i),0,t);function xb(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class $R extends za{static id="category";static defaults={ticks:{callback:xb}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:r,label:l}of e)s[r]===l&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Bt(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:qR(s,t,Et(e,t),this._addedLabels),IR(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,r=[];let l=this.getLabels();l=t===0&&e===l.length-1?l:l.slice(t,e+1),this._valueRange=Math.max(l.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return xb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function VR(i,t){const e=[],{bounds:r,step:l,min:c,max:h,precision:d,count:f,maxTicks:m,maxDigits:y,includeBounds:b}=i,_=l||1,w=m-1,{min:x,max:E}=t,O=!Bt(c),j=!Bt(h),D=!Bt(f),I=(E-x)/(y+1);let $=vy((E-x)/w/_)*_,Q,q,T,k;if($<1e-14&&!O&&!j)return[{value:x},{value:E}];k=Math.ceil(E/$)-Math.floor(x/$),k>w&&($=vy(k*$/w/_)*_),Bt(d)||(Q=Math.pow(10,d),$=Math.ceil($*Q)/Q),r==="ticks"?(q=Math.floor(x/$)*$,T=Math.ceil(E/$)*$):(q=x,T=E),O&&j&&l&&PO((h-c)/l,$/1e3)?(k=Math.round(Math.min((h-c)/$,m)),$=(h-c)/k,q=c,T=h):D?(q=O?c:q,T=j?h:T,k=f-1,$=(T-q)/k):(k=(T-q)/$,Yr(k,Math.round(k),$/1e3)?k=Math.round(k):k=Math.ceil(k));const z=Math.max(_y($),_y(q));Q=Math.pow(10,Bt(d)?z:d),q=Math.round(q*Q)/Q,T=Math.round(T*Q)/Q;let X=0;for(O&&(b&&q!==c?(e.push({value:c}),q<c&&X++,Yr(Math.round((q+X*$)*Q)/Q,c,Eb(c,I,i))&&X++):q<c&&X++);X<k;++X){const K=Math.round((q+X*$)*Q)/Q;if(j&&K>h)break;e.push({value:K})}return j&&b&&T!==h?e.length&&Yr(e[e.length-1].value,h,Eb(h,I,i))?e[e.length-1].value=h:e.push({value:h}):(!j||T===h)&&e.push({value:T}),e}function Eb(i,t,{horizontal:e,minRotation:s}){const r=fi(s),l=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+i).length;return Math.min(t/l,c)}class FR extends za{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:r,max:l}=this;const c=d=>r=e?r:d,h=d=>l=s?l:d;if(t){const d=In(r),f=In(l);d<0&&f<0?h(0):d>0&&f>0&&c(0)}if(r===l){let d=l===0?1:Math.abs(l*.05);h(l+d),t||c(r-d)}this.min=r,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},l=this._range||this,c=VR(r,l);return t.bounds==="ticks"&&qO(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-e)/Math.max(t.length-1,1)/2;e-=r,s+=r}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return ff(t,this.chart.options.locale,this.options.ticks.format)}}class YR extends FR{static id="linear";static defaults={ticks:{callback:b_.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Be(t)?t:0,this.max=Be(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=fi(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,l.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const jc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qe=Object.keys(jc);function Tb(i,t){return i-t}function Ob(i,t){if(Bt(t))return null;const e=i._adapter,{parser:s,round:r,isoWeekday:l}=i._parseOpts;let c=t;return typeof s=="function"&&(c=s(c)),Be(c)||(c=typeof s=="string"?e.parse(c,s):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(eo(l)||l===!0)?e.startOf(c,"isoWeek",l):e.startOf(c,r)),+c)}function Ab(i,t,e,s){const r=Qe.length;for(let l=Qe.indexOf(i);l<r-1;++l){const c=jc[Qe[l]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=s)return Qe[l]}return Qe[r-1]}function GR(i,t,e,s,r){for(let l=Qe.length-1;l>=Qe.indexOf(e);l--){const c=Qe[l];if(jc[c].common&&i._adapter.diff(r,s,c)>=t-1)return c}return Qe[e?Qe.indexOf(e):0]}function KR(i){for(let t=Qe.indexOf(i)+1,e=Qe.length;t<e;++t)if(jc[Qe[t]].common)return Qe[t]}function kb(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:s,hi:r}=uf(e,t),l=e[s]>=t?e[s]:e[r];i[l]=!0}}function XR(i,t,e,s){const r=i._adapter,l=+r.startOf(t[0].value,s),c=t[t.length-1].value;let h,d;for(h=l;h<=c;h=+r.add(h,1,s))d=e[h],d>=0&&(t[d].major=!0);return t}function Rb(i,t,e){const s=[],r={},l=t.length;let c,h;for(c=0;c<l;++c)h=t[c],r[h]=c,s.push({value:h,major:!1});return l===0||!e?s:XR(i,s,r,e)}class Cb extends za{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),r=this._adapter=new O2._date(t.adapters.date);r.init(e),Fr(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Ob(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:r,max:l,minDefined:c,maxDefined:h}=this.getUserBounds();function d(f){!c&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!h&&!isNaN(f.max)&&(l=Math.max(l,f.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=Be(r)&&!isNaN(r)?r:+e.startOf(Date.now(),s),l=Be(l)&&!isNaN(l)?l:+e.endOf(Date.now(),s)+1,this.min=Math.min(r,l-1),this.max=Math.max(r+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const l=this.min,c=this.max,h=YO(r,l,c);return this._unit=e.unit||(s.autoSkip?Ab(e.minUnit,this.min,this.max,this._getLabelCapacity(l)):GR(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:KR(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),Rb(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,r,l;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?s=l:s=(l-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Le(e,0,c),s=Le(s,0,c),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,r=this.options,l=r.time,c=l.unit||Ab(l.minUnit,e,s,this._getLabelCapacity(e)),h=Et(r.ticks.stepSize,1),d=c==="week"?l.isoWeekday:!1,f=eo(d)||d===!0,m={};let y=e,b,_;if(f&&(y=+t.startOf(y,"isoWeek",d)),y=+t.startOf(y,f?"day":c),t.diff(s,e,c)>1e5*h)throw new Error(e+" and "+s+" are too far apart with stepSize of "+h+" "+c);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(b=y,_=0;b<s;b=+t.add(b,h,c),_++)kb(m,b,w);return(b===s||r.bounds==="ticks"||_===1)&&kb(m,b,w),Object.keys(m).sort(Tb).map(x=>+x)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,l=this._unit,c=e||r[l];return this._adapter.format(t,c)}_tickFormatFunction(t,e,s,r){const l=this.options,c=l.ticks.callback;if(c)return te(c,[t,e,s],this);const h=l.time.displayFormats,d=this._unit,f=this._majorUnit,m=d&&h[d],y=f&&h[f],b=s[e],_=f&&y&&b&&b.major;return this._adapter.format(t,r||(_?y:m))}generateTickLabels(t){let e,s,r;for(e=0,s=t.length;e<s;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,r=fi(this.isHorizontal()?e.maxRotation:e.minRotation),l=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:s*l+h*c,h:s*c+h*l}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,r=s[e.unit]||s.millisecond,l=this._tickFormatFunction(t,0,Rb(this,[t],this._majorUnit),r),c=this._getLabelSize(l),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,s=r.length;e<s;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const r=this.getLabels();for(e=0,s=r.length;e<s;++e)t.push(Ob(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return p_(t.sort(Tb))}}function Ql(i,t,e){let s=0,r=i.length-1,l,c,h,d;e?(t>=i[s].pos&&t<=i[r].pos&&({lo:s,hi:r}=ks(i,"pos",t)),{pos:l,time:h}=i[s],{pos:c,time:d}=i[r]):(t>=i[s].time&&t<=i[r].time&&({lo:s,hi:r}=ks(i,"time",t)),{time:l,pos:h}=i[s],{time:c,pos:d}=i[r]);const f=c-l;return f?h+(d-h)*(t-l)/f:h}class SM extends Cb{static id="timeseries";static defaults=Cb.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ql(e,this.min),this._tableRange=Ql(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,r=[],l=[];let c,h,d,f,m;for(c=0,h=t.length;c<h;++c)f=t[c],f>=e&&f<=s&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(c=0,h=r.length;c<h;++c)m=r[c+1],d=r[c-1],f=r[c],Math.round((m+d)/2)!==f&&l.push({time:f,pos:c/(h-1)});return l}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((r,l)=>r-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Ql(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return Ql(this._table,s*this._tableRange+this._minPos,!0)}}const J_="label";function Mb(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function WR(i,t){const e=i.options;e&&t&&Object.assign(e,t)}function Z_(i,t){i.labels=t}function tw(i,t,e=J_){const s=[];i.datasets=t.map(r=>{const l=i.datasets.find(c=>c[e]===r[e]);return!l||!r.data||s.includes(l)?{...r}:(s.push(l),Object.assign(l,r),l)})}function QR(i,t=J_){const e={labels:[],datasets:[]};return Z_(e,i.labels),tw(e,i.datasets,t),e}function JR(i,t){const{height:e=150,width:s=300,redraw:r=!1,datasetIdKey:l,type:c,data:h,options:d,plugins:f=[],fallbackContent:m,updateMode:y,...b}=i,_=xt.useRef(null),w=xt.useRef(null),x=()=>{_.current&&(w.current=new Cc(_.current,{type:c,data:QR(h,l),options:d&&{...d},plugins:f}),Mb(t,w.current))},E=()=>{Mb(t,null),w.current&&(w.current.destroy(),w.current=null)};return xt.useEffect(()=>{!r&&w.current&&d&&WR(w.current,d)},[r,d]),xt.useEffect(()=>{!r&&w.current&&Z_(w.current.config.data,h.labels)},[r,h.labels]),xt.useEffect(()=>{!r&&w.current&&h.datasets&&tw(w.current.config.data,h.datasets,l)},[r,h.datasets]),xt.useEffect(()=>{w.current&&(r?(E(),setTimeout(x)):w.current.update(y))},[r,d,h.labels,h.datasets,y]),xt.useEffect(()=>{w.current&&(E(),setTimeout(x))},[c]),xt.useEffect(()=>(x(),()=>E()),[]),M.jsx("canvas",{ref:_,role:"img",height:e,width:s,...b,children:m})}const ZR=xt.forwardRef(JR);function wf(i,t){return Cc.register(t),xt.forwardRef((e,s)=>M.jsx(ZR,{...e,ref:s,type:i}))}const tC=wf("line",T2),eC=wf("bar",S2),nC=wf("doughnut",E2);Cc.register($R,YR,Qk,Mc,iR,MR,HR,RR,qk,xR);const iC=({transactions:i})=>{const t=sO(i),e=aO(i),s={labels:t.map(m=>m.date),datasets:[{label:"Cumulative Net P/L",data:t.map(m=>m.cumulative),borderColor:"#3b82f6",backgroundColor:m=>{const b=m.chart.ctx.createLinearGradient(0,0,0,400);return b.addColorStop(0,"rgba(59, 130, 246, 0.2)"),b.addColorStop(1,"rgba(59, 130, 246, 0)"),b},fill:!0,tension:.4,pointRadius:0,pointHoverRadius:6,pointHoverBackgroundColor:"#3b82f6",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2}]},r=new Map;i.forEach(m=>{const y=co(m),b=r.get(m.date)||0;r.set(m.date,b+y)});const l=Array.from(r.keys()).sort(),c={labels:l,datasets:[{label:"Daily Net P/L",data:l.map(m=>r.get(m)),backgroundColor:l.map(m=>r.get(m)>=0?"#10b981":"#ef4444"),borderRadius:4,borderSkipped:!1}]},h={labels:e.map(m=>m.name),datasets:[{data:e.map(m=>Math.abs(m.value)),backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#6366f1","#14b8a6"],borderWidth:0,hoverOffset:4}]},d={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1e293b",padding:12,cornerRadius:8,titleFont:{size:13,family:"Inter"},bodyFont:{size:13,family:"Inter"},displayColors:!1,titleColor:"#f8fafc",bodyColor:"#e2e8f0",borderColor:"#334155",borderWidth:1,callbacks:{label:m=>{let y=m.dataset.label||"";return y&&(y+=": "),m.parsed.y!==null&&(y+=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(m.parsed.y)),y}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:11,family:"Inter"},color:"#94a3b8"}},y:{grid:{color:"#334155",borderDash:[4,4]},ticks:{font:{size:11,family:"Inter"},color:"#94a3b8"},border:{display:!1}}}},f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,boxWidth:8,font:{size:12,family:"Inter"},color:"#94a3b8",padding:20}},tooltip:{backgroundColor:"#1e293b",padding:12,cornerRadius:8,titleColor:"#f8fafc",bodyColor:"#e2e8f0",borderColor:"#334155",borderWidth:1,callbacks:{label:m=>{let y=m.label||"";return y&&(y+=": "),m.raw!==null&&(y+=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(m.raw)),y}}}}};return i.length===0?null:M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[M.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm border border-dark-700 h-80 transition-all hover:shadow-md bg-dark-800",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Cumulative Performance"}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-500"}),M.jsx("span",{className:"text-xs text-slate-400",children:"Net P/L"})]})]}),M.jsx("div",{className:"h-60",children:M.jsx(tC,{data:s,options:d})})]}),M.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm border border-dark-700 h-80 transition-all hover:shadow-md bg-dark-800",children:[M.jsx("div",{className:"flex justify-between items-center mb-6",children:M.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Daily P/L"})}),M.jsx("div",{className:"h-60",children:M.jsx(eC,{data:c,options:d})})]}),M.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm border border-dark-700 lg:col-span-2 h-80 flex flex-col transition-all hover:shadow-md bg-dark-800",children:[M.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-6",children:"Category Distribution"}),M.jsx("div",{className:"flex-1 relative",children:M.jsx(nC,{data:h,options:f})})]})]})},sC=()=>{const[i,t]=xt.useState(!1),[e,s]=xt.useState("Himu"),[r,l]=xt.useState("Himu1234"),[c,h]=xt.useState(null),d=async f=>{f.preventDefault(),t(!0),h(null);const m=e.includes("@")?e:`${e}@pl.com`;try{const{error:y}=await Dn.auth.signInWithPassword({email:m,password:r});if(y)throw y.message.includes("Email not confirmed")?new Error('Please go to Supabase Dashboard -> Auth -> Users, delete this user, then create it again with "Auto Confirm" checked.'):y}catch(y){h({type:"error",text:y.message})}finally{t(!1)}};return M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-950 p-4 relative overflow-hidden",children:M.jsxs("div",{className:"glass w-full max-w-md p-8 rounded-xl shadow-lg border border-dark-700 relative z-10 bg-dark-800",children:[M.jsxs("div",{className:"flex flex-col items-center mb-8",children:[M.jsx("div",{className:"bg-primary-600 p-3 rounded-lg shadow-md mb-4",children:M.jsx(Zv,{className:"w-8 h-8 text-white"})}),M.jsx("h1",{className:"text-2xl font-bold text-white",children:"Welcome to PL Simple"}),M.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Sign in to access your dashboard"})]}),M.jsxs("form",{onSubmit:d,className:"space-y-5",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Username or Email"}),M.jsxs("div",{className:"relative group",children:[M.jsx(bT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-primary-500 transition-colors"}),M.jsx("input",{type:"text",required:!0,value:e,onChange:f=>s(f.target.value),className:"w-full pl-10 pr-4 py-3 bg-dark-950 border border-dark-700 rounded-lg focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 outline-none transition-all font-medium text-slate-200 placeholder-slate-600",placeholder:"Username or Email"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Password"}),M.jsxs("div",{className:"relative group",children:[M.jsx(pT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-primary-500 transition-colors"}),M.jsx("input",{type:"password",required:!0,value:r,onChange:f=>l(f.target.value),className:"w-full pl-10 pr-4 py-3 bg-dark-950 border border-dark-700 rounded-lg focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 outline-none transition-all font-medium text-slate-200 placeholder-slate-600",placeholder:"",minLength:6})]})]}),c&&M.jsx("div",{className:`p-3 rounded-lg text-sm font-medium animate-fade-in-down ${c.type==="error"?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20"}`,children:c.text}),M.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-3 rounded-lg font-semibold transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:i?M.jsx(Bd,{className:"w-5 h-5 animate-spin"}):M.jsxs(M.Fragment,{children:["Sign In",M.jsx(Jv,{className:"w-4 h-4"})]})})]})]})})};var sc={exports:{}};var aC=sc.exports,Db;function rC(){return Db||(Db=1,(function(i,t){((e,s)=>{i.exports=s()})(aC,function e(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},r,l=!s.document&&!!s.postMessage,c=s.IS_PAPA_WORKER||!1,h={},d=0,f={};function m(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var z=$(k);z.chunkSize=parseInt(z.chunkSize),k.step||k.chunk||(z.chunkSize=null),this._handle=new x(z),(this._handle.streamer=this)._config=z}).call(this,T),this.parseChunk=function(k,z){var X=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<X){let it=this._config.newline;it||(K=this._config.quoteChar||'"',it=this._handle.guessLineEndings(k,K)),k=[...k.split(it).slice(X)].join(it)}this.isFirstChunk&&q(this._config.beforeFirstChunk)&&(K=this._config.beforeFirstChunk(k))!==void 0&&(k=K),this.isFirstChunk=!1,this._halted=!1;var X=this._partialLine+k,K=(this._partialLine="",this._handle.parse(X,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=K.meta.cursor,X=(this._finished||(this._partialLine=X.substring(k-this._baseIndex),this._baseIndex=k),K&&K.data&&(this._rowCount+=K.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)s.postMessage({results:K,workerId:f.WORKER_ID,finished:X});else if(q(this._config.chunk)&&!z){if(this._config.chunk(K,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=K=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(K.data),this._completeResults.errors=this._completeResults.errors.concat(K.errors),this._completeResults.meta=K.meta),this._completed||!X||!q(this._config.complete)||K&&K.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),X||K&&K.meta.paused||this._nextChunk(),K}this._halted=!0},this._sendError=function(k){q(this._config.error)?this._config.error(k):c&&this._config.error&&s.postMessage({workerId:f.WORKER_ID,error:k,finished:!1})}}function y(T){var k;(T=T||{}).chunkSize||(T.chunkSize=f.RemoteChunkSize),m.call(this,T),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),l||(k.onload=Q(this._chunkLoaded,this),k.onerror=Q(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var z,X=this._config.downloadRequestHeaders;for(z in X)k.setRequestHeader(z,X[z])}var K;this._config.chunkSize&&(K=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+K));try{k.send(this._config.downloadRequestBody)}catch(it){this._chunkError(it.message)}l&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(z=>(z=z.getResponseHeader("Content-Range"))!==null?parseInt(z.substring(z.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(z){z=k.statusText||z,this._sendError(new Error(z))}}function b(T){(T=T||{}).chunkSize||(T.chunkSize=f.LocalChunkSize),m.call(this,T);var k,z,X=typeof FileReader<"u";this.stream=function(K){this._input=K,z=K.slice||K.webkitSlice||K.mozSlice,X?((k=new FileReader).onload=Q(this._chunkLoaded,this),k.onerror=Q(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var K=this._input,it=(this._config.chunkSize&&(it=Math.min(this._start+this._config.chunkSize,this._input.size),K=z.call(K,this._start,it)),k.readAsText(K,this._config.encoding));X||this._chunkLoaded({target:{result:it}})},this._chunkLoaded=function(K){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(K.target.result)},this._chunkError=function(){this._sendError(k.error)}}function _(T){var k;m.call(this,T=T||{}),this.stream=function(z){return k=z,this._nextChunk()},this._nextChunk=function(){var z,X;if(!this._finished)return z=this._config.chunkSize,k=z?(X=k.substring(0,z),k.substring(z)):(X=k,""),this._finished=!k,this.parseChunk(X)}}function w(T){m.call(this,T=T||{});var k=[],z=!0,X=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(K){this._input=K,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){X&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):z=!0},this._streamData=Q(function(K){try{k.push(typeof K=="string"?K:K.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(it){this._streamError(it)}},this),this._streamError=Q(function(K){this._streamCleanUp(),this._sendError(K)},this),this._streamEnd=Q(function(){this._streamCleanUp(),X=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(T){var k,z,X,K,it=Math.pow(2,53),dt=-it,ut=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,L=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Y=this,et=0,Z=0,ft=!1,A=!1,H=[],F={data:[],errors:[],meta:{}};function tt(gt){return T.skipEmptyLines==="greedy"?gt.join("").trim()==="":gt.length===1&&gt[0].length===0}function nt(){if(F&&X&&(bt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),X=!1),T.skipEmptyLines&&(F.data=F.data.filter(function(Vt){return!tt(Vt)})),rt()){let Vt=function(oe,Dt){q(T.transformHeader)&&(oe=T.transformHeader(oe,Dt)),H.push(oe)};var vt=Vt;if(F)if(Array.isArray(F.data[0])){for(var gt=0;rt()&&gt<F.data.length;gt++)F.data[gt].forEach(Vt);F.data.splice(0,1)}else F.data.forEach(Vt)}function ht(Vt,oe){for(var Dt=T.header?{}:[],jt=0;jt<Vt.length;jt++){var wt=jt,we=Vt[jt],we=((Mt,Ft)=>(ie=>(T.dynamicTypingFunction&&T.dynamicTyping[ie]===void 0&&(T.dynamicTyping[ie]=T.dynamicTypingFunction(ie)),(T.dynamicTyping[ie]||T.dynamicTyping)===!0))(Mt)?Ft==="true"||Ft==="TRUE"||Ft!=="false"&&Ft!=="FALSE"&&((ie=>{if(ut.test(ie)&&(ie=parseFloat(ie),dt<ie&&ie<it))return 1})(Ft)?parseFloat(Ft):L.test(Ft)?new Date(Ft):Ft===""?null:Ft):Ft)(wt=T.header?jt>=H.length?"__parsed_extra":H[jt]:wt,we=T.transform?T.transform(we,wt):we);wt==="__parsed_extra"?(Dt[wt]=Dt[wt]||[],Dt[wt].push(we)):Dt[wt]=we}return T.header&&(jt>H.length?bt("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+jt,Z+oe):jt<H.length&&bt("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+jt,Z+oe)),Dt}var $t;F&&(T.header||T.dynamicTyping||T.transform)&&($t=1,!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(ht),$t=F.data.length):F.data=ht(F.data,0),T.header&&F.meta&&(F.meta.fields=H),Z+=$t)}function rt(){return T.header&&H.length===0}function bt(gt,ht,$t,vt){gt={type:gt,code:ht,message:$t},vt!==void 0&&(gt.row=vt),F.errors.push(gt)}q(T.step)&&(K=T.step,T.step=function(gt){F=gt,rt()?nt():(nt(),F.data.length!==0&&(et+=gt.data.length,T.preview&&et>T.preview?z.abort():(F.data=F.data[0],K(F,Y))))}),this.parse=function(gt,ht,$t){var vt=T.quoteChar||'"',vt=(T.newline||(T.newline=this.guessLineEndings(gt,vt)),X=!1,T.delimiter?q(T.delimiter)&&(T.delimiter=T.delimiter(gt),F.meta.delimiter=T.delimiter):((vt=((Vt,oe,Dt,jt,wt)=>{var we,Mt,Ft,ie;wt=wt||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var jn=0;jn<wt.length;jn++){for(var cn,Wi=wt[jn],Ut=0,un=0,le=0,Ee=(Ft=void 0,new O({comments:jt,delimiter:Wi,newline:oe,preview:10}).parse(Vt)),Pe=0;Pe<Ee.data.length;Pe++)Dt&&tt(Ee.data[Pe])?le++:(cn=Ee.data[Pe].length,un+=cn,Ft===void 0?Ft=cn:0<cn&&(Ut+=Math.abs(cn-Ft),Ft=cn));0<Ee.data.length&&(un/=Ee.data.length-le),(Mt===void 0||Ut<=Mt)&&(ie===void 0||ie<un)&&1.99<un&&(Mt=Ut,we=Wi,ie=un)}return{successful:!!(T.delimiter=we),bestDelimiter:we}})(gt,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=vt.bestDelimiter:(X=!0,T.delimiter=f.DefaultDelimiter),F.meta.delimiter=T.delimiter),$(T));return T.preview&&T.header&&vt.preview++,k=gt,z=new O(vt),F=z.parse(k,ht,$t),nt(),ft?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return ft},this.pause=function(){ft=!0,z.abort(),k=q(T.chunk)?"":k.substring(z.getCharIndex())},this.resume=function(){Y.streamer._halted?(ft=!1,Y.streamer.parseChunk(k,!0)):setTimeout(Y.resume,3)},this.aborted=function(){return A},this.abort=function(){A=!0,z.abort(),F.meta.aborted=!0,q(T.complete)&&T.complete(F),k=""},this.guessLineEndings=function(Vt,vt){Vt=Vt.substring(0,1048576);var vt=new RegExp(E(vt)+"([^]*?)"+E(vt),"gm"),$t=(Vt=Vt.replace(vt,"")).split("\r"),vt=Vt.split(`
`),Vt=1<vt.length&&vt[0].length<$t[0].length;if($t.length===1||Vt)return`
`;for(var oe=0,Dt=0;Dt<$t.length;Dt++)$t[Dt][0]===`
`&&oe++;return oe>=$t.length/2?`\r
`:"\r"}}function E(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function O(T){var k=(T=T||{}).delimiter,z=T.newline,X=T.comments,K=T.step,it=T.preview,dt=T.fastMode,ut=null,L=!1,Y=T.quoteChar==null?'"':T.quoteChar,et=Y;if(T.escapeChar!==void 0&&(et=T.escapeChar),(typeof k!="string"||-1<f.BAD_DELIMITERS.indexOf(k))&&(k=","),X===k)throw new Error("Comment character same as delimiter");X===!0?X="#":(typeof X!="string"||-1<f.BAD_DELIMITERS.indexOf(X))&&(X=!1),z!==`
`&&z!=="\r"&&z!==`\r
`&&(z=`
`);var Z=0,ft=!1;this.parse=function(A,H,F){if(typeof A!="string")throw new Error("Input must be a string");var tt=A.length,nt=k.length,rt=z.length,bt=X.length,gt=q(K),ht=[],$t=[],vt=[],Vt=Z=0;if(!A)return Ut();if(dt||dt!==!1&&A.indexOf(Y)===-1){for(var oe=A.split(z),Dt=0;Dt<oe.length;Dt++){if(vt=oe[Dt],Z+=vt.length,Dt!==oe.length-1)Z+=z.length;else if(F)return Ut();if(!X||vt.substring(0,bt)!==X){if(gt){if(ht=[],ie(vt.split(k)),un(),ft)return Ut()}else ie(vt.split(k));if(it&&it<=Dt)return ht=ht.slice(0,it),Ut(!0)}}return Ut()}for(var jt=A.indexOf(k,Z),wt=A.indexOf(z,Z),we=new RegExp(E(et)+E(Y),"g"),Mt=A.indexOf(Y,Z);;)if(A[Z]===Y)for(Mt=Z,Z++;;){if((Mt=A.indexOf(Y,Mt+1))===-1)return F||$t.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ht.length,index:Z}),cn();if(Mt===tt-1)return cn(A.substring(Z,Mt).replace(we,Y));if(Y===et&&A[Mt+1]===et)Mt++;else if(Y===et||Mt===0||A[Mt-1]!==et){jt!==-1&&jt<Mt+1&&(jt=A.indexOf(k,Mt+1));var Ft=jn((wt=wt!==-1&&wt<Mt+1?A.indexOf(z,Mt+1):wt)===-1?jt:Math.min(jt,wt));if(A.substr(Mt+1+Ft,nt)===k){vt.push(A.substring(Z,Mt).replace(we,Y)),A[Z=Mt+1+Ft+nt]!==Y&&(Mt=A.indexOf(Y,Z)),jt=A.indexOf(k,Z),wt=A.indexOf(z,Z);break}if(Ft=jn(wt),A.substring(Mt+1+Ft,Mt+1+Ft+rt)===z){if(vt.push(A.substring(Z,Mt).replace(we,Y)),Wi(Mt+1+Ft+rt),jt=A.indexOf(k,Z),Mt=A.indexOf(Y,Z),gt&&(un(),ft))return Ut();if(it&&ht.length>=it)return Ut(!0);break}$t.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ht.length,index:Z}),Mt++}}else if(X&&vt.length===0&&A.substring(Z,Z+bt)===X){if(wt===-1)return Ut();Z=wt+rt,wt=A.indexOf(z,Z),jt=A.indexOf(k,Z)}else if(jt!==-1&&(jt<wt||wt===-1))vt.push(A.substring(Z,jt)),Z=jt+nt,jt=A.indexOf(k,Z);else{if(wt===-1)break;if(vt.push(A.substring(Z,wt)),Wi(wt+rt),gt&&(un(),ft))return Ut();if(it&&ht.length>=it)return Ut(!0)}return cn();function ie(le){ht.push(le),Vt=Z}function jn(le){var Ee=0;return Ee=le!==-1&&(le=A.substring(Mt+1,le))&&le.trim()===""?le.length:Ee}function cn(le){return F||(le===void 0&&(le=A.substring(Z)),vt.push(le),Z=tt,ie(vt),gt&&un()),Ut()}function Wi(le){Z=le,ie(vt),vt=[],wt=A.indexOf(z,Z)}function Ut(le){if(T.header&&!H&&ht.length&&!L){var Ee=ht[0],Pe=Object.create(null),La=new Set(Ee);let Ua=!1;for(let yi=0;yi<Ee.length;yi++){let hn=Ee[yi];if(Pe[hn=q(T.transformHeader)?T.transformHeader(hn,yi):hn]){let Tn,De=Pe[hn];for(;Tn=hn+"_"+De,De++,La.has(Tn););La.add(Tn),Ee[yi]=Tn,Pe[hn]++,Ua=!0,(ut=ut===null?{}:ut)[Tn]=hn}else Pe[hn]=1,Ee[yi]=hn;La.add(hn)}Ua&&console.warn("Duplicate headers found and renamed."),L=!0}return{data:ht,errors:$t,meta:{delimiter:k,linebreak:z,aborted:ft,truncated:!!le,cursor:Vt+(H||0),renamedHeaders:ut}}}function un(){K(Ut()),ht=[],$t=[]}},this.abort=function(){ft=!0},this.getCharIndex=function(){return Z}}function j(T){var k=T.data,z=h[k.workerId],X=!1;if(k.error)z.userError(k.error,k.file);else if(k.results&&k.results.data){var K={abort:function(){X=!0,D(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(q(z.userStep)){for(var it=0;it<k.results.data.length&&(z.userStep({data:k.results.data[it],errors:k.results.errors,meta:k.results.meta},K),!X);it++);delete k.results}else q(z.userChunk)&&(z.userChunk(k.results,K,k.file),delete k.results)}k.finished&&!X&&D(k.workerId,k.results)}function D(T,k){var z=h[T];q(z.userComplete)&&z.userComplete(k),z.terminate(),delete h[T]}function I(){throw new Error("Not implemented.")}function $(T){if(typeof T!="object"||T===null)return T;var k,z=Array.isArray(T)?[]:{};for(k in T)z[k]=$(T[k]);return z}function Q(T,k){return function(){T.apply(k,arguments)}}function q(T){return typeof T=="function"}return f.parse=function(T,k){var z=(k=k||{}).dynamicTyping||!1;if(q(z)&&(k.dynamicTypingFunction=z,z={}),k.dynamicTyping=z,k.transform=!!q(k.transform)&&k.transform,!k.worker||!f.WORKERS_SUPPORTED)return z=null,f.NODE_STREAM_INPUT,typeof T=="string"?(T=(X=>X.charCodeAt(0)!==65279?X:X.slice(1))(T),z=new(k.download?y:_)(k)):T.readable===!0&&q(T.read)&&q(T.on)?z=new w(k):(s.File&&T instanceof File||T instanceof Object)&&(z=new b(k)),z.stream(T);(z=(()=>{var X;return!!f.WORKERS_SUPPORTED&&(X=(()=>{var K=s.URL||s.webkitURL||null,it=e.toString();return f.BLOB_URL||(f.BLOB_URL=K.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",it,")();"],{type:"text/javascript"})))})(),(X=new s.Worker(X)).onmessage=j,X.id=d++,h[X.id]=X)})()).userStep=k.step,z.userChunk=k.chunk,z.userComplete=k.complete,z.userError=k.error,k.step=q(k.step),k.chunk=q(k.chunk),k.complete=q(k.complete),k.error=q(k.error),delete k.worker,z.postMessage({input:T,config:k,workerId:z.id})},f.unparse=function(T,k){var z=!1,X=!0,K=",",it=`\r
`,dt='"',ut=dt+dt,L=!1,Y=null,et=!1,Z=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||f.BAD_DELIMITERS.filter(function(H){return k.delimiter.indexOf(H)!==-1}).length||(K=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(z=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(L=k.skipEmptyLines),typeof k.newline=="string"&&(it=k.newline),typeof k.quoteChar=="string"&&(dt=k.quoteChar),typeof k.header=="boolean"&&(X=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");Y=k.columns}k.escapeChar!==void 0&&(ut=k.escapeChar+dt),k.escapeFormulae instanceof RegExp?et=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(et=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(dt),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return ft(null,T,L);if(typeof T[0]=="object")return ft(Y||Object.keys(T[0]),T,L)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||Y),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),ft(T.fields||[],T.data||[],L);throw new Error("Unable to serialize unrecognized input");function ft(H,F,tt){var nt="",rt=(typeof H=="string"&&(H=JSON.parse(H)),typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(H)&&0<H.length),bt=!Array.isArray(F[0]);if(rt&&X){for(var gt=0;gt<H.length;gt++)0<gt&&(nt+=K),nt+=A(H[gt],gt);0<F.length&&(nt+=it)}for(var ht=0;ht<F.length;ht++){var $t=(rt?H:F[ht]).length,vt=!1,Vt=rt?Object.keys(F[ht]).length===0:F[ht].length===0;if(tt&&!rt&&(vt=tt==="greedy"?F[ht].join("").trim()==="":F[ht].length===1&&F[ht][0].length===0),tt==="greedy"&&rt){for(var oe=[],Dt=0;Dt<$t;Dt++){var jt=bt?H[Dt]:Dt;oe.push(F[ht][jt])}vt=oe.join("").trim()===""}if(!vt){for(var wt=0;wt<$t;wt++){0<wt&&!Vt&&(nt+=K);var we=rt&&bt?H[wt]:wt;nt+=A(F[ht][we],wt)}ht<F.length-1&&(!tt||0<$t&&!Vt)&&(nt+=it)}}return nt}function A(H,F){var tt,nt;return H==null?"":H.constructor===Date?JSON.stringify(H).slice(1,25):(nt=!1,et&&typeof H=="string"&&et.test(H)&&(H="'"+H,nt=!0),tt=H.toString().replace(Z,ut),(nt=nt||z===!0||typeof z=="function"&&z(H,F)||Array.isArray(z)&&z[F]||((rt,bt)=>{for(var gt=0;gt<bt.length;gt++)if(-1<rt.indexOf(bt[gt]))return!0;return!1})(tt,f.BAD_DELIMITERS)||-1<tt.indexOf(K)||tt.charAt(0)===" "||tt.charAt(tt.length-1)===" ")?dt+tt+dt:tt)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!l&&!!s.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=O,f.ParserHandle=x,f.NetworkStreamer=y,f.FileStreamer=b,f.StringStreamer=_,f.ReadableStreamStreamer=w,s.jQuery&&((r=s.jQuery).fn.parse=function(T){var k=T.config||{},z=[];return this.each(function(it){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var dt=0;dt<this.files.length;dt++)z.push({file:this.files[dt],inputElem:this,instanceConfig:r.extend({},k)})}),X(),this;function X(){if(z.length===0)q(T.complete)&&T.complete();else{var it,dt,ut,L,Y=z[0];if(q(T.before)){var et=T.before(Y.file,Y.inputElem);if(typeof et=="object"){if(et.action==="abort")return it="AbortError",dt=Y.file,ut=Y.inputElem,L=et.reason,void(q(T.error)&&T.error({name:it},dt,ut,L));if(et.action==="skip")return void K();typeof et.config=="object"&&(Y.instanceConfig=r.extend(Y.instanceConfig,et.config))}else if(et==="skip")return void K()}var Z=Y.instanceConfig.complete;Y.instanceConfig.complete=function(ft){q(Z)&&Z(ft,Y.file,Y.inputElem),K()},f.parse(Y.file,Y.instanceConfig)}}function K(){z.splice(0,1),X()}}),c&&(s.onmessage=function(T){T=T.data,f.WORKER_ID===void 0&&T&&(f.WORKER_ID=T.workerId),typeof T.input=="string"?s.postMessage({workerId:f.WORKER_ID,results:f.parse(T.input,T.config),finished:!0}):(s.File&&T.input instanceof File||T.input instanceof Object)&&(T=f.parse(T.input,T.config))&&s.postMessage({workerId:f.WORKER_ID,results:T,finished:!0})}),(y.prototype=Object.create(m.prototype)).constructor=y,(b.prototype=Object.create(m.prototype)).constructor=b,(_.prototype=Object.create(_.prototype)).constructor=_,(w.prototype=Object.create(m.prototype)).constructor=w,f})})(sc)),sc.exports}var oC=rC();const jb=Nb(oC);function lC(){const[i,t]=xt.useState(null),[e,s]=xt.useState(!0),[r,l]=xt.useState(!1);xt.useEffect(()=>{Dn.auth.getSession().then(({data:{session:X}})=>{t(X),s(!1)});const{data:{subscription:z}}=Dn.auth.onAuthStateChange((X,K)=>{t(K)});return()=>z.unsubscribe()},[]);const{transactions:c,loading:h,addTransaction:d,updateTransaction:f,deleteTransaction:m,importTransactions:y}=PE(),[b,_]=xt.useState(!1),[w,x]=xt.useState(void 0),[E,O]=xt.useState("30days"),[j,D]=xt.useState(""),I=xt.useMemo(()=>iO(c,E),[c,E]),$=xt.useMemo(()=>I.filter(z=>z.description?.toLowerCase().includes(j.toLowerCase())||z.category?.toLowerCase().includes(j.toLowerCase())),[I,j]),Q=xt.useMemo(()=>nO($),[$]),q=()=>{const z=jb.unparse(c),X=new Blob([z],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),it=URL.createObjectURL(X);K.setAttribute("href",it),K.setAttribute("download","pl_data.csv"),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)},T=z=>{const X=z.target.files?.[0];X&&jb.parse(X,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:K=>{const it=K.data.filter(dt=>dt.date&&dt.amount).map(dt=>({...dt,date:dt.date,amount:Number(dt.amount),type:dt.type||(Number(dt.amount)>=0?"Profit":"Loss")}));y(it)}})},k=async()=>{await Dn.auth.signOut()};return e?M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-950",children:M.jsx(Bd,{className:"w-8 h-8 animate-spin text-primary-500"})}):i?M.jsxs("div",{className:"min-h-screen font-sans text-slate-200 pb-20 selection:bg-primary-500/30 bg-dark-950",children:[M.jsxs("nav",{className:"sticky top-0 z-50 bg-dark-800 border-b border-dark-700 shadow-sm",children:[M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex justify-between h-16 items-center",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"bg-primary-600 p-2 rounded-lg shadow-md",children:M.jsx(Zv,{className:"w-6 h-6 text-white"})}),M.jsx("span",{className:"text-xl font-bold text-white tracking-tight",children:"PL Simple"})]}),M.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[M.jsxs("label",{className:"cursor-pointer p-2 rounded-lg hover:bg-dark-700 text-slate-400 hover:text-white transition-colors",title:"Import CSV",children:[M.jsx(ly,{className:"w-5 h-5"}),M.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:T})]}),M.jsx("button",{onClick:q,className:"p-2 rounded-lg hover:bg-dark-700 text-slate-400 hover:text-white transition-colors",title:"Export CSV",children:M.jsx(ay,{className:"w-5 h-5"})}),M.jsx("button",{onClick:k,className:"p-2 rounded-lg hover:bg-dark-700 text-slate-400 hover:text-white transition-colors",title:"Sign Out",children:M.jsx(ry,{className:"w-5 h-5"})}),M.jsx("div",{className:"h-6 w-px bg-dark-700 mx-1"}),M.jsxs("button",{onClick:()=>{x(void 0),_(!b)},className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all shadow-sm flex items-center gap-2 ${b?"bg-dark-700 text-white hover:bg-dark-600":"bg-primary-600 text-white hover:bg-primary-700 hover:shadow-md"}`,children:[M.jsx(oy,{className:"w-4 h-4"}),b?"Cancel":"Add Entry"]})]}),M.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[M.jsx("button",{onClick:()=>{x(void 0),_(!b)},className:`p-2 rounded-lg transition-colors ${b?"bg-dark-700 text-white":"text-primary-500"}`,children:M.jsx(oy,{className:"w-6 h-6"})}),M.jsx("button",{onClick:()=>l(!r),className:"p-2 rounded-lg text-slate-400 hover:text-white",children:r?M.jsx(n_,{className:"w-6 h-6"}):M.jsx(_T,{className:"w-6 h-6"})})]})]})}),r&&M.jsx("div",{className:"md:hidden bg-dark-800 border-t border-dark-700 animate-fade-in-down",children:M.jsxs("div",{className:"px-4 py-3 space-y-2",children:[M.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-dark-700 text-slate-300 cursor-pointer",children:[M.jsx(ly,{className:"w-5 h-5"}),M.jsx("span",{children:"Import CSV"}),M.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:T})]}),M.jsxs("button",{onClick:q,className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-dark-700 text-slate-300 text-left",children:[M.jsx(ay,{className:"w-5 h-5"}),M.jsx("span",{children:"Export CSV"})]}),M.jsxs("button",{onClick:k,className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-dark-700 text-red-400 text-left",children:[M.jsx(ry,{className:"w-5 h-5"}),M.jsx("span",{children:"Sign Out"})]})]})})]}),M.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[M.jsx("div",{className:"animate-fade-in-down",children:M.jsx(NT,{stats:Q})}),M.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 animate-fade-in-up",style:{animationDelay:"0.1s"},children:[M.jsx("div",{className:"bg-dark-800 p-1.5 rounded-lg border border-dark-700 shadow-sm flex items-center gap-1 overflow-x-auto max-w-full no-scrollbar w-full md:w-auto",children:["7days","30days","90days","year","all"].map(z=>M.jsx("button",{onClick:()=>O(z),className:`px-4 py-2 rounded-md text-xs font-semibold whitespace-nowrap transition-all flex-1 md:flex-none ${E===z?"bg-dark-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-dark-700"}`,children:z==="7days"?"7 Days":z==="30days"?"30 Days":z==="90days"?"90 Days":z==="year"?"This Year":"All Time"},z))}),M.jsxs("div",{className:"relative w-full md:w-72 group",children:[M.jsx(t_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500 w-4 h-4 group-focus-within:text-primary-500 transition-colors"}),M.jsx("input",{type:"text",placeholder:"Search transactions...",value:j,onChange:z=>D(z.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-dark-800 border border-dark-700 rounded-lg text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all"})]})]}),b&&M.jsx("div",{className:"animate-fade-in-down",children:M.jsx(zT,{onSubmit:z=>{w?(f(w.id,z),x(void 0),_(!1)):(d(z),_(!1))},onCancel:()=>{_(!1),x(void 0)},initialData:w})}),M.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.2s"},children:M.jsx(iC,{transactions:$})}),M.jsxs("div",{className:"mt-12 animate-fade-in-up",style:{animationDelay:"0.3s"},children:[M.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[M.jsx("div",{className:"p-2 bg-dark-800 rounded-lg border border-dark-700",children:M.jsx(dT,{className:"w-5 h-5 text-primary-500"})}),M.jsx("h3",{className:"text-lg font-bold text-white",children:"Recent Transactions"})]}),h?M.jsxs("div",{className:"text-center py-12",children:[M.jsx(Bd,{className:"w-8 h-8 animate-spin text-primary-500 mx-auto"}),M.jsx("p",{className:"text-slate-400 mt-2",children:"Loading transactions..."})]}):M.jsx(rO,{transactions:$,onEdit:z=>{x(z),_(!0),window.scrollTo({top:0,behavior:"smooth"})},onDelete:m})]})]})]}):M.jsx(sC,{})}Ax.createRoot(document.getElementById("root")).render(M.jsx(xt.StrictMode,{children:M.jsx(lC,{})}));
